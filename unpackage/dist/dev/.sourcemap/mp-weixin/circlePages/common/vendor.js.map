{"version":3,"sources":["uni-app:///common/COS.js","uni-app:///common/cos-wx-sdk-v5.js","uni-app:///D:/CoreApplication/Work/HBuilderX.3.8.4.20230531/HBuilderX/plugins/uniapp-cli/node_modules/webpack/buildin/module.js","uni-app:///common/bundle.js"],"names":["COS","require","uploadFileToTencentClound","filename","filePath","config","Bucket","Region","cos","SecretId","SecretKey","putBucket","err","data","console","log","Promise","resolve","reject","postObject","Key","FilePath","onProgress","info","JSON","stringify","Location","webpackUniversalModuleDefinition","root","factory","exports","module","define","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","md5","CryptoJS","xml2json","json2xml","base64","camSafeUrlEncode","str","encodeURIComponent","replace","getAuth","opt","KeyTime","method","Method","toLowerCase","queryParams","clone","Query","params","headers","Headers","pathname","Pathname","error","getObjectKeys","obj","list","key","push","sort","a","b","obj2str","val","keyList","length","undefined","join","now","Math","round","getSkewTime","SystemClockOffset","exp","Expires","expires","qSignAlgorithm","qAk","qSignTime","qKeyTime","qHeaderList","qUrlParamList","signKey","HmacSHA1","toString","formatString","stringToSign","SHA1","qSignature","authorization","noop","clearKey","retObj","readAsBinaryString","blob","callback","readFun","fr","FileReader","onload","result","readAsArrayBuffer","fileData","binary","pt","reader","e","bytes","Uint8Array","byteLength","String","fromCharCode","getFileMd5","content","hash","map","v","extend","target","source","each","isArray","arr","Array","isInArray","item","flag","makeArray","fn","filter","iaArr","binaryBase64","len","char","res","parseInt","btoa","uuid","S4","random","substring","hasMissingParams","apiName","indexOf","formatParams","headerMap","util","paramKey","headerKey","apiWrapper","apiFn","formatResult","VersionId","DeleteMarker","_callback","missingResult","test","options","CompatibilityMode","warn","AppId","throttleOnProgress","total","self","size0","size1","time0","Date","time1","timer","update","clearTimeout","speed","max","percent","loaded","immediately","ProgressInterval","setTimeout","getFileSize","api","size","Body","Blob","type","ContentLength","offset","isBrowser","fileSlice","file","start","end","slice","mozSlice","webkitSlice","getFileUUID","ChunkSize","lastModifiedDate","getBodyMd5","UploadCheckContentMd5","Base64","global","_Base64","version","buffer","b64chars","b64tab","bin","t","charAt","cb_utob","cc","charCodeAt","re_utob","utob","u","cb_encode","ccc","padlen","ord","chars","_encode","constructor","encode","urisafe","m0","encodeURI","re_btou","RegExp","cb_btou","cccc","cp","btou","cb_decode","atob","_decode","decode","noConflict","VERSION","fromBase64","toBase64","copy","src","dest","_extends","Class","Super","create","ppt","__proto__","htmlns","NodeType","ELEMENT_NODE","ATTRIBUTE_NODE","TEXT_NODE","CDATA_SECTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","NOTATION_NODE","ExceptionCode","ExceptionMessage","INDEX_SIZE_ERR","DOMSTRING_SIZE_ERR","HIERARCHY_REQUEST_ERR","WRONG_DOCUMENT_ERR","INVALID_CHARACTER_ERR","NO_DATA_ALLOWED_ERR","NO_MODIFICATION_ALLOWED_ERR","NOT_FOUND_ERR","NOT_SUPPORTED_ERR","INUSE_ATTRIBUTE_ERR","INVALID_STATE_ERR","SYNTAX_ERR","INVALID_MODIFICATION_ERR","NAMESPACE_ERR","INVALID_ACCESS_ERR","DOMException","code","message","Error","captureStackTrace","NodeList","index","isHTML","nodeFilter","buf","serializeToString","LiveNodeList","node","refresh","_node","_refresh","_updateLiveList","inc","_inc","ownerDocument","ls","__set__","NamedNodeMap","_findNodeIndex","_addNamedNode","el","newAttr","oldAttr","ownerElement","doc","_onRemoveAttribute","_onAddAttribute","_removeNamedNode","attr","lastIndex","tagName","getNamedItem","nodeName","setNamedItem","_ownerElement","setNamedItemNS","getNamedItemNS","namespaceURI","localName","removeNamedItem","removeNamedItemNS","DOMImplementation","features","_features","feature","hasFeature","versions","createDocument","qualifiedName","doctype","Document","implementation","childNodes","appendChild","createElementNS","createDocumentType","publicId","systemId","DocumentType","Node","firstChild","lastChild","previousSibling","nextSibling","attributes","parentNode","nodeValue","prefix","insertBefore","newChild","refChild","_insertBefore","replaceChild","oldChild","removeChild","_removeChild","hasChildNodes","cloneNode","deep","normalize","child","next","nodeType","appendData","isSupported","hasAttributes","lookupPrefix","_nsMap","lookupNamespaceURI","isDefaultNamespace","_xmlEncoder","_visitNode","ns","remove","_onUpdateChild","cs","previous","nextChild","newFirst","newLast","pre","_appendSingleChild","documentElement","importNode","importedNode","getElementById","id","rtv","getAttribute","createElement","Element","attrs","createDocumentFragment","DocumentFragment","createTextNode","Text","createComment","Comment","createCDATASection","CDATASection","createProcessingInstruction","ProcessingInstruction","createAttribute","Attr","specified","createEntityReference","EntityReference","pl","split","createAttributeNS","hasAttribute","getAttributeNode","setAttribute","setAttributeNode","removeAttribute","removeAttributeNode","setAttributeNodeNS","removeAttributeNS","old","getAttributeNodeNS","hasAttributeNS","getAttributeNS","setAttributeNS","getElementsByTagName","base","getElementsByTagNameNS","CharacterData","substringData","count","text","insertData","replaceData","deleteData","splitText","newText","newNode","Notation","Entity","XMLSerializer","isHtml","nodeSerializeToString","refNode","uri","visibleNamespaces","namespace","needNamespaceDefine","startVisibleNamespaces","pubid","sysid","sub","internalSubset","node2","attrs2","getTextContent","$$length","set","initEvent","listeners","getList","action","on","off","splice","emit","cb","EventProxy","init","event","task","advance","defaultOptions","XCosSecurityToken","ChunkRetryTimes","FileParallelLimit","ChunkParallelLimit","CopyChunkParallelLimit","CopyChunkSize","CopySliceSize","MaxPartNumber","min","Timeout","getAuthorization","g","lib","k","Base","mixIn","$super","apply","arguments","WordArray","words","sigBytes","concat","q","f","clamp","ceil","enc","Hex","parse","substr","j","Latin1","h","Utf8","decodeURIComponent","escape","unescape","r","BufferedBlockAlgorithm","reset","_data","_nDataBytes","_append","_process","blockSize","_minBufferSize","_doProcessBlock","Hasher","cfg","_doReset","finalize","_doFinalize","_createHelper","_createHmacHelper","HMAC","algo","_hash","floor","_hasher","_oKey","_iKey","C","C_lib","C_enc","wordArray","_map","base64Chars","byte1","byte2","byte3","triplet","paddingChar","base64Str","base64StrLength","paddingIndex","nBytes","bits1","bits2","element_start_char","element_non_start_char","element_replace","not_safe_in_xml","objKeys","process_to_xml","node_data","makeNode","level","hasSubNodes","indent_value","indent","prettyPrint","removeIllegalNameCharacters","node_descriptor","ret","toJSON","nodes","esc","xml_header","standalone","xmlHeader","xmlheader","docType","string","RotateLeft","lValue","iShiftBits","AddUnsigned","lX","lY","lX4","lY4","lX8","lY8","lResult","F","x","y","z","G","H","I","FF","ac","GG","HH","II","ConvertToWordArray","lWordCount","lMessageLength","lNumberOfWords_temp1","lNumberOfWords_temp2","lNumberOfWords","lWordArray","lBytePosition","lByteCount","WordToHex","WordToHexValue","WordToHexValue_temp","lByte","lCount","Utf8Encode","utftext","AA","BB","CC","DD","S11","S12","S13","S14","S21","S22","S23","S24","S31","S32","S33","S34","S41","S42","S43","S44","temp","keys","request","url","requestTask","response","statusCode","header","fileKey","match","pathStyle","formData","Authorization","headerKeys","acl","responseHeader","wx","uploadFile","success","fail","errMsg","onHeadersReceived","onProgressUpdate","totalBytesSent","totalBytesExpectedToSend","progress","qsStr","qs","dataType","body","DOMParser","x2js","initConfigDefaults","initRequiredPolyfills","escapeMode","attributePrefix","arrayAccessForm","emptyNodeForm","enableToStringFunc","arrayAccessFormPaths","skipEmptyTextNodesForObj","stripWhitespaces","datetimeAccessFormPaths","useDoubleQuotes","xmlElementsFilter","jsonPropertiesFilter","keepCData","DOMNodeTypes","getNodeLocalName","nodeLocalName","baseName","getNodePrefix","escapeXmlChars","unescapeXmlChars","checkInStdFiltersArrayForm","stdFiltersArrayForm","path","idx","filterPath","toArrayAccessForm","childName","fromXmlDateTime","prop","bits","secondBits","setHours","setMilliseconds","offsetMinutes","Number","sign","setMinutes","getMinutes","getTimezoneOffset","UTC","getFullYear","getMonth","getDate","getHours","getSeconds","getMilliseconds","checkFromXmlDateTimePaths","fullPath","checkXmlElementsFilter","childType","childPath","parseDOMChildren","nodeChildren","cidx","__cnt","aidx","nodePrefix","__prefix","__text","trim","__cdata","startTag","jsonObj","element","attrList","closed","resultStr","attrName","attrVal","endTag","elementName","endsWith","suffix","jsonXmlSpecialElem","jsonObjField","Function","jsonXmlElemCount","elementsCnt","it","checkJsonObjPropertiesFilter","propertyName","jsonObjPath","parseJSONAttributes","ait","parseJSONTextAttrs","jsonTxtObj","parseJSONTextObject","getJsonPropertyPath","jsonPropName","parseJSONArray","jsonArrRoot","jsonArrObj","arIdx","parseJSONObject","subObj","toISOString","subObjElementsCnt","parseXmlString","xmlDocStr","isIEParser","xmlDoc","parser","parsererrorNS","parseFromString","ActiveXObject","async","loadXML","asArray","toXmlDateTime","dt","asDateTime","xml_str2json","json2xml_str","getVersion","x2jsObj","html","locator","mimeType","sax","XMLReader","domBuilder","DOMHandler","errorHandler","defaultNSMap","xmlns","entityMap","setDocumentLocator","buildErrorHandler","nbsp","xml","errorImpl","isCallback","build","msg","_locator","cdata","position","lineNumber","columnNumber","startDocument","documentURI","startElement","qName","appendElement","currentElement","getURI","getValue","getQName","getLocator","endElement","current","startPrefixMapping","endPrefixMapping","processingInstruction","ins","ignorableWhitespace","ch","characters","_toString","charNode","skippedEntity","endDocument","comment","comm","startCDATA","endCDATA","startDTD","impl","warning","fatalError","java","lang","hander","nameStartChar","nameChar","tagNamePattern","S_TAG","S_ATTR","S_ATTR_SPACE","S_EQ","S_ATTR_NOQUOT_VALUE","S_ATTR_END","S_TAG_SPACE","S_TAG_CLOSE","_copy","defaultNSMapCopy","fixedFromCharCode","surrogate1","surrogate2","entityReplacer","appendText","xt","lineEnd","linePattern","exec","lineStart","parseStack","currentNSMap","closeMap","tagStart","pop","localNSMap","endMatch","endIgnoreCaseMach","parseInstruction","parseDCC","ElementAttributes","parseElementStartPart","fixSelfClosed","locator2","copyLocator","parseHtmlSpecialContent","add","setTagName","nsp","nsPrefix","elStartEnd","elEndStart","pos","lastIndexOf","matchs","lastMatch","endDTD","getLocalName","_set_proto_","thiz","parent","reg","Async","abortUploadTask","UploadId","Level","AsyncLimit","ep","errData","AbortArray","abortUploadTaskArray","wholeMultipartList","UploadList","resultList","eachLimit","AbortItem","eachIndex","KeyNotMatch","UploadID","multipartAbort","successList","errorList","sendParams","Prefix","multipartList","Upload","IsTruncated","KeyMarker","NextKeyMarker","UploadIdMarker","NextUploadIdMarker","sliceCopyFile","CopySource","SourceBucket","SourceRegion","SourceKey","SliceSize","ChunkParallel","FinishSize","FileSize","UploadData","multipartComplete","Parts","PartList","SliceItem","asyncCallback","PartNumber","CopySourceRange","currentSize","preAddSize","copySliceItem","ETag","SourceHeaders","SIZE","AutoChunkSize","ChunkCount","partNumber","TargetHeader","multipartInit","headObject","ErrorStatus","putObjectCopy","resHeaders","metaPrefix","TaskId","retry","tryCallback","uploadPartCopy","API_MAP","limit","iterator","completed","started","running","replenish","times","REQUEST","getService","protocol","domain","ServiceDomain","appId","region","submitRequest","Action","buckets","ListAllMyBucketsResult","Buckets","owner","Owner","headBucket","getBucket","reqParams","ResourceKey","ListBucketResult","Contents","CommonPrefixes","getUrl","Domain","bucket","isLocation","deleteBucket","getBucketAcl","AccessControlPolicy","Grant","AccessControlList","decodeAcl","ACL","Grants","putBucketAcl","uniqGrant","getBucketCors","Code","CORSRules","CORSConfiguration","CORSRule","rule","sKey","putBucketCors","deleteBucketCors","putBucketPolicy","Policy","PolicyStr","json","deleteBucketPolicy","getBucketLocation","getBucketPolicy","rawBody","getBucketTagging","Tags","Tagging","TagSet","Tag","putBucketTagging","deleteBucketTagging","putBucketLifecycle","LifecycleConfiguration","Rules","Rule","getBucketLifecycle","deleteBucketLifecycle","putBucketVersioning","VersioningConfiguration","getBucketVersioning","putBucketReplication","ReplicationConfiguration","getBucketReplication","deleteBucketReplication","NotModified","etag","Etag","listObjectVersions","ListVersionsResult","DeleteMarkers","Versions","Version","getObject","putObject","ForcePathStyle","Protocol","deleteObject","BucketNotFound","getObjectAcl","putObjectAcl","optionsObject","OptionsForbidden","AccessControlAllowOrigin","AccessControlAllowMethods","AccessControlAllowHeaders","AccessControlExposeHeaders","AccessControlMaxAge","Scope","CopyObjectResult","uploadId","CopyPartResult","deleteMultipleObject","Objects","Quiet","Delete","DeleteResult","Deleted","Errors","restoreObject","RestoreRequest","InitiateMultipartUploadResult","multipartUpload","CompleteMultipartUpload","Part","CompleteMultipartUploadResult","ListMultipartUploadsResult","multipartListPart","ListPartsResult","getObjectUrl","Sign","Url","AuthData","getAuthorizationAsync","toUpperCase","signUrl","ClientIP","ClientUA","Token","GrantFullControl","GrantWrite","GrantRead","GrantReadAcp","GrantWriteAcp","GrantMap","PublicAcl","READ","WRITE","FULL_CONTROL","Grantee","ID","URI","Permission","exist","longBucket","shortBucket","formatAllow","auth","KeyName","StsData","ScopeKey","_StsCache","compareTime","StartTime","ExpiredTime","ScopeLimit","calcAuthByTmpKey","TmpSecretId","TmpSecretKey","getSTS","allowRetry","isTimeError","serverDate","date","errorCode","errorMessage","Message","serverTime","CorrectClockSkew","abs","versionId","tryIndex","oldClockOffset","_submitRequest","_isRunningTask","sender","hasReturned","killTask","jsonRes","statusSuccess","abort","transferToTaskMethod","originApiMap","apiMap","SkipTask","_addTask","initTask","queue","tasks","uploadingFileCount","nextUploadIndex","formatTask","state","hashPercent","emitListUpdate","clearQueue","UploadQueueSize","startNextTask","apiParams","switchToState","waiting","pipe","toState","_addTasks","taskList","ignoreAddEvent","TaskReady","onHashProgress","getTaskList","cancelTask","pauseTask","restartTask","base64map","Crypto","rotl","rotr","endian","randomBytes","stringToBytes","bytesToString","stringToWords","bytesToWords","wordsToBytes","bytesToHex","hex","hexToBytes","bytesToBase64","overflow","base64ToBytes","mode","hasher","_blocksize","asBytes","okey","ikey","hmacbytes","asString","digestbytes","_sha1","w","H0","H1","H2","H3","H4","_keyStr","input","output","chr1","chr2","chr3","enc1","enc2","enc3","enc4","_utf8_encode","isNaN","_utf8_decode","c1","c2","c3"],"mappings":"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","file":"circlePages/common/vendor.js","sourcesContent":["const COS=require(\"./cos-wx-sdk-v5.js\")\r\n\r\n\r\n//上传图片到腾讯云\r\nfunction uploadFileToTencentClound(filename,filePath,config){\r\n\t\r\n\t\r\n\tconst Bucket=config.Bucket;//存储桶的名称，命名规则为 BucketName-APPID，此处填写的存储桶名称必须为此格式\r\n\tconst Region=config.Region;//存储桶所在地域\r\n\t//创建一个 COS SDK 实例\r\n\t// SECRETID 和 SECRETKEY请登录 https://console.cloud.tencent.com/cam/capi 进行查看和管理\r\n\tconst cos = new COS({\r\n\t  SecretId: config.SecretId,\r\n\t  SecretKey:config.SecretKey,\r\n\t});\r\n\t//创建存储桶\r\n\tcos.putBucket({\r\n\t  Bucket:config.Bucket,\r\n\t  Region:config.Region,\r\n\t}, function (err, data) {\r\n\t  console.log(err || data);\r\n\t});\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\treturn new Promise((resolve,reject)=>{\r\n\t\tcos.postObject({\r\n\t\t    Bucket: Bucket,\r\n\t\t    Region: Region,\r\n\t\t    Key: 'wxFile/' + filename,\r\n\t\t    FilePath: filePath,\r\n\t\t    onProgress: function (info) {\r\n\t\t        console.log(\"[cos.postObject-seccess]\",JSON.stringify(info));\r\n\t\t    }      \r\n\t\t}, \r\n\t\tfunction (err, data) {\t\r\n\t\t\tconsole.log(data.Location)\r\n\t\t\tresolve(data.Location)\r\n\t\t})\r\n\t})\r\n}\r\nexport default {\r\n\tuploadFileToTencentClound\r\n}\r\n","(function webpackUniversalModuleDefinition(root, factory) {\r\n\tif(typeof exports === 'object' && typeof module === 'object')\r\n\t\tmodule.exports = factory();\r\n\telse if(typeof define === 'function' && define.amd)\r\n\t\tdefine([], factory);\r\n\telse if(typeof exports === 'object')\r\n\t\texports[\"COS\"] = factory();\r\n\telse\r\n\t\troot[\"COS\"] = factory();\r\n})(this, function() {\r\nreturn /******/ (function(modules) { // webpackBootstrap\r\n/******/ \t// The module cache\r\n/******/ \tvar installedModules = {};\r\n/******/\r\n/******/ \t// The require function\r\n/******/ \tfunction __webpack_require__(moduleId) {\r\n/******/\r\n/******/ \t\t// Check if module is in cache\r\n/******/ \t\tif(installedModules[moduleId]) {\r\n/******/ \t\t\treturn installedModules[moduleId].exports;\r\n/******/ \t\t}\r\n/******/ \t\t// Create a new module (and put it into the cache)\r\n/******/ \t\tvar module = installedModules[moduleId] = {\r\n/******/ \t\t\ti: moduleId,\r\n/******/ \t\t\tl: false,\r\n/******/ \t\t\texports: {}\r\n/******/ \t\t};\r\n/******/\r\n/******/ \t\t// Execute the module function\r\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\r\n/******/\r\n/******/ \t\t// Flag the module as loaded\r\n/******/ \t\tmodule.l = true;\r\n/******/\r\n/******/ \t\t// Return the exports of the module\r\n/******/ \t\treturn module.exports;\r\n/******/ \t}\r\n/******/\r\n/******/\r\n/******/ \t// expose the modules object (__webpack_modules__)\r\n/******/ \t__webpack_require__.m = modules;\r\n/******/\r\n/******/ \t// expose the module cache\r\n/******/ \t__webpack_require__.c = installedModules;\r\n/******/\r\n/******/ \t// identity function for calling harmony imports with the correct context\r\n/******/ \t__webpack_require__.i = function(value) { return value; };\r\n/******/\r\n/******/ \t// define getter function for harmony exports\r\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\r\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\r\n/******/ \t\t\tObject.defineProperty(exports, name, {\r\n/******/ \t\t\t\tconfigurable: false,\r\n/******/ \t\t\t\tenumerable: true,\r\n/******/ \t\t\t\tget: getter\r\n/******/ \t\t\t});\r\n/******/ \t\t}\r\n/******/ \t};\r\n/******/\r\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\r\n/******/ \t__webpack_require__.n = function(module) {\r\n/******/ \t\tvar getter = module && module.__esModule ?\r\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\r\n/******/ \t\t\tfunction getModuleExports() { return module; };\r\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\r\n/******/ \t\treturn getter;\r\n/******/ \t};\r\n/******/\r\n/******/ \t// Object.prototype.hasOwnProperty.call\r\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\r\n/******/\r\n/******/ \t// __webpack_public_path__\r\n/******/ \t__webpack_require__.p = \"D:\\\\code\\\\cos-wx-sdk-v5\\\\demo\\\\lib\";\r\n/******/\r\n/******/ \t// Load entry module and return exports\r\n/******/ \treturn __webpack_require__(__webpack_require__.s = 5);\r\n/******/ })\r\n/************************************************************************/\r\n/******/ ([\r\n/* 0 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nvar md5 = __webpack_require__(8);\r\nvar CryptoJS = __webpack_require__(6);\r\nvar xml2json = __webpack_require__(10);\r\nvar json2xml = __webpack_require__(7);\r\nvar base64 = __webpack_require__(1);\r\n\r\nfunction camSafeUrlEncode(str) {\r\n    return encodeURIComponent(str)\r\n        .replace(/!/g, '%21')\r\n        .replace(/'/g, '%27')\r\n        .replace(/\\(/g, '%28')\r\n        .replace(/\\)/g, '%29')\r\n        .replace(/\\*/g, '%2A');\r\n}\r\n\r\n//测试用的key后面可以去掉\r\nvar getAuth = function (opt) {\r\n    opt = opt || {};\r\n\r\n    var SecretId = opt.SecretId;\r\n    var SecretKey = opt.SecretKey;\r\n    var KeyTime = opt.KeyTime;\r\n    var method = (opt.method || opt.Method || 'get').toLowerCase();\r\n    var queryParams = clone(opt.Query || opt.params || {});\r\n    var headers = clone(opt.Headers || opt.headers || {});\r\n    var pathname = opt.Pathname || '/' + (opt.Key || '');\r\n\r\n    if (!SecretId) return console.error('missing param SecretId');\r\n    if (!SecretKey) return console.error('missing param SecretKey');\r\n\r\n    var getObjectKeys = function (obj) {\r\n        var list = [];\r\n        for (var key in obj) {\r\n            if (obj.hasOwnProperty(key)) {\r\n                list.push(key);\r\n            }\r\n        }\r\n        return list.sort(function (a, b) {\r\n            a = a.toLowerCase();\r\n            b = b.toLowerCase();\r\n            return a === b ? 0 : (a > b ? 1 : -1);\r\n        });\r\n    };\r\n\r\n    var obj2str = function (obj) {\r\n        var i, key, val;\r\n        var list = [];\r\n        var keyList = getObjectKeys(obj);\r\n        for (i = 0; i < keyList.length; i++) {\r\n            key = keyList[i];\r\n            val = (obj[key] === undefined || obj[key] === null) ? '' : ('' + obj[key]);\r\n            key = key.toLowerCase();\r\n            key = camSafeUrlEncode(key);\r\n            val = camSafeUrlEncode(val) || '';\r\n            list.push(key + '=' + val)\r\n        }\r\n        return list.join('&');\r\n    };\r\n\r\n    // 签名有效起止时间\r\n    var now = Math.round(getSkewTime(opt.SystemClockOffset) / 1000) - 1;\r\n    var exp = now;\r\n\r\n    var Expires = opt.Expires || opt.expires;\r\n    if (Expires === undefined) {\r\n        exp += 900; // 签名过期时间为当前 + 900s\r\n    } else {\r\n        exp += (Expires * 1) || 0;\r\n    }\r\n\r\n    // 要用到的 Authorization 参数列表\r\n    var qSignAlgorithm = 'sha1';\r\n    var qAk = SecretId;\r\n    var qSignTime = KeyTime || now + ';' + exp;\r\n    var qKeyTime = KeyTime || now + ';' + exp;\r\n    var qHeaderList = getObjectKeys(headers).join(';').toLowerCase();\r\n    var qUrlParamList = getObjectKeys(queryParams).join(';').toLowerCase();\r\n\r\n    // 签名算法说明文档：https://www.qcloud.com/document/product/436/7778\r\n    // 步骤一：计算 SignKey\r\n    var signKey = CryptoJS.HmacSHA1(qKeyTime, SecretKey).toString();\r\n\r\n    // 步骤二：构成 FormatString\r\n    var formatString = [method, pathname, obj2str(queryParams), obj2str(headers), ''].join('\\n');\r\n\r\n    // 步骤三：计算 StringToSign\r\n    var stringToSign = ['sha1', qSignTime, CryptoJS.SHA1(formatString).toString(), ''].join('\\n');\r\n\r\n    // 步骤四：计算 Signature\r\n    var qSignature = CryptoJS.HmacSHA1(stringToSign, signKey).toString();\r\n\r\n    // 步骤五：构造 Authorization\r\n    var authorization = [\r\n        'q-sign-algorithm=' + qSignAlgorithm,\r\n        'q-ak=' + qAk,\r\n        'q-sign-time=' + qSignTime,\r\n        'q-key-time=' + qKeyTime,\r\n        'q-header-list=' + qHeaderList,\r\n        'q-url-param-list=' + qUrlParamList,\r\n        'q-signature=' + qSignature\r\n    ].join('&');\r\n\r\n    return authorization;\r\n\r\n};\r\n\r\nvar noop = function () {\r\n\r\n};\r\n\r\n// 清除对象里值为的 undefined 或 null 的属性\r\nvar clearKey = function (obj) {\r\n    var retObj = {};\r\n    for (var key in obj) {\r\n        if (obj.hasOwnProperty(key) && obj[key] !== undefined && obj[key] !== null) {\r\n            retObj[key] = obj[key];\r\n        }\r\n    }\r\n    return retObj;\r\n};\r\n\r\nvar readAsBinaryString = function (blob, callback) {\r\n    var readFun;\r\n    var fr = new FileReader();\r\n    if (FileReader.prototype.readAsBinaryString) {\r\n        readFun = FileReader.prototype.readAsBinaryString;\r\n        fr.onload = function () {\r\n            callback(this.result);\r\n        };\r\n    } else if (FileReader.prototype.readAsArrayBuffer) { // 在 ie11 添加 readAsBinaryString 兼容\r\n        readFun = function (fileData) {\r\n            var binary = \"\";\r\n            var pt = this;\r\n            var reader = new FileReader();\r\n            reader.onload = function (e) {\r\n                var bytes = new Uint8Array(reader.result);\r\n                var length = bytes.byteLength;\r\n                for (var i = 0; i < length; i++) {\r\n                    binary += String.fromCharCode(bytes[i]);\r\n                }\r\n                callback(binary);\r\n            };\r\n            reader.readAsArrayBuffer(fileData);\r\n        };\r\n    } else {\r\n        console.error('FileReader not support readAsBinaryString');\r\n    }\r\n    readFun.call(fr, blob);\r\n};\r\n\r\n// 获取文件 md5 值\r\nvar getFileMd5 = function (blob, callback) {\r\n    readAsBinaryString(blob, function (content) {\r\n        var hash = md5(content, true);\r\n        callback(null, hash);\r\n    });\r\n};\r\n\r\nfunction clone(obj) {\r\n    return map(obj, function (v) {\r\n        return typeof v === 'object' ? clone(v) : v;\r\n    });\r\n}\r\n\r\nfunction extend(target, source) {\r\n    each(source, function (val, key) {\r\n        target[key] = source[key];\r\n    });\r\n    return target;\r\n}\r\n\r\nfunction isArray(arr) {\r\n    return arr instanceof Array;\r\n}\r\n\r\nfunction isInArray(arr, item) {\r\n    var flag = false;\r\n    for (var i = 0; i < arr.length; i++) {\r\n        if (item === arr[i]) {\r\n            flag = true;\r\n            break;\r\n        }\r\n    }\r\n    return flag;\r\n}\r\n\r\nfunction makeArray(arr) {\r\n    return isArray(arr) ? arr : [arr];\r\n}\r\n\r\nfunction each(obj, fn) {\r\n    for (var i in obj) {\r\n        if (obj.hasOwnProperty(i)) {\r\n            fn(obj[i], i);\r\n        }\r\n    }\r\n}\r\n\r\nfunction map(obj, fn) {\r\n    var o = isArray(obj) ? [] : {};\r\n    for (var i in obj) {\r\n        if (obj.hasOwnProperty(i)) {\r\n            o[i] = fn(obj[i], i);\r\n        }\r\n    }\r\n    return o;\r\n}\r\n\r\nfunction filter(obj, fn) {\r\n    var iaArr = isArray(obj);\r\n    var o = iaArr ? [] : {};\r\n    for (var i in obj) {\r\n        if (obj.hasOwnProperty(i)) {\r\n            if (fn(obj[i], i)) {\r\n                if (iaArr) {\r\n                    o.push(obj[i]);\r\n                } else {\r\n                    o[i] = obj[i];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return o;\r\n}\r\n\r\nvar binaryBase64 = function (str) {\r\n    var i, len, char, res = '';\r\n    for (i = 0, len = str.length / 2; i < len; i++) {\r\n        char = parseInt(str[i * 2] + str[i * 2 + 1], 16);\r\n        res += String.fromCharCode(char);\r\n    }\r\n    return base64.btoa(res);\r\n};\r\nvar uuid = function () {\r\n    var S4 = function () {\r\n        return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n    };\r\n    return (S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + S4() + S4());\r\n};\r\n\r\nvar hasMissingParams = function (apiName, params) {\r\n    var Bucket = params.Bucket;\r\n    var Region = params.Region;\r\n    var Key = params.Key;\r\n    if (apiName.indexOf('Bucket') > -1 || apiName === 'deleteMultipleObject' || apiName === 'multipartList' || apiName === 'listObjectVersions') {\r\n        if (!Bucket) return 'Bucket';\r\n        if (!Region) return 'Region';\r\n    } else if (apiName.indexOf('Object') > -1 || apiName.indexOf('multipart') > -1 || apiName === 'sliceUploadFile' || apiName === 'abortUploadTask') {\r\n        if (!Bucket) return 'Bucket';\r\n        if (!Region) return 'Region';\r\n        if (!Key) return 'Key';\r\n    }\r\n    return false;\r\n};\r\n\r\nvar formatParams = function (apiName, params) {\r\n\r\n    // 复制参数对象\r\n    params = extend({}, params);\r\n\r\n    // 统一处理 Headers\r\n    if (apiName !== 'getAuth' && apiName !== 'getV4Auth' && apiName !== 'getObjectUrl') {\r\n        var Headers = params.Headers || {};\r\n        if (params && typeof params === 'object') {\r\n            (function () {\r\n                for (var key in params) {\r\n                    if (params.hasOwnProperty(key) && key.indexOf('x-cos-') > -1) {\r\n                        Headers[key] = params[key];\r\n                    }\r\n                }\r\n            })();\r\n\r\n            var headerMap = {\r\n                // params headers\r\n                'x-cos-mfa': 'MFA',\r\n                'Content-MD5': 'ContentMD5',\r\n                'Content-Length': 'ContentLength',\r\n                'Content-Type': 'ContentType',\r\n                'Expect': 'Expect',\r\n                'Expires': 'Expires',\r\n                'Cache-Control': 'CacheControl',\r\n                'Content-Disposition': 'ContentDisposition',\r\n                'Content-Encoding': 'ContentEncoding',\r\n                'Range': 'Range',\r\n                'If-Modified-Since': 'IfModifiedSince',\r\n                'If-Unmodified-Since': 'IfUnmodifiedSince',\r\n                'If-Match': 'IfMatch',\r\n                'If-None-Match': 'IfNoneMatch',\r\n                'x-cos-copy-source': 'CopySource',\r\n                'x-cos-copy-source-Range': 'CopySourceRange',\r\n                'x-cos-metadata-directive': 'MetadataDirective',\r\n                'x-cos-copy-source-If-Modified-Since': 'CopySourceIfModifiedSince',\r\n                'x-cos-copy-source-If-Unmodified-Since': 'CopySourceIfUnmodifiedSince',\r\n                'x-cos-copy-source-If-Match': 'CopySourceIfMatch',\r\n                'x-cos-copy-source-If-None-Match': 'CopySourceIfNoneMatch',\r\n                'x-cos-acl': 'ACL',\r\n                'x-cos-grant-read': 'GrantRead',\r\n                'x-cos-grant-write': 'GrantWrite',\r\n                'x-cos-grant-full-control': 'GrantFullControl',\r\n                'x-cos-grant-read-acp': 'GrantReadAcp',\r\n                'x-cos-grant-write-acp': 'GrantWriteAcp',\r\n                'x-cos-storage-class': 'StorageClass',\r\n                // SSE-C\r\n                'x-cos-server-side-encryption-customer-algorithm': 'SSECustomerAlgorithm',\r\n                'x-cos-server-side-encryption-customer-key': 'SSECustomerKey',\r\n                'x-cos-server-side-encryption-customer-key-MD5': 'SSECustomerKeyMD5',\r\n                // SSE-COS、SSE-KMS\r\n                'x-cos-server-side-encryption': 'ServerSideEncryption',\r\n                'x-cos-server-side-encryption-cos-kms-key-id': 'SSEKMSKeyId',\r\n                'x-cos-server-side-encryption-context': 'SSEContext',\r\n            };\r\n            util.each(headerMap, function (paramKey, headerKey) {\r\n                if (params[paramKey] !== undefined) {\r\n                    Headers[headerKey] = params[paramKey];\r\n                }\r\n            });\r\n\r\n            params.Headers = clearKey(Headers);\r\n        }\r\n    }\r\n\r\n    return params;\r\n};\r\n\r\nvar apiWrapper = function (apiName, apiFn) {\r\n    return function (params, callback) {\r\n\r\n        // 处理参数\r\n        if (typeof params === 'function') {\r\n            callback = params;\r\n            params = {};\r\n        }\r\n\r\n        // 整理参数格式\r\n        params = formatParams(apiName, params);\r\n\r\n        // 代理回调函数\r\n        var formatResult = function (result) {\r\n            if (result && result.headers) {\r\n                result.headers['x-cos-version-id'] && (result.VersionId = result.headers['x-cos-version-id']);\r\n                result.headers['x-cos-delete-marker'] && (result.DeleteMarker = result.headers['x-cos-delete-marker']);\r\n            }\r\n            return result;\r\n        };\r\n        var _callback = function (err, data) {\r\n            callback && callback(formatResult(err), formatResult(data));\r\n        };\r\n\r\n        if (apiName !== 'getService' && apiName !== 'abortUploadTask') {\r\n            // 判断参数是否完整\r\n            var missingResult;\r\n            if (missingResult = hasMissingParams(apiName, params)) {\r\n                _callback({error: 'missing param ' + missingResult});\r\n                return;\r\n            }\r\n            // 判断 region 格式\r\n            if (params.Region) {\r\n                if (params.Region.indexOf('cos.') > -1) {\r\n                    _callback({error: 'param Region should not be start with \"cos.\"'});\r\n                    return;\r\n                } else if (!/^([a-z\\d-]+)$/.test(params.Region)) {\r\n                    _callback({error: 'Region format error.'});\r\n                    return;\r\n                }\r\n                // 判断 region 格式\r\n                if (!this.options.CompatibilityMode && params.Region.indexOf('-') === -1 && params.Region !== 'yfb' && params.Region !== 'default') {\r\n                    console.warn('warning: param Region format error, find help here: https://cloud.tencent.com/document/product/436/6224');\r\n                }\r\n            }\r\n            // 兼容不带 AppId 的 Bucket\r\n            if (params.Bucket) {\r\n                if (!/^([a-z\\d-]+)-(\\d+)$/.test(params.Bucket)) {\r\n                    if (params.AppId) {\r\n                        params.Bucket = params.Bucket + '-' + params.AppId;\r\n                    } else if (this.options.AppId) {\r\n                        params.Bucket = params.Bucket + '-' + this.options.AppId;\r\n                    } else {\r\n                        _callback({error: 'Bucket should format as \"test-1250000000\".'});\r\n                        return;\r\n                    }\r\n                }\r\n                if (params.AppId) {\r\n                    console.warn('warning: AppId has been deprecated, Please put it at the end of parameter Bucket(E.g Bucket:\"test-1250000000\" ).');\r\n                    delete params.AppId;\r\n                }\r\n            }\r\n        }\r\n        var res = apiFn.call(this, params, _callback);\r\n        if (apiName === 'getAuth' || apiName === 'getObjectUrl') {\r\n            return res;\r\n        }\r\n    }\r\n};\r\n\r\nvar throttleOnProgress = function (total, onProgress) {\r\n\r\n    if (!onProgress || typeof onProgress !== 'function') return noop;\r\n    var self = this;\r\n    var size0 = 0;\r\n    var size1 = 0;\r\n    var time0 = Date.now();\r\n    var time1;\r\n    var timer;\r\n\r\n    function update() {\r\n        clearTimeout(timer);\r\n        timer = 0;\r\n        time1 = Date.now();\r\n        var speed = Math.max(0, Math.round((size1 - size0) / ((time1 - time0) / 1000) * 100) / 100);\r\n        var percent;\r\n        if (size1 === 0 && total === 0) {\r\n            percent = 1;\r\n        } else {\r\n            percent = Math.round(size1 / total * 100) / 100 || 0;\r\n        }\r\n        time0 = time1;\r\n        size0 = size1;\r\n        try {\r\n            onProgress({loaded: size1, total: total, speed: speed, percent: percent});\r\n        } catch (e) {\r\n        }\r\n    }\r\n\r\n    return function (info, immediately) {\r\n        if (info) {\r\n            size1 = info.loaded;\r\n            total = info.total;\r\n        }\r\n        if (Date.now() - time0 > self.options.ProgressInterval || immediately) {\r\n            update();\r\n        } else {\r\n            if (timer) return;\r\n            timer = setTimeout(update, self.options.ProgressInterval);\r\n        }\r\n    };\r\n};\r\n\r\nvar getFileSize = function (api, params, callback) {\r\n    var size;\r\n    if (typeof params.Body === 'string') {\r\n        params.Body = new Blob([params.Body], {type: 'text/plain'});\r\n    }\r\n    if ((params.Body && (params.Body instanceof Blob || params.Body.toString() === '[object File]' || params.Body.toString() === '[object Blob]'))) {\r\n        size = params.Body.size;\r\n    } else {\r\n        callback({error: 'params body format error, Only allow File|Blob|String.'});\r\n        return;\r\n    }\r\n    params.ContentLength = size;\r\n    callback(null, size);\r\n};\r\n\r\nvar getSkewTime = function (offset) {\r\n    return Date.now() + (offset || 0);\r\n};\r\n\r\nvar util = {\r\n    noop: noop,\r\n    formatParams: formatParams,\r\n    apiWrapper: apiWrapper,\r\n    xml2json: xml2json,\r\n    json2xml: json2xml,\r\n    md5: md5,\r\n    clearKey: clearKey,\r\n    getFileMd5: getFileMd5,\r\n    binaryBase64: binaryBase64,\r\n    extend: extend,\r\n    isArray: isArray,\r\n    isInArray: isInArray,\r\n    makeArray: makeArray,\r\n    each: each,\r\n    map: map,\r\n    filter: filter,\r\n    clone: clone,\r\n    uuid: uuid,\r\n    camSafeUrlEncode: camSafeUrlEncode,\r\n    throttleOnProgress: throttleOnProgress,\r\n    getFileSize: getFileSize,\r\n    getSkewTime: getSkewTime,\r\n    getAuth: getAuth,\r\n    isBrowser: true,\r\n};\r\n\r\nutil.fileSlice = function (file, start, end) {\r\n    if (file.slice) {\r\n        return file.slice(start, end);\r\n    } else if (file.mozSlice) {\r\n        return file.mozSlice(start, end);\r\n    } else if (file.webkitSlice) {\r\n        return file.webkitSlice(start, end);\r\n    }\r\n};\r\nutil.getFileUUID = function (file, ChunkSize) {\r\n    // 如果信息不完整，不获取\r\n    if (file.name && file.size && file.lastModifiedDate && ChunkSize) {\r\n        return util.md5([file.name, file.size, file.lastModifiedDate, ChunkSize].join('::'));\r\n    } else {\r\n        return null;\r\n    }\r\n};\r\nutil.getBodyMd5 = function (UploadCheckContentMd5, Body, callback) {\r\n    callback = callback || noop;\r\n    if (UploadCheckContentMd5) {\r\n        if (typeof Body === 'string') {\r\n            callback(util.md5(Body, true));\r\n        } else {\r\n            callback();\r\n        }\r\n    } else {\r\n        callback();\r\n    }\r\n};\r\n\r\nmodule.exports = util;\r\n\r\n\r\n/***/ }),\r\n/* 1 */\r\n/***/ (function(module, exports) {\r\n\r\n/*\r\n * $Id: base64.js,v 2.15 2014/04/05 12:58:57 dankogai Exp dankogai $\r\n *\r\n *  Licensed under the BSD 3-Clause License.\r\n *    http://opensource.org/licenses/BSD-3-Clause\r\n *\r\n *  References:\r\n *    http://en.wikipedia.org/wiki/Base64\r\n */\r\n\r\nvar Base64 = (function(global) {\r\n    global = global || {};\r\n    'use strict';\r\n    // existing version for noConflict()\r\n    var _Base64 = global.Base64;\r\n    var version = \"2.1.9\";\r\n    // if node.js, we use Buffer\r\n    var buffer;\r\n    // constants\r\n    var b64chars\r\n        = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\r\n    var b64tab = function(bin) {\r\n        var t = {};\r\n        for (var i = 0, l = bin.length; i < l; i++) t[bin.charAt(i)] = i;\r\n        return t;\r\n    }(b64chars);\r\n    var fromCharCode = String.fromCharCode;\r\n    // encoder stuff\r\n    var cb_utob = function(c) {\r\n        if (c.length < 2) {\r\n            var cc = c.charCodeAt(0);\r\n            return cc < 0x80 ? c\r\n                : cc < 0x800 ? (fromCharCode(0xc0 | (cc >>> 6))\r\n                                + fromCharCode(0x80 | (cc & 0x3f)))\r\n                : (fromCharCode(0xe0 | ((cc >>> 12) & 0x0f))\r\n                   + fromCharCode(0x80 | ((cc >>>  6) & 0x3f))\r\n                   + fromCharCode(0x80 | ( cc         & 0x3f)));\r\n        } else {\r\n            var cc = 0x10000\r\n                + (c.charCodeAt(0) - 0xD800) * 0x400\r\n                + (c.charCodeAt(1) - 0xDC00);\r\n            return (fromCharCode(0xf0 | ((cc >>> 18) & 0x07))\r\n                    + fromCharCode(0x80 | ((cc >>> 12) & 0x3f))\r\n                    + fromCharCode(0x80 | ((cc >>>  6) & 0x3f))\r\n                    + fromCharCode(0x80 | ( cc         & 0x3f)));\r\n        }\r\n    };\r\n    var re_utob = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFFF]|[^\\x00-\\x7F]/g;\r\n    var utob = function(u) {\r\n        return u.replace(re_utob, cb_utob);\r\n    };\r\n    var cb_encode = function(ccc) {\r\n        var padlen = [0, 2, 1][ccc.length % 3],\r\n        ord = ccc.charCodeAt(0) << 16\r\n            | ((ccc.length > 1 ? ccc.charCodeAt(1) : 0) << 8)\r\n            | ((ccc.length > 2 ? ccc.charCodeAt(2) : 0)),\r\n        chars = [\r\n            b64chars.charAt( ord >>> 18),\r\n            b64chars.charAt((ord >>> 12) & 63),\r\n            padlen >= 2 ? '=' : b64chars.charAt((ord >>> 6) & 63),\r\n            padlen >= 1 ? '=' : b64chars.charAt(ord & 63)\r\n        ];\r\n        return chars.join('');\r\n    };\r\n    var btoa = global.btoa ? function(b) {\r\n        return global.btoa(b);\r\n    } : function(b) {\r\n        return b.replace(/[\\s\\S]{1,3}/g, cb_encode);\r\n    };\r\n    var _encode = buffer ? function (u) {\r\n        return (u.constructor === buffer.constructor ? u : new buffer(u))\r\n        .toString('base64')\r\n    }\r\n    : function (u) { return btoa(utob(u)) }\r\n    ;\r\n    var encode = function(u, urisafe) {\r\n        return !urisafe\r\n            ? _encode(String(u))\r\n            : _encode(String(u)).replace(/[+\\/]/g, function(m0) {\r\n                return m0 == '+' ? '-' : '_';\r\n            }).replace(/=/g, '');\r\n    };\r\n    var encodeURI = function(u) { return encode(u, true) };\r\n    // decoder stuff\r\n    var re_btou = new RegExp([\r\n        '[\\xC0-\\xDF][\\x80-\\xBF]',\r\n        '[\\xE0-\\xEF][\\x80-\\xBF]{2}',\r\n        '[\\xF0-\\xF7][\\x80-\\xBF]{3}'\r\n    ].join('|'), 'g');\r\n    var cb_btou = function(cccc) {\r\n        switch(cccc.length) {\r\n        case 4:\r\n            var cp = ((0x07 & cccc.charCodeAt(0)) << 18)\r\n                |    ((0x3f & cccc.charCodeAt(1)) << 12)\r\n                |    ((0x3f & cccc.charCodeAt(2)) <<  6)\r\n                |     (0x3f & cccc.charCodeAt(3)),\r\n            offset = cp - 0x10000;\r\n            return (fromCharCode((offset  >>> 10) + 0xD800)\r\n                    + fromCharCode((offset & 0x3FF) + 0xDC00));\r\n        case 3:\r\n            return fromCharCode(\r\n                ((0x0f & cccc.charCodeAt(0)) << 12)\r\n                    | ((0x3f & cccc.charCodeAt(1)) << 6)\r\n                    |  (0x3f & cccc.charCodeAt(2))\r\n            );\r\n        default:\r\n            return  fromCharCode(\r\n                ((0x1f & cccc.charCodeAt(0)) << 6)\r\n                    |  (0x3f & cccc.charCodeAt(1))\r\n            );\r\n        }\r\n    };\r\n    var btou = function(b) {\r\n        return b.replace(re_btou, cb_btou);\r\n    };\r\n    var cb_decode = function(cccc) {\r\n        var len = cccc.length,\r\n        padlen = len % 4,\r\n        n = (len > 0 ? b64tab[cccc.charAt(0)] << 18 : 0)\r\n            | (len > 1 ? b64tab[cccc.charAt(1)] << 12 : 0)\r\n            | (len > 2 ? b64tab[cccc.charAt(2)] <<  6 : 0)\r\n            | (len > 3 ? b64tab[cccc.charAt(3)]       : 0),\r\n        chars = [\r\n            fromCharCode( n >>> 16),\r\n            fromCharCode((n >>>  8) & 0xff),\r\n            fromCharCode( n         & 0xff)\r\n        ];\r\n        chars.length -= [0, 0, 2, 1][padlen];\r\n        return chars.join('');\r\n    };\r\n    var atob = global.atob ? function(a) {\r\n        return global.atob(a);\r\n    } : function(a){\r\n        return a.replace(/[\\s\\S]{1,4}/g, cb_decode);\r\n    };\r\n    var _decode = buffer ? function(a) {\r\n        return (a.constructor === buffer.constructor\r\n                ? a : new buffer(a, 'base64')).toString();\r\n    }\r\n    : function(a) { return btou(atob(a)) };\r\n    var decode = function(a){\r\n        return _decode(\r\n            String(a).replace(/[-_]/g, function(m0) { return m0 == '-' ? '+' : '/' })\r\n                .replace(/[^A-Za-z0-9\\+\\/]/g, '')\r\n        );\r\n    };\r\n    var noConflict = function() {\r\n        var Base64 = global.Base64;\r\n        global.Base64 = _Base64;\r\n        return Base64;\r\n    };\r\n    // export Base64\r\n    var Base64 = {\r\n        VERSION: version,\r\n        atob: atob,\r\n        btoa: btoa,\r\n        fromBase64: decode,\r\n        toBase64: encode,\r\n        utob: utob,\r\n        encode: encode,\r\n        encodeURI: encodeURI,\r\n        btou: btou,\r\n        decode: decode,\r\n        noConflict: noConflict\r\n    };\r\n    return Base64;\r\n})();\r\n\r\nmodule.exports = Base64;\r\n\r\n\r\n\r\n/***/ }),\r\n/* 2 */\r\n/***/ (function(module, exports) {\r\n\r\n/*\r\n * DOM Level 2\r\n * Object DOMException\r\n * @see http://www.w3.org/TR/REC-DOM-Level-1/ecma-script-language-binding.html\r\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/ecma-script-binding.html\r\n */\r\n\r\nfunction copy(src,dest){\r\n\tfor(var p in src){\r\n\t\tdest[p] = src[p];\r\n\t}\r\n}\r\n/**\r\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*((?:.*\\{\\s*?[\\r\\n][\\s\\S]*?^})|\\S.*?(?=[;\\r\\n]));?\r\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*(\\S.*?(?=[;\\r\\n]));?\r\n */\r\nfunction _extends(Class,Super){\r\n\tvar pt = Class.prototype;\r\n\tif(Object.create){\r\n\t\tvar ppt = Object.create(Super.prototype)\r\n\t\tpt.__proto__ = ppt;\r\n\t}\r\n\tif(!(pt instanceof Super)){\r\n\t\tfunction t(){};\r\n\t\tt.prototype = Super.prototype;\r\n\t\tt = new t();\r\n\t\tcopy(pt,t);\r\n\t\tClass.prototype = pt = t;\r\n\t}\r\n\tif(pt.constructor != Class){\r\n\t\tif(typeof Class != 'function'){\r\n\t\t\tconsole.error(\"unknow Class:\"+Class)\r\n\t\t}\r\n\t\tpt.constructor = Class\r\n\t}\r\n}\r\nvar htmlns = 'http://www.w3.org/1999/xhtml' ;\r\n// Node Types\r\nvar NodeType = {}\r\nvar ELEMENT_NODE                = NodeType.ELEMENT_NODE                = 1;\r\nvar ATTRIBUTE_NODE              = NodeType.ATTRIBUTE_NODE              = 2;\r\nvar TEXT_NODE                   = NodeType.TEXT_NODE                   = 3;\r\nvar CDATA_SECTION_NODE          = NodeType.CDATA_SECTION_NODE          = 4;\r\nvar ENTITY_REFERENCE_NODE       = NodeType.ENTITY_REFERENCE_NODE       = 5;\r\nvar ENTITY_NODE                 = NodeType.ENTITY_NODE                 = 6;\r\nvar PROCESSING_INSTRUCTION_NODE = NodeType.PROCESSING_INSTRUCTION_NODE = 7;\r\nvar COMMENT_NODE                = NodeType.COMMENT_NODE                = 8;\r\nvar DOCUMENT_NODE               = NodeType.DOCUMENT_NODE               = 9;\r\nvar DOCUMENT_TYPE_NODE          = NodeType.DOCUMENT_TYPE_NODE          = 10;\r\nvar DOCUMENT_FRAGMENT_NODE      = NodeType.DOCUMENT_FRAGMENT_NODE      = 11;\r\nvar NOTATION_NODE               = NodeType.NOTATION_NODE               = 12;\r\n\r\n// ExceptionCode\r\nvar ExceptionCode = {}\r\nvar ExceptionMessage = {};\r\nvar INDEX_SIZE_ERR              = ExceptionCode.INDEX_SIZE_ERR              = ((ExceptionMessage[1]=\"Index size error\"),1);\r\nvar DOMSTRING_SIZE_ERR          = ExceptionCode.DOMSTRING_SIZE_ERR          = ((ExceptionMessage[2]=\"DOMString size error\"),2);\r\nvar HIERARCHY_REQUEST_ERR       = ExceptionCode.HIERARCHY_REQUEST_ERR       = ((ExceptionMessage[3]=\"Hierarchy request error\"),3);\r\nvar WRONG_DOCUMENT_ERR          = ExceptionCode.WRONG_DOCUMENT_ERR          = ((ExceptionMessage[4]=\"Wrong document\"),4);\r\nvar INVALID_CHARACTER_ERR       = ExceptionCode.INVALID_CHARACTER_ERR       = ((ExceptionMessage[5]=\"Invalid character\"),5);\r\nvar NO_DATA_ALLOWED_ERR         = ExceptionCode.NO_DATA_ALLOWED_ERR         = ((ExceptionMessage[6]=\"No data allowed\"),6);\r\nvar NO_MODIFICATION_ALLOWED_ERR = ExceptionCode.NO_MODIFICATION_ALLOWED_ERR = ((ExceptionMessage[7]=\"No modification allowed\"),7);\r\nvar NOT_FOUND_ERR               = ExceptionCode.NOT_FOUND_ERR               = ((ExceptionMessage[8]=\"Not found\"),8);\r\nvar NOT_SUPPORTED_ERR           = ExceptionCode.NOT_SUPPORTED_ERR           = ((ExceptionMessage[9]=\"Not supported\"),9);\r\nvar INUSE_ATTRIBUTE_ERR         = ExceptionCode.INUSE_ATTRIBUTE_ERR         = ((ExceptionMessage[10]=\"Attribute in use\"),10);\r\n//level2\r\nvar INVALID_STATE_ERR        \t= ExceptionCode.INVALID_STATE_ERR        \t= ((ExceptionMessage[11]=\"Invalid state\"),11);\r\nvar SYNTAX_ERR               \t= ExceptionCode.SYNTAX_ERR               \t= ((ExceptionMessage[12]=\"Syntax error\"),12);\r\nvar INVALID_MODIFICATION_ERR \t= ExceptionCode.INVALID_MODIFICATION_ERR \t= ((ExceptionMessage[13]=\"Invalid modification\"),13);\r\nvar NAMESPACE_ERR            \t= ExceptionCode.NAMESPACE_ERR           \t= ((ExceptionMessage[14]=\"Invalid namespace\"),14);\r\nvar INVALID_ACCESS_ERR       \t= ExceptionCode.INVALID_ACCESS_ERR      \t= ((ExceptionMessage[15]=\"Invalid access\"),15);\r\n\r\n\r\nfunction DOMException(code, message) {\r\n\tif(message instanceof Error){\r\n\t\tvar error = message;\r\n\t}else{\r\n\t\terror = this;\r\n\t\tError.call(this, ExceptionMessage[code]);\r\n\t\tthis.message = ExceptionMessage[code];\r\n\t\tif(Error.captureStackTrace) Error.captureStackTrace(this, DOMException);\r\n\t}\r\n\terror.code = code;\r\n\tif(message) this.message = this.message + \": \" + message;\r\n\treturn error;\r\n};\r\nDOMException.prototype = Error.prototype;\r\ncopy(ExceptionCode,DOMException)\r\n/**\r\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-536297177\r\n * The NodeList interface provides the abstraction of an ordered collection of nodes, without defining or constraining how this collection is implemented. NodeList objects in the DOM are live.\r\n * The items in the NodeList are accessible via an integral index, starting from 0.\r\n */\r\nfunction NodeList() {\r\n};\r\nNodeList.prototype = {\r\n\t/**\r\n\t * The number of nodes in the list. The range of valid child node indices is 0 to length-1 inclusive.\r\n\t * @standard level1\r\n\t */\r\n\tlength:0, \r\n\t/**\r\n\t * Returns the indexth item in the collection. If index is greater than or equal to the number of nodes in the list, this returns null.\r\n\t * @standard level1\r\n\t * @param index  unsigned long \r\n\t *   Index into the collection.\r\n\t * @return Node\r\n\t * \tThe node at the indexth position in the NodeList, or null if that is not a valid index. \r\n\t */\r\n\titem: function(index) {\r\n\t\treturn this[index] || null;\r\n\t},\r\n\ttoString:function(isHTML,nodeFilter){\r\n\t\tfor(var buf = [], i = 0;i<this.length;i++){\r\n\t\t\tserializeToString(this[i],buf,isHTML,nodeFilter);\r\n\t\t}\r\n\t\treturn buf.join('');\r\n\t}\r\n};\r\nfunction LiveNodeList(node,refresh){\r\n\tthis._node = node;\r\n\tthis._refresh = refresh\r\n\t_updateLiveList(this);\r\n}\r\nfunction _updateLiveList(list){\r\n\tvar inc = list._node._inc || list._node.ownerDocument._inc;\r\n\tif(list._inc != inc){\r\n\t\tvar ls = list._refresh(list._node);\r\n\t\t//console.log(ls.length)\r\n\t\t__set__(list,'length',ls.length);\r\n\t\tcopy(ls,list);\r\n\t\tlist._inc = inc;\r\n\t}\r\n}\r\nLiveNodeList.prototype.item = function(i){\r\n\t_updateLiveList(this);\r\n\treturn this[i];\r\n}\r\n\r\n_extends(LiveNodeList,NodeList);\r\n/**\r\n * \r\n * Objects implementing the NamedNodeMap interface are used to represent collections of nodes that can be accessed by name. Note that NamedNodeMap does not inherit from NodeList; NamedNodeMaps are not maintained in any particular order. Objects contained in an object implementing NamedNodeMap may also be accessed by an ordinal index, but this is simply to allow convenient enumeration of the contents of a NamedNodeMap, and does not imply that the DOM specifies an order to these Nodes.\r\n * NamedNodeMap objects in the DOM are live.\r\n * used for attributes or DocumentType entities \r\n */\r\nfunction NamedNodeMap() {\r\n};\r\n\r\nfunction _findNodeIndex(list,node){\r\n\tvar i = list.length;\r\n\twhile(i--){\r\n\t\tif(list[i] === node){return i}\r\n\t}\r\n}\r\n\r\nfunction _addNamedNode(el,list,newAttr,oldAttr){\r\n\tif(oldAttr){\r\n\t\tlist[_findNodeIndex(list,oldAttr)] = newAttr;\r\n\t}else{\r\n\t\tlist[list.length++] = newAttr;\r\n\t}\r\n\tif(el){\r\n\t\tnewAttr.ownerElement = el;\r\n\t\tvar doc = el.ownerDocument;\r\n\t\tif(doc){\r\n\t\t\toldAttr && _onRemoveAttribute(doc,el,oldAttr);\r\n\t\t\t_onAddAttribute(doc,el,newAttr);\r\n\t\t}\r\n\t}\r\n}\r\nfunction _removeNamedNode(el,list,attr){\r\n\t//console.log('remove attr:'+attr)\r\n\tvar i = _findNodeIndex(list,attr);\r\n\tif(i>=0){\r\n\t\tvar lastIndex = list.length-1\r\n\t\twhile(i<lastIndex){\r\n\t\t\tlist[i] = list[++i]\r\n\t\t}\r\n\t\tlist.length = lastIndex;\r\n\t\tif(el){\r\n\t\t\tvar doc = el.ownerDocument;\r\n\t\t\tif(doc){\r\n\t\t\t\t_onRemoveAttribute(doc,el,attr);\r\n\t\t\t\tattr.ownerElement = null;\r\n\t\t\t}\r\n\t\t}\r\n\t}else{\r\n\t\tthrow DOMException(NOT_FOUND_ERR,new Error(el.tagName+'@'+attr))\r\n\t}\r\n}\r\nNamedNodeMap.prototype = {\r\n\tlength:0,\r\n\titem:NodeList.prototype.item,\r\n\tgetNamedItem: function(key) {\r\n//\t\tif(key.indexOf(':')>0 || key == 'xmlns'){\r\n//\t\t\treturn null;\r\n//\t\t}\r\n\t\t//console.log()\r\n\t\tvar i = this.length;\r\n\t\twhile(i--){\r\n\t\t\tvar attr = this[i];\r\n\t\t\t//console.log(attr.nodeName,key)\r\n\t\t\tif(attr.nodeName == key){\r\n\t\t\t\treturn attr;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tsetNamedItem: function(attr) {\r\n\t\tvar el = attr.ownerElement;\r\n\t\tif(el && el!=this._ownerElement){\r\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\r\n\t\t}\r\n\t\tvar oldAttr = this.getNamedItem(attr.nodeName);\r\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\r\n\t\treturn oldAttr;\r\n\t},\r\n\t/* returns Node */\r\n\tsetNamedItemNS: function(attr) {// raises: WRONG_DOCUMENT_ERR,NO_MODIFICATION_ALLOWED_ERR,INUSE_ATTRIBUTE_ERR\r\n\t\tvar el = attr.ownerElement, oldAttr;\r\n\t\tif(el && el!=this._ownerElement){\r\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\r\n\t\t}\r\n\t\toldAttr = this.getNamedItemNS(attr.namespaceURI,attr.localName);\r\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\r\n\t\treturn oldAttr;\r\n\t},\r\n\r\n\t/* returns Node */\r\n\tremoveNamedItem: function(key) {\r\n\t\tvar attr = this.getNamedItem(key);\r\n\t\t_removeNamedNode(this._ownerElement,this,attr);\r\n\t\treturn attr;\r\n\t\t\r\n\t\t\r\n\t},// raises: NOT_FOUND_ERR,NO_MODIFICATION_ALLOWED_ERR\r\n\t\r\n\t//for level2\r\n\tremoveNamedItemNS:function(namespaceURI,localName){\r\n\t\tvar attr = this.getNamedItemNS(namespaceURI,localName);\r\n\t\t_removeNamedNode(this._ownerElement,this,attr);\r\n\t\treturn attr;\r\n\t},\r\n\tgetNamedItemNS: function(namespaceURI, localName) {\r\n\t\tvar i = this.length;\r\n\t\twhile(i--){\r\n\t\t\tvar node = this[i];\r\n\t\t\tif(node.localName == localName && node.namespaceURI == namespaceURI){\r\n\t\t\t\treturn node;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n};\r\n/**\r\n * @see http://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-102161490\r\n */\r\nfunction DOMImplementation(/* Object */ features) {\r\n\tthis._features = {};\r\n\tif (features) {\r\n\t\tfor (var feature in features) {\r\n\t\t\t this._features = features[feature];\r\n\t\t}\r\n\t}\r\n};\r\n\r\nDOMImplementation.prototype = {\r\n\thasFeature: function(/* string */ feature, /* string */ version) {\r\n\t\tvar versions = this._features[feature.toLowerCase()];\r\n\t\tif (versions && (!version || version in versions)) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t},\r\n\t// Introduced in DOM Level 2:\r\n\tcreateDocument:function(namespaceURI,  qualifiedName, doctype){// raises:INVALID_CHARACTER_ERR,NAMESPACE_ERR,WRONG_DOCUMENT_ERR\r\n\t\tvar doc = new Document();\r\n\t\tdoc.implementation = this;\r\n\t\tdoc.childNodes = new NodeList();\r\n\t\tdoc.doctype = doctype;\r\n\t\tif(doctype){\r\n\t\t\tdoc.appendChild(doctype);\r\n\t\t}\r\n\t\tif(qualifiedName){\r\n\t\t\tvar root = doc.createElementNS(namespaceURI,qualifiedName);\r\n\t\t\tdoc.appendChild(root);\r\n\t\t}\r\n\t\treturn doc;\r\n\t},\r\n\t// Introduced in DOM Level 2:\r\n\tcreateDocumentType:function(qualifiedName, publicId, systemId){// raises:INVALID_CHARACTER_ERR,NAMESPACE_ERR\r\n\t\tvar node = new DocumentType();\r\n\t\tnode.name = qualifiedName;\r\n\t\tnode.nodeName = qualifiedName;\r\n\t\tnode.publicId = publicId;\r\n\t\tnode.systemId = systemId;\r\n\t\t// Introduced in DOM Level 2:\r\n\t\t//readonly attribute DOMString        internalSubset;\r\n\t\t\r\n\t\t//TODO:..\r\n\t\t//  readonly attribute NamedNodeMap     entities;\r\n\t\t//  readonly attribute NamedNodeMap     notations;\r\n\t\treturn node;\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-1950641247\r\n */\r\n\r\nfunction Node() {\r\n};\r\n\r\nNode.prototype = {\r\n\tfirstChild : null,\r\n\tlastChild : null,\r\n\tpreviousSibling : null,\r\n\tnextSibling : null,\r\n\tattributes : null,\r\n\tparentNode : null,\r\n\tchildNodes : null,\r\n\townerDocument : null,\r\n\tnodeValue : null,\r\n\tnamespaceURI : null,\r\n\tprefix : null,\r\n\tlocalName : null,\r\n\t// Modified in DOM Level 2:\r\n\tinsertBefore:function(newChild, refChild){//raises \r\n\t\treturn _insertBefore(this,newChild,refChild);\r\n\t},\r\n\treplaceChild:function(newChild, oldChild){//raises \r\n\t\tthis.insertBefore(newChild,oldChild);\r\n\t\tif(oldChild){\r\n\t\t\tthis.removeChild(oldChild);\r\n\t\t}\r\n\t},\r\n\tremoveChild:function(oldChild){\r\n\t\treturn _removeChild(this,oldChild);\r\n\t},\r\n\tappendChild:function(newChild){\r\n\t\treturn this.insertBefore(newChild,null);\r\n\t},\r\n\thasChildNodes:function(){\r\n\t\treturn this.firstChild != null;\r\n\t},\r\n\tcloneNode:function(deep){\r\n\t\treturn cloneNode(this.ownerDocument||this,this,deep);\r\n\t},\r\n\t// Modified in DOM Level 2:\r\n\tnormalize:function(){\r\n\t\tvar child = this.firstChild;\r\n\t\twhile(child){\r\n\t\t\tvar next = child.nextSibling;\r\n\t\t\tif(next && next.nodeType == TEXT_NODE && child.nodeType == TEXT_NODE){\r\n\t\t\t\tthis.removeChild(next);\r\n\t\t\t\tchild.appendData(next.data);\r\n\t\t\t}else{\r\n\t\t\t\tchild.normalize();\r\n\t\t\t\tchild = next;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n  \t// Introduced in DOM Level 2:\r\n\tisSupported:function(feature, version){\r\n\t\treturn this.ownerDocument.implementation.hasFeature(feature,version);\r\n\t},\r\n    // Introduced in DOM Level 2:\r\n    hasAttributes:function(){\r\n    \treturn this.attributes.length>0;\r\n    },\r\n    lookupPrefix:function(namespaceURI){\r\n    \tvar el = this;\r\n    \twhile(el){\r\n    \t\tvar map = el._nsMap;\r\n    \t\t//console.dir(map)\r\n    \t\tif(map){\r\n    \t\t\tfor(var n in map){\r\n    \t\t\t\tif(map[n] == namespaceURI){\r\n    \t\t\t\t\treturn n;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\r\n    \t}\r\n    \treturn null;\r\n    },\r\n    // Introduced in DOM Level 3:\r\n    lookupNamespaceURI:function(prefix){\r\n    \tvar el = this;\r\n    \twhile(el){\r\n    \t\tvar map = el._nsMap;\r\n    \t\t//console.dir(map)\r\n    \t\tif(map){\r\n    \t\t\tif(prefix in map){\r\n    \t\t\t\treturn map[prefix] ;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\r\n    \t}\r\n    \treturn null;\r\n    },\r\n    // Introduced in DOM Level 3:\r\n    isDefaultNamespace:function(namespaceURI){\r\n    \tvar prefix = this.lookupPrefix(namespaceURI);\r\n    \treturn prefix == null;\r\n    }\r\n};\r\n\r\n\r\nfunction _xmlEncoder(c){\r\n\treturn c == '<' && '&lt;' ||\r\n         c == '>' && '&gt;' ||\r\n         c == '&' && '&amp;' ||\r\n         c == '\"' && '&quot;' ||\r\n         '&#'+c.charCodeAt()+';'\r\n}\r\n\r\n\r\ncopy(NodeType,Node);\r\ncopy(NodeType,Node.prototype);\r\n\r\n/**\r\n * @param callback return true for continue,false for break\r\n * @return boolean true: break visit;\r\n */\r\nfunction _visitNode(node,callback){\r\n\tif(callback(node)){\r\n\t\treturn true;\r\n\t}\r\n\tif(node = node.firstChild){\r\n\t\tdo{\r\n\t\t\tif(_visitNode(node,callback)){return true}\r\n        }while(node=node.nextSibling)\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction Document(){\r\n}\r\nfunction _onAddAttribute(doc,el,newAttr){\r\n\tdoc && doc._inc++;\r\n\tvar ns = newAttr.namespaceURI ;\r\n\tif(ns == 'http://www.w3.org/2000/xmlns/'){\r\n\t\t//update namespace\r\n\t\tel._nsMap[newAttr.prefix?newAttr.localName:''] = newAttr.value\r\n\t}\r\n}\r\nfunction _onRemoveAttribute(doc,el,newAttr,remove){\r\n\tdoc && doc._inc++;\r\n\tvar ns = newAttr.namespaceURI ;\r\n\tif(ns == 'http://www.w3.org/2000/xmlns/'){\r\n\t\t//update namespace\r\n\t\tdelete el._nsMap[newAttr.prefix?newAttr.localName:'']\r\n\t}\r\n}\r\nfunction _onUpdateChild(doc,el,newChild){\r\n\tif(doc && doc._inc){\r\n\t\tdoc._inc++;\r\n\t\t//update childNodes\r\n\t\tvar cs = el.childNodes;\r\n\t\tif(newChild){\r\n\t\t\tcs[cs.length++] = newChild;\r\n\t\t}else{\r\n\t\t\t//console.log(1)\r\n\t\t\tvar child = el.firstChild;\r\n\t\t\tvar i = 0;\r\n\t\t\twhile(child){\r\n\t\t\t\tcs[i++] = child;\r\n\t\t\t\tchild =child.nextSibling;\r\n\t\t\t}\r\n\t\t\tcs.length = i;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * attributes;\r\n * children;\r\n * \r\n * writeable properties:\r\n * nodeValue,Attr:value,CharacterData:data\r\n * prefix\r\n */\r\nfunction _removeChild(parentNode,child){\r\n\tvar previous = child.previousSibling;\r\n\tvar next = child.nextSibling;\r\n\tif(previous){\r\n\t\tprevious.nextSibling = next;\r\n\t}else{\r\n\t\tparentNode.firstChild = next\r\n\t}\r\n\tif(next){\r\n\t\tnext.previousSibling = previous;\r\n\t}else{\r\n\t\tparentNode.lastChild = previous;\r\n\t}\r\n\t_onUpdateChild(parentNode.ownerDocument,parentNode);\r\n\treturn child;\r\n}\r\n/**\r\n * preformance key(refChild == null)\r\n */\r\nfunction _insertBefore(parentNode,newChild,nextChild){\r\n\tvar cp = newChild.parentNode;\r\n\tif(cp){\r\n\t\tcp.removeChild(newChild);//remove and update\r\n\t}\r\n\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\r\n\t\tvar newFirst = newChild.firstChild;\r\n\t\tif (newFirst == null) {\r\n\t\t\treturn newChild;\r\n\t\t}\r\n\t\tvar newLast = newChild.lastChild;\r\n\t}else{\r\n\t\tnewFirst = newLast = newChild;\r\n\t}\r\n\tvar pre = nextChild ? nextChild.previousSibling : parentNode.lastChild;\r\n\r\n\tnewFirst.previousSibling = pre;\r\n\tnewLast.nextSibling = nextChild;\r\n\t\r\n\t\r\n\tif(pre){\r\n\t\tpre.nextSibling = newFirst;\r\n\t}else{\r\n\t\tparentNode.firstChild = newFirst;\r\n\t}\r\n\tif(nextChild == null){\r\n\t\tparentNode.lastChild = newLast;\r\n\t}else{\r\n\t\tnextChild.previousSibling = newLast;\r\n\t}\r\n\tdo{\r\n\t\tnewFirst.parentNode = parentNode;\r\n\t}while(newFirst !== newLast && (newFirst= newFirst.nextSibling))\r\n\t_onUpdateChild(parentNode.ownerDocument||parentNode,parentNode);\r\n\t//console.log(parentNode.lastChild.nextSibling == null)\r\n\tif (newChild.nodeType == DOCUMENT_FRAGMENT_NODE) {\r\n\t\tnewChild.firstChild = newChild.lastChild = null;\r\n\t}\r\n\treturn newChild;\r\n}\r\nfunction _appendSingleChild(parentNode,newChild){\r\n\tvar cp = newChild.parentNode;\r\n\tif(cp){\r\n\t\tvar pre = parentNode.lastChild;\r\n\t\tcp.removeChild(newChild);//remove and update\r\n\t\tvar pre = parentNode.lastChild;\r\n\t}\r\n\tvar pre = parentNode.lastChild;\r\n\tnewChild.parentNode = parentNode;\r\n\tnewChild.previousSibling = pre;\r\n\tnewChild.nextSibling = null;\r\n\tif(pre){\r\n\t\tpre.nextSibling = newChild;\r\n\t}else{\r\n\t\tparentNode.firstChild = newChild;\r\n\t}\r\n\tparentNode.lastChild = newChild;\r\n\t_onUpdateChild(parentNode.ownerDocument,parentNode,newChild);\r\n\treturn newChild;\r\n\t//console.log(\"__aa\",parentNode.lastChild.nextSibling == null)\r\n}\r\nDocument.prototype = {\r\n\t//implementation : null,\r\n\tnodeName :  '#document',\r\n\tnodeType :  DOCUMENT_NODE,\r\n\tdoctype :  null,\r\n\tdocumentElement :  null,\r\n\t_inc : 1,\r\n\t\r\n\tinsertBefore :  function(newChild, refChild){//raises \r\n\t\tif(newChild.nodeType == DOCUMENT_FRAGMENT_NODE){\r\n\t\t\tvar child = newChild.firstChild;\r\n\t\t\twhile(child){\r\n\t\t\t\tvar next = child.nextSibling;\r\n\t\t\t\tthis.insertBefore(child,refChild);\r\n\t\t\t\tchild = next;\r\n\t\t\t}\r\n\t\t\treturn newChild;\r\n\t\t}\r\n\t\tif(this.documentElement == null && newChild.nodeType == ELEMENT_NODE){\r\n\t\t\tthis.documentElement = newChild;\r\n\t\t}\r\n\t\t\r\n\t\treturn _insertBefore(this,newChild,refChild),(newChild.ownerDocument = this),newChild;\r\n\t},\r\n\tremoveChild :  function(oldChild){\r\n\t\tif(this.documentElement == oldChild){\r\n\t\t\tthis.documentElement = null;\r\n\t\t}\r\n\t\treturn _removeChild(this,oldChild);\r\n\t},\r\n\t// Introduced in DOM Level 2:\r\n\timportNode : function(importedNode,deep){\r\n\t\treturn importNode(this,importedNode,deep);\r\n\t},\r\n\t// Introduced in DOM Level 2:\r\n\tgetElementById :\tfunction(id){\r\n\t\tvar rtv = null;\r\n\t\t_visitNode(this.documentElement,function(node){\r\n\t\t\tif(node.nodeType == ELEMENT_NODE){\r\n\t\t\t\tif(node.getAttribute('id') == id){\r\n\t\t\t\t\trtv = node;\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\treturn rtv;\r\n\t},\r\n\t\r\n\t//document factory method:\r\n\tcreateElement :\tfunction(tagName){\r\n\t\tvar node = new Element();\r\n\t\tnode.ownerDocument = this;\r\n\t\tnode.nodeName = tagName;\r\n\t\tnode.tagName = tagName;\r\n\t\tnode.childNodes = new NodeList();\r\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\r\n\t\tattrs._ownerElement = node;\r\n\t\treturn node;\r\n\t},\r\n\tcreateDocumentFragment :\tfunction(){\r\n\t\tvar node = new DocumentFragment();\r\n\t\tnode.ownerDocument = this;\r\n\t\tnode.childNodes = new NodeList();\r\n\t\treturn node;\r\n\t},\r\n\tcreateTextNode :\tfunction(data){\r\n\t\tvar node = new Text();\r\n\t\tnode.ownerDocument = this;\r\n\t\tnode.appendData(data)\r\n\t\treturn node;\r\n\t},\r\n\tcreateComment :\tfunction(data){\r\n\t\tvar node = new Comment();\r\n\t\tnode.ownerDocument = this;\r\n\t\tnode.appendData(data)\r\n\t\treturn node;\r\n\t},\r\n\tcreateCDATASection :\tfunction(data){\r\n\t\tvar node = new CDATASection();\r\n\t\tnode.ownerDocument = this;\r\n\t\tnode.appendData(data)\r\n\t\treturn node;\r\n\t},\r\n\tcreateProcessingInstruction :\tfunction(target,data){\r\n\t\tvar node = new ProcessingInstruction();\r\n\t\tnode.ownerDocument = this;\r\n\t\tnode.tagName = node.target = target;\r\n\t\tnode.nodeValue= node.data = data;\r\n\t\treturn node;\r\n\t},\r\n\tcreateAttribute :\tfunction(name){\r\n\t\tvar node = new Attr();\r\n\t\tnode.ownerDocument\t= this;\r\n\t\tnode.name = name;\r\n\t\tnode.nodeName\t= name;\r\n\t\tnode.localName = name;\r\n\t\tnode.specified = true;\r\n\t\treturn node;\r\n\t},\r\n\tcreateEntityReference :\tfunction(name){\r\n\t\tvar node = new EntityReference();\r\n\t\tnode.ownerDocument\t= this;\r\n\t\tnode.nodeName\t= name;\r\n\t\treturn node;\r\n\t},\r\n\t// Introduced in DOM Level 2:\r\n\tcreateElementNS :\tfunction(namespaceURI,qualifiedName){\r\n\t\tvar node = new Element();\r\n\t\tvar pl = qualifiedName.split(':');\r\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\r\n\t\tnode.childNodes = new NodeList();\r\n\t\tnode.ownerDocument = this;\r\n\t\tnode.nodeName = qualifiedName;\r\n\t\tnode.tagName = qualifiedName;\r\n\t\tnode.namespaceURI = namespaceURI;\r\n\t\tif(pl.length == 2){\r\n\t\t\tnode.prefix = pl[0];\r\n\t\t\tnode.localName = pl[1];\r\n\t\t}else{\r\n\t\t\t//el.prefix = null;\r\n\t\t\tnode.localName = qualifiedName;\r\n\t\t}\r\n\t\tattrs._ownerElement = node;\r\n\t\treturn node;\r\n\t},\r\n\t// Introduced in DOM Level 2:\r\n\tcreateAttributeNS :\tfunction(namespaceURI,qualifiedName){\r\n\t\tvar node = new Attr();\r\n\t\tvar pl = qualifiedName.split(':');\r\n\t\tnode.ownerDocument = this;\r\n\t\tnode.nodeName = qualifiedName;\r\n\t\tnode.name = qualifiedName;\r\n\t\tnode.namespaceURI = namespaceURI;\r\n\t\tnode.specified = true;\r\n\t\tif(pl.length == 2){\r\n\t\t\tnode.prefix = pl[0];\r\n\t\t\tnode.localName = pl[1];\r\n\t\t}else{\r\n\t\t\t//el.prefix = null;\r\n\t\t\tnode.localName = qualifiedName;\r\n\t\t}\r\n\t\treturn node;\r\n\t}\r\n};\r\n_extends(Document,Node);\r\n\r\n\r\nfunction Element() {\r\n\tthis._nsMap = {};\r\n};\r\nElement.prototype = {\r\n\tnodeType : ELEMENT_NODE,\r\n\thasAttribute : function(name){\r\n\t\treturn this.getAttributeNode(name)!=null;\r\n\t},\r\n\tgetAttribute : function(name){\r\n\t\tvar attr = this.getAttributeNode(name);\r\n\t\treturn attr && attr.value || '';\r\n\t},\r\n\tgetAttributeNode : function(name){\r\n\t\treturn this.attributes.getNamedItem(name);\r\n\t},\r\n\tsetAttribute : function(name, value){\r\n\t\tvar attr = this.ownerDocument.createAttribute(name);\r\n\t\tattr.value = attr.nodeValue = \"\" + value;\r\n\t\tthis.setAttributeNode(attr)\r\n\t},\r\n\tremoveAttribute : function(name){\r\n\t\tvar attr = this.getAttributeNode(name)\r\n\t\tattr && this.removeAttributeNode(attr);\r\n\t},\r\n\t\r\n\t//four real opeartion method\r\n\tappendChild:function(newChild){\r\n\t\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\r\n\t\t\treturn this.insertBefore(newChild,null);\r\n\t\t}else{\r\n\t\t\treturn _appendSingleChild(this,newChild);\r\n\t\t}\r\n\t},\r\n\tsetAttributeNode : function(newAttr){\r\n\t\treturn this.attributes.setNamedItem(newAttr);\r\n\t},\r\n\tsetAttributeNodeNS : function(newAttr){\r\n\t\treturn this.attributes.setNamedItemNS(newAttr);\r\n\t},\r\n\tremoveAttributeNode : function(oldAttr){\r\n\t\t//console.log(this == oldAttr.ownerElement)\r\n\t\treturn this.attributes.removeNamedItem(oldAttr.nodeName);\r\n\t},\r\n\t//get real attribute name,and remove it by removeAttributeNode\r\n\tremoveAttributeNS : function(namespaceURI, localName){\r\n\t\tvar old = this.getAttributeNodeNS(namespaceURI, localName);\r\n\t\told && this.removeAttributeNode(old);\r\n\t},\r\n\t\r\n\thasAttributeNS : function(namespaceURI, localName){\r\n\t\treturn this.getAttributeNodeNS(namespaceURI, localName)!=null;\r\n\t},\r\n\tgetAttributeNS : function(namespaceURI, localName){\r\n\t\tvar attr = this.getAttributeNodeNS(namespaceURI, localName);\r\n\t\treturn attr && attr.value || '';\r\n\t},\r\n\tsetAttributeNS : function(namespaceURI, qualifiedName, value){\r\n\t\tvar attr = this.ownerDocument.createAttributeNS(namespaceURI, qualifiedName);\r\n\t\tattr.value = attr.nodeValue = \"\" + value;\r\n\t\tthis.setAttributeNode(attr)\r\n\t},\r\n\tgetAttributeNodeNS : function(namespaceURI, localName){\r\n\t\treturn this.attributes.getNamedItemNS(namespaceURI, localName);\r\n\t},\r\n\t\r\n\tgetElementsByTagName : function(tagName){\r\n\t\treturn new LiveNodeList(this,function(base){\r\n\t\t\tvar ls = [];\r\n\t\t\t_visitNode(base,function(node){\r\n\t\t\t\tif(node !== base && node.nodeType == ELEMENT_NODE && (tagName === '*' || node.tagName == tagName)){\r\n\t\t\t\t\tls.push(node);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn ls;\r\n\t\t});\r\n\t},\r\n\tgetElementsByTagNameNS : function(namespaceURI, localName){\r\n\t\treturn new LiveNodeList(this,function(base){\r\n\t\t\tvar ls = [];\r\n\t\t\t_visitNode(base,function(node){\r\n\t\t\t\tif(node !== base && node.nodeType === ELEMENT_NODE && (namespaceURI === '*' || node.namespaceURI === namespaceURI) && (localName === '*' || node.localName == localName)){\r\n\t\t\t\t\tls.push(node);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn ls;\r\n\t\t\t\r\n\t\t});\r\n\t}\r\n};\r\nDocument.prototype.getElementsByTagName = Element.prototype.getElementsByTagName;\r\nDocument.prototype.getElementsByTagNameNS = Element.prototype.getElementsByTagNameNS;\r\n\r\n\r\n_extends(Element,Node);\r\nfunction Attr() {\r\n};\r\nAttr.prototype.nodeType = ATTRIBUTE_NODE;\r\n_extends(Attr,Node);\r\n\r\n\r\nfunction CharacterData() {\r\n};\r\nCharacterData.prototype = {\r\n\tdata : '',\r\n\tsubstringData : function(offset, count) {\r\n\t\treturn this.data.substring(offset, offset+count);\r\n\t},\r\n\tappendData: function(text) {\r\n\t\ttext = this.data+text;\r\n\t\tthis.nodeValue = this.data = text;\r\n\t\tthis.length = text.length;\r\n\t},\r\n\tinsertData: function(offset,text) {\r\n\t\tthis.replaceData(offset,0,text);\r\n\t\r\n\t},\r\n\tappendChild:function(newChild){\r\n\t\tthrow new Error(ExceptionMessage[HIERARCHY_REQUEST_ERR])\r\n\t},\r\n\tdeleteData: function(offset, count) {\r\n\t\tthis.replaceData(offset,count,\"\");\r\n\t},\r\n\treplaceData: function(offset, count, text) {\r\n\t\tvar start = this.data.substring(0,offset);\r\n\t\tvar end = this.data.substring(offset+count);\r\n\t\ttext = start + text + end;\r\n\t\tthis.nodeValue = this.data = text;\r\n\t\tthis.length = text.length;\r\n\t}\r\n}\r\n_extends(CharacterData,Node);\r\nfunction Text() {\r\n};\r\nText.prototype = {\r\n\tnodeName : \"#text\",\r\n\tnodeType : TEXT_NODE,\r\n\tsplitText : function(offset) {\r\n\t\tvar text = this.data;\r\n\t\tvar newText = text.substring(offset);\r\n\t\ttext = text.substring(0, offset);\r\n\t\tthis.data = this.nodeValue = text;\r\n\t\tthis.length = text.length;\r\n\t\tvar newNode = this.ownerDocument.createTextNode(newText);\r\n\t\tif(this.parentNode){\r\n\t\t\tthis.parentNode.insertBefore(newNode, this.nextSibling);\r\n\t\t}\r\n\t\treturn newNode;\r\n\t}\r\n}\r\n_extends(Text,CharacterData);\r\nfunction Comment() {\r\n};\r\nComment.prototype = {\r\n\tnodeName : \"#comment\",\r\n\tnodeType : COMMENT_NODE\r\n}\r\n_extends(Comment,CharacterData);\r\n\r\nfunction CDATASection() {\r\n};\r\nCDATASection.prototype = {\r\n\tnodeName : \"#cdata-section\",\r\n\tnodeType : CDATA_SECTION_NODE\r\n}\r\n_extends(CDATASection,CharacterData);\r\n\r\n\r\nfunction DocumentType() {\r\n};\r\nDocumentType.prototype.nodeType = DOCUMENT_TYPE_NODE;\r\n_extends(DocumentType,Node);\r\n\r\nfunction Notation() {\r\n};\r\nNotation.prototype.nodeType = NOTATION_NODE;\r\n_extends(Notation,Node);\r\n\r\nfunction Entity() {\r\n};\r\nEntity.prototype.nodeType = ENTITY_NODE;\r\n_extends(Entity,Node);\r\n\r\nfunction EntityReference() {\r\n};\r\nEntityReference.prototype.nodeType = ENTITY_REFERENCE_NODE;\r\n_extends(EntityReference,Node);\r\n\r\nfunction DocumentFragment() {\r\n};\r\nDocumentFragment.prototype.nodeName =\t\"#document-fragment\";\r\nDocumentFragment.prototype.nodeType =\tDOCUMENT_FRAGMENT_NODE;\r\n_extends(DocumentFragment,Node);\r\n\r\n\r\nfunction ProcessingInstruction() {\r\n}\r\nProcessingInstruction.prototype.nodeType = PROCESSING_INSTRUCTION_NODE;\r\n_extends(ProcessingInstruction,Node);\r\nfunction XMLSerializer(){}\r\nXMLSerializer.prototype.serializeToString = function(node,isHtml,nodeFilter){\r\n\treturn nodeSerializeToString.call(node,isHtml,nodeFilter);\r\n}\r\nNode.prototype.toString = nodeSerializeToString;\r\nfunction nodeSerializeToString(isHtml,nodeFilter){\r\n\tvar buf = [];\r\n\tvar refNode = this.nodeType == 9?this.documentElement:this;\r\n\tvar prefix = refNode.prefix;\r\n\tvar uri = refNode.namespaceURI;\r\n\t\r\n\tif(uri && prefix == null){\r\n\t\t//console.log(prefix)\r\n\t\tvar prefix = refNode.lookupPrefix(uri);\r\n\t\tif(prefix == null){\r\n\t\t\t//isHTML = true;\r\n\t\t\tvar visibleNamespaces=[\r\n\t\t\t{namespace:uri,prefix:null}\r\n\t\t\t//{namespace:uri,prefix:''}\r\n\t\t\t]\r\n\t\t}\r\n\t}\r\n\tserializeToString(this,buf,isHtml,nodeFilter,visibleNamespaces);\r\n\t//console.log('###',this.nodeType,uri,prefix,buf.join(''))\r\n\treturn buf.join('');\r\n}\r\nfunction needNamespaceDefine(node,isHTML, visibleNamespaces) {\r\n\tvar prefix = node.prefix||'';\r\n\tvar uri = node.namespaceURI;\r\n\tif (!prefix && !uri){\r\n\t\treturn false;\r\n\t}\r\n\tif (prefix === \"xml\" && uri === \"http://www.w3.org/XML/1998/namespace\" \r\n\t\t|| uri == 'http://www.w3.org/2000/xmlns/'){\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\tvar i = visibleNamespaces.length \r\n\t//console.log('@@@@',node.tagName,prefix,uri,visibleNamespaces)\r\n\twhile (i--) {\r\n\t\tvar ns = visibleNamespaces[i];\r\n\t\t// get namespace prefix\r\n\t\t//console.log(node.nodeType,node.tagName,ns.prefix,prefix)\r\n\t\tif (ns.prefix == prefix){\r\n\t\t\treturn ns.namespace != uri;\r\n\t\t}\r\n\t}\r\n\t//console.log(isHTML,uri,prefix=='')\r\n\t//if(isHTML && prefix ==null && uri == 'http://www.w3.org/1999/xhtml'){\r\n\t//\treturn false;\r\n\t//}\r\n\t//node.flag = '11111'\r\n\t//console.error(3,true,node.flag,node.prefix,node.namespaceURI)\r\n\treturn true;\r\n}\r\nfunction serializeToString(node,buf,isHTML,nodeFilter,visibleNamespaces){\r\n\tif(nodeFilter){\r\n\t\tnode = nodeFilter(node);\r\n\t\tif(node){\r\n\t\t\tif(typeof node == 'string'){\r\n\t\t\t\tbuf.push(node);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t//buf.sort.apply(attrs, attributeSorter);\r\n\t}\r\n\tswitch(node.nodeType){\r\n\tcase ELEMENT_NODE:\r\n\t\tif (!visibleNamespaces) visibleNamespaces = [];\r\n\t\tvar startVisibleNamespaces = visibleNamespaces.length;\r\n\t\tvar attrs = node.attributes;\r\n\t\tvar len = attrs.length;\r\n\t\tvar child = node.firstChild;\r\n\t\tvar nodeName = node.tagName;\r\n\t\t\r\n\t\tisHTML =  (htmlns === node.namespaceURI) ||isHTML \r\n\t\tbuf.push('<',nodeName);\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tfor(var i=0;i<len;i++){\r\n\t\t\t// add namespaces for attributes\r\n\t\t\tvar attr = attrs.item(i);\r\n\t\t\tif (attr.prefix == 'xmlns') {\r\n\t\t\t\tvisibleNamespaces.push({ prefix: attr.localName, namespace: attr.value });\r\n\t\t\t}else if(attr.nodeName == 'xmlns'){\r\n\t\t\t\tvisibleNamespaces.push({ prefix: '', namespace: attr.value });\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(var i=0;i<len;i++){\r\n\t\t\tvar attr = attrs.item(i);\r\n\t\t\tif (needNamespaceDefine(attr,isHTML, visibleNamespaces)) {\r\n\t\t\t\tvar prefix = attr.prefix||'';\r\n\t\t\t\tvar uri = attr.namespaceURI;\r\n\t\t\t\tvar ns = prefix ? ' xmlns:' + prefix : \" xmlns\";\r\n\t\t\t\tbuf.push(ns, '=\"' , uri , '\"');\r\n\t\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\r\n\t\t\t}\r\n\t\t\tserializeToString(attr,buf,isHTML,nodeFilter,visibleNamespaces);\r\n\t\t}\r\n\t\t// add namespace for current node\t\t\r\n\t\tif (needNamespaceDefine(node,isHTML, visibleNamespaces)) {\r\n\t\t\tvar prefix = node.prefix||'';\r\n\t\t\tvar uri = node.namespaceURI;\r\n\t\t\tvar ns = prefix ? ' xmlns:' + prefix : \" xmlns\";\r\n\t\t\tbuf.push(ns, '=\"' , uri , '\"');\r\n\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\r\n\t\t}\r\n\t\t\r\n\t\tif(child || isHTML && !/^(?:meta|link|img|br|hr|input)$/i.test(nodeName)){\r\n\t\t\tbuf.push('>');\r\n\t\t\t//if is cdata child node\r\n\t\t\tif(isHTML && /^script$/i.test(nodeName)){\r\n\t\t\t\twhile(child){\r\n\t\t\t\t\tif(child.data){\r\n\t\t\t\t\t\tbuf.push(child.data);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tserializeToString(child,buf,isHTML,nodeFilter,visibleNamespaces);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tchild = child.nextSibling;\r\n\t\t\t\t}\r\n\t\t\t}else\r\n\t\t\t{\r\n\t\t\t\twhile(child){\r\n\t\t\t\t\tserializeToString(child,buf,isHTML,nodeFilter,visibleNamespaces);\r\n\t\t\t\t\tchild = child.nextSibling;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tbuf.push('</',nodeName,'>');\r\n\t\t}else{\r\n\t\t\tbuf.push('/>');\r\n\t\t}\r\n\t\t// remove added visible namespaces\r\n\t\t//visibleNamespaces.length = startVisibleNamespaces;\r\n\t\treturn;\r\n\tcase DOCUMENT_NODE:\r\n\tcase DOCUMENT_FRAGMENT_NODE:\r\n\t\tvar child = node.firstChild;\r\n\t\twhile(child){\r\n\t\t\tserializeToString(child,buf,isHTML,nodeFilter,visibleNamespaces);\r\n\t\t\tchild = child.nextSibling;\r\n\t\t}\r\n\t\treturn;\r\n\tcase ATTRIBUTE_NODE:\r\n\t\treturn buf.push(' ',node.name,'=\"',node.value.replace(/[<&\"]/g,_xmlEncoder),'\"');\r\n\tcase TEXT_NODE:\r\n\t\treturn buf.push(node.data.replace(/[<&]/g,_xmlEncoder));\r\n\tcase CDATA_SECTION_NODE:\r\n\t\treturn buf.push( '<![CDATA[',node.data,']]>');\r\n\tcase COMMENT_NODE:\r\n\t\treturn buf.push( \"<!--\",node.data,\"-->\");\r\n\tcase DOCUMENT_TYPE_NODE:\r\n\t\tvar pubid = node.publicId;\r\n\t\tvar sysid = node.systemId;\r\n\t\tbuf.push('<!DOCTYPE ',node.name);\r\n\t\tif(pubid){\r\n\t\t\tbuf.push(' PUBLIC \"',pubid);\r\n\t\t\tif (sysid && sysid!='.') {\r\n\t\t\t\tbuf.push( '\" \"',sysid);\r\n\t\t\t}\r\n\t\t\tbuf.push('\">');\r\n\t\t}else if(sysid && sysid!='.'){\r\n\t\t\tbuf.push(' SYSTEM \"',sysid,'\">');\r\n\t\t}else{\r\n\t\t\tvar sub = node.internalSubset;\r\n\t\t\tif(sub){\r\n\t\t\t\tbuf.push(\" [\",sub,\"]\");\r\n\t\t\t}\r\n\t\t\tbuf.push(\">\");\r\n\t\t}\r\n\t\treturn;\r\n\tcase PROCESSING_INSTRUCTION_NODE:\r\n\t\treturn buf.push( \"<?\",node.target,\" \",node.data,\"?>\");\r\n\tcase ENTITY_REFERENCE_NODE:\r\n\t\treturn buf.push( '&',node.nodeName,';');\r\n\t//case ENTITY_NODE:\r\n\t//case NOTATION_NODE:\r\n\tdefault:\r\n\t\tbuf.push('??',node.nodeName);\r\n\t}\r\n}\r\nfunction importNode(doc,node,deep){\r\n\tvar node2;\r\n\tswitch (node.nodeType) {\r\n\tcase ELEMENT_NODE:\r\n\t\tnode2 = node.cloneNode(false);\r\n\t\tnode2.ownerDocument = doc;\r\n\t\t//var attrs = node2.attributes;\r\n\t\t//var len = attrs.length;\r\n\t\t//for(var i=0;i<len;i++){\r\n\t\t\t//node2.setAttributeNodeNS(importNode(doc,attrs.item(i),deep));\r\n\t\t//}\r\n\tcase DOCUMENT_FRAGMENT_NODE:\r\n\t\tbreak;\r\n\tcase ATTRIBUTE_NODE:\r\n\t\tdeep = true;\r\n\t\tbreak;\r\n\t//case ENTITY_REFERENCE_NODE:\r\n\t//case PROCESSING_INSTRUCTION_NODE:\r\n\t////case TEXT_NODE:\r\n\t//case CDATA_SECTION_NODE:\r\n\t//case COMMENT_NODE:\r\n\t//\tdeep = false;\r\n\t//\tbreak;\r\n\t//case DOCUMENT_NODE:\r\n\t//case DOCUMENT_TYPE_NODE:\r\n\t//cannot be imported.\r\n\t//case ENTITY_NODE:\r\n\t//case NOTATION_NODE：\r\n\t//can not hit in level3\r\n\t//default:throw e;\r\n\t}\r\n\tif(!node2){\r\n\t\tnode2 = node.cloneNode(false);//false\r\n\t}\r\n\tnode2.ownerDocument = doc;\r\n\tnode2.parentNode = null;\r\n\tif(deep){\r\n\t\tvar child = node.firstChild;\r\n\t\twhile(child){\r\n\t\t\tnode2.appendChild(importNode(doc,child,deep));\r\n\t\t\tchild = child.nextSibling;\r\n\t\t}\r\n\t}\r\n\treturn node2;\r\n}\r\n//\r\n//var _relationMap = {firstChild:1,lastChild:1,previousSibling:1,nextSibling:1,\r\n//\t\t\t\t\tattributes:1,childNodes:1,parentNode:1,documentElement:1,doctype,};\r\nfunction cloneNode(doc,node,deep){\r\n\tvar node2 = new node.constructor();\r\n\tfor(var n in node){\r\n\t\tvar v = node[n];\r\n\t\tif(typeof v != 'object' ){\r\n\t\t\tif(v != node2[n]){\r\n\t\t\t\tnode2[n] = v;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif(node.childNodes){\r\n\t\tnode2.childNodes = new NodeList();\r\n\t}\r\n\tnode2.ownerDocument = doc;\r\n\tswitch (node2.nodeType) {\r\n\tcase ELEMENT_NODE:\r\n\t\tvar attrs\t= node.attributes;\r\n\t\tvar attrs2\t= node2.attributes = new NamedNodeMap();\r\n\t\tvar len = attrs.length\r\n\t\tattrs2._ownerElement = node2;\r\n\t\tfor(var i=0;i<len;i++){\r\n\t\t\tnode2.setAttributeNode(cloneNode(doc,attrs.item(i),true));\r\n\t\t}\r\n\t\tbreak;;\r\n\tcase ATTRIBUTE_NODE:\r\n\t\tdeep = true;\r\n\t}\r\n\tif(deep){\r\n\t\tvar child = node.firstChild;\r\n\t\twhile(child){\r\n\t\t\tnode2.appendChild(cloneNode(doc,child,deep));\r\n\t\t\tchild = child.nextSibling;\r\n\t\t}\r\n\t}\r\n\treturn node2;\r\n}\r\n\r\nfunction __set__(object,key,value){\r\n\tobject[key] = value\r\n}\r\n//do dynamic\r\ntry{\r\n\tif(Object.defineProperty){\r\n\t\tObject.defineProperty(LiveNodeList.prototype,'length',{\r\n\t\t\tget:function(){\r\n\t\t\t\t_updateLiveList(this);\r\n\t\t\t\treturn this.$$length;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(Node.prototype,'textContent',{\r\n\t\t\tget:function(){\r\n\t\t\t\treturn getTextContent(this);\r\n\t\t\t},\r\n\t\t\tset:function(data){\r\n\t\t\t\tswitch(this.nodeType){\r\n\t\t\t\tcase ELEMENT_NODE:\r\n\t\t\t\tcase DOCUMENT_FRAGMENT_NODE:\r\n\t\t\t\t\twhile(this.firstChild){\r\n\t\t\t\t\t\tthis.removeChild(this.firstChild);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data || String(data)){\r\n\t\t\t\t\t\tthis.appendChild(this.ownerDocument.createTextNode(data));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\t//TODO:\r\n\t\t\t\t\tthis.data = data;\r\n\t\t\t\t\tthis.value = data;\r\n\t\t\t\t\tthis.nodeValue = data;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\t\r\n\t\tfunction getTextContent(node){\r\n\t\t\tswitch(node.nodeType){\r\n\t\t\tcase ELEMENT_NODE:\r\n\t\t\tcase DOCUMENT_FRAGMENT_NODE:\r\n\t\t\t\tvar buf = [];\r\n\t\t\t\tnode = node.firstChild;\r\n\t\t\t\twhile(node){\r\n\t\t\t\t\tif(node.nodeType!==7 && node.nodeType !==8){\r\n\t\t\t\t\t\tbuf.push(getTextContent(node));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnode = node.nextSibling;\r\n\t\t\t\t}\r\n\t\t\t\treturn buf.join('');\r\n\t\t\tdefault:\r\n\t\t\t\treturn node.nodeValue;\r\n\t\t\t}\r\n\t\t}\r\n\t\t__set__ = function(object,key,value){\r\n\t\t\t//console.log(value)\r\n\t\t\tobject['$$'+key] = value\r\n\t\t}\r\n\t}\r\n}catch(e){//ie8\r\n}\r\n\r\n//if(typeof require == 'function'){\r\n\texports.DOMImplementation = DOMImplementation;\r\n\texports.XMLSerializer = XMLSerializer;\r\n//}\r\n\r\n\r\n/***/ }),\r\n/* 3 */\r\n/***/ (function(module, exports) {\r\n\r\nvar initEvent = function (cos) {\r\n    var listeners = {};\r\n    var getList = function (action) {\r\n        !listeners[action] && (listeners[action] = []);\r\n        return listeners[action];\r\n    };\r\n    cos.on = function (action, callback) {\r\n        getList(action).push(callback);\r\n    };\r\n    cos.off = function (action, callback) {\r\n        var list = getList(action);\r\n        for (var i = list.length - 1; i >= 0; i--) {\r\n            callback === list[i] && list.splice(i, 1);\r\n        }\r\n    };\r\n    cos.emit = function (action, data) {\r\n        var list = getList(action).map(function (cb) {\r\n            return cb;\r\n        });\r\n        for (var i = 0; i < list.length; i++) {\r\n            list[i](data);\r\n        }\r\n    };\r\n};\r\n\r\nvar EventProxy = function () {\r\n    initEvent(this);\r\n};\r\n\r\nmodule.exports.init = initEvent;\r\nmodule.exports.EventProxy = EventProxy;\r\n\r\n/***/ }),\r\n/* 4 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nvar util = __webpack_require__(0);\r\nvar event = __webpack_require__(3);\r\nvar task = __webpack_require__(16);\r\nvar base = __webpack_require__(15);\r\nvar advance = __webpack_require__(13);\r\n\r\nvar defaultOptions = {\r\n    SecretId: '',\r\n    SecretKey: '',\r\n    XCosSecurityToken: '', // 使用临时密钥需要注意自行刷新 Token\r\n    ChunkRetryTimes: 2,\r\n    FileParallelLimit: 3,\r\n    ChunkParallelLimit: 3,\r\n    ChunkRetryTimes: 3,\r\n    ChunkSize: 1024 * 1024,\r\n    SliceSize: 1024 * 1024,\r\n    CopyChunkParallelLimit: 20,\r\n    CopyChunkSize: 1024 * 1024 * 10,\r\n    CopySliceSize: 1024 * 1024 * 10,\r\n    MaxPartNumber: 10000,\r\n    ProgressInterval: 1000,\r\n    UploadQueueSize: 10000,\r\n    Domain: '',\r\n    ServiceDomain: '',\r\n    Protocol: '',\r\n    CompatibilityMode: false,\r\n    ForcePathStyle: false,\r\n    CorrectClockSkew: true,\r\n    SystemClockOffset: 0, // 单位毫秒，ms\r\n};\r\n\r\n// 对外暴露的类\r\nvar COS = function (options) {\r\n    this.options = util.extend(util.clone(defaultOptions), options || {});\r\n    this.options.FileParallelLimit = Math.max(1, this.options.FileParallelLimit);\r\n    this.options.ChunkParallelLimit = Math.max(1, this.options.ChunkParallelLimit);\r\n    this.options.ChunkRetryTimes = Math.max(0, this.options.ChunkRetryTimes);\r\n    this.options.ChunkSize = Math.max(1024 * 1024, this.options.ChunkSize);\r\n    this.options.CopyChunkParallelLimit = Math.max(1, this.options.CopyChunkParallelLimit);\r\n    this.options.CopyChunkSize = Math.max(1024 * 1024, this.options.CopyChunkSize);\r\n    this.options.CopySliceSize = Math.max(0, this.options.CopySliceSize);\r\n    this.options.MaxPartNumber = Math.max(1024, Math.min(10000, this.options.MaxPartNumber));\r\n    this.options.Timeout = Math.max(0, this.options.Timeout);\r\n    if (this.options.AppId) {\r\n        console.warn('warning: AppId has been deprecated, Please put it at the end of parameter Bucket(E.g: \"test-1250000000\").');\r\n    }\r\n    event.init(this);\r\n    task.init(this);\r\n};\r\n\r\nbase.init(COS, task);\r\nadvance.init(COS, task);\r\n\r\nCOS.getAuthorization = util.getAuth;\r\nCOS.version = '0.7.10';\r\n\r\nmodule.exports = COS;\r\n\r\n\r\n/***/ }),\r\n/* 5 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\nvar COS = __webpack_require__(4);\r\nmodule.exports = COS;\r\n\r\n/***/ }),\r\n/* 6 */\r\n/***/ (function(module, exports) {\r\n\r\n/*\r\n CryptoJS v3.1.2\r\n code.google.com/p/crypto-js\r\n (c) 2009-2013 by Jeff Mott. All rights reserved.\r\n code.google.com/p/crypto-js/wiki/License\r\n */\r\nvar CryptoJS=CryptoJS||function(g,l){var e={},d=e.lib={},m=function(){},k=d.Base={extend:function(a){m.prototype=this;var c=new m;a&&c.mixIn(a);c.hasOwnProperty(\"init\")||(c.init=function(){c.$super.init.apply(this,arguments)});c.init.prototype=c;c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);a.hasOwnProperty(\"toString\")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},\r\n        p=d.WordArray=k.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=l?c:4*a.length},toString:function(a){return(a||n).stringify(this)},concat:function(a){var c=this.words,q=a.words,f=this.sigBytes;a=a.sigBytes;this.clamp();if(f%4)for(var b=0;b<a;b++)c[f+b>>>2]|=(q[b>>>2]>>>24-8*(b%4)&255)<<24-8*((f+b)%4);else if(65535<q.length)for(b=0;b<a;b+=4)c[f+b>>>2]=q[b>>>2];else c.push.apply(c,q);this.sigBytes+=a;return this},clamp:function(){var a=this.words,c=this.sigBytes;a[c>>>2]&=4294967295<<\r\n            32-8*(c%4);a.length=g.ceil(c/4)},clone:function(){var a=k.clone.call(this);a.words=this.words.slice(0);return a},random:function(a){for(var c=[],b=0;b<a;b+=4)c.push(4294967296*g.random()|0);return new p.init(c,a)}}),b=e.enc={},n=b.Hex={stringify:function(a){var c=a.words;a=a.sigBytes;for(var b=[],f=0;f<a;f++){var d=c[f>>>2]>>>24-8*(f%4)&255;b.push((d>>>4).toString(16));b.push((d&15).toString(16))}return b.join(\"\")},parse:function(a){for(var c=a.length,b=[],f=0;f<c;f+=2)b[f>>>3]|=parseInt(a.substr(f,\r\n                2),16)<<24-4*(f%8);return new p.init(b,c/2)}},j=b.Latin1={stringify:function(a){var c=a.words;a=a.sigBytes;for(var b=[],f=0;f<a;f++)b.push(String.fromCharCode(c[f>>>2]>>>24-8*(f%4)&255));return b.join(\"\")},parse:function(a){for(var c=a.length,b=[],f=0;f<c;f++)b[f>>>2]|=(a.charCodeAt(f)&255)<<24-8*(f%4);return new p.init(b,c)}},h=b.Utf8={stringify:function(a){try{return decodeURIComponent(escape(j.stringify(a)))}catch(c){throw Error(\"Malformed UTF-8 data\");}},parse:function(a){return j.parse(unescape(encodeURIComponent(a)))}},\r\n        r=d.BufferedBlockAlgorithm=k.extend({reset:function(){this._data=new p.init;this._nDataBytes=0},_append:function(a){\"string\"==typeof a&&(a=h.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(a){var c=this._data,b=c.words,f=c.sigBytes,d=this.blockSize,e=f/(4*d),e=a?g.ceil(e):g.max((e|0)-this._minBufferSize,0);a=e*d;f=g.min(4*a,f);if(a){for(var k=0;k<a;k+=d)this._doProcessBlock(b,k);k=b.splice(0,a);c.sigBytes-=f}return new p.init(k,f)},clone:function(){var a=k.clone.call(this);\r\n            a._data=this._data.clone();return a},_minBufferSize:0});d.Hasher=r.extend({cfg:k.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){r.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,d){return(new a.init(d)).finalize(b)}},_createHmacHelper:function(a){return function(b,d){return(new s.HMAC.init(a,\r\n        d)).finalize(b)}}});var s=e.algo={};return e}(Math);\r\n(function(){var g=CryptoJS,l=g.lib,e=l.WordArray,d=l.Hasher,m=[],l=g.algo.SHA1=d.extend({_doReset:function(){this._hash=new e.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(d,e){for(var b=this._hash.words,n=b[0],j=b[1],h=b[2],g=b[3],l=b[4],a=0;80>a;a++){if(16>a)m[a]=d[e+a]|0;else{var c=m[a-3]^m[a-8]^m[a-14]^m[a-16];m[a]=c<<1|c>>>31}c=(n<<5|n>>>27)+l+m[a];c=20>a?c+((j&h|~j&g)+1518500249):40>a?c+((j^h^g)+1859775393):60>a?c+((j&h|j&g|h&g)-1894007588):c+((j^h^\r\ng)-899497514);l=g;g=h;h=j<<30|j>>>2;j=n;n=c}b[0]=b[0]+n|0;b[1]=b[1]+j|0;b[2]=b[2]+h|0;b[3]=b[3]+g|0;b[4]=b[4]+l|0},_doFinalize:function(){var d=this._data,e=d.words,b=8*this._nDataBytes,g=8*d.sigBytes;e[g>>>5]|=128<<24-g%32;e[(g+64>>>9<<4)+14]=Math.floor(b/4294967296);e[(g+64>>>9<<4)+15]=b;d.sigBytes=4*e.length;this._process();return this._hash},clone:function(){var e=d.clone.call(this);e._hash=this._hash.clone();return e}});g.SHA1=d._createHelper(l);g.HmacSHA1=d._createHmacHelper(l)})();\r\n(function(){var g=CryptoJS,l=g.enc.Utf8;g.algo.HMAC=g.lib.Base.extend({init:function(e,d){e=this._hasher=new e.init;\"string\"==typeof d&&(d=l.parse(d));var g=e.blockSize,k=4*g;d.sigBytes>k&&(d=e.finalize(d));d.clamp();for(var p=this._oKey=d.clone(),b=this._iKey=d.clone(),n=p.words,j=b.words,h=0;h<g;h++)n[h]^=1549556828,j[h]^=909522486;p.sigBytes=b.sigBytes=k;this.reset()},reset:function(){var e=this._hasher;e.reset();e.update(this._iKey)},update:function(e){this._hasher.update(e);return this},finalize:function(e){var d=\r\n    this._hasher;e=d.finalize(e);d.reset();return d.finalize(this._oKey.clone().concat(e))}})})();\r\n\r\n\r\n(function () {\r\n    // Shortcuts\r\n    var C = CryptoJS;\r\n    var C_lib = C.lib;\r\n    var WordArray = C_lib.WordArray;\r\n    var C_enc = C.enc;\r\n\r\n    /**\r\n     * Base64 encoding strategy.\r\n     */\r\n    var Base64 = C_enc.Base64 = {\r\n        /**\r\n         * Converts a word array to a Base64 string.\r\n         *\r\n         * @param {WordArray} wordArray The word array.\r\n         *\r\n         * @return {string} The Base64 string.\r\n         *\r\n         * @static\r\n         *\r\n         * @example\r\n         *\r\n         *     var base64String = CryptoJS.enc.Base64.stringify(wordArray);\r\n         */\r\n        stringify: function (wordArray) {\r\n            // Shortcuts\r\n            var words = wordArray.words;\r\n            var sigBytes = wordArray.sigBytes;\r\n            var map = this._map;\r\n\r\n            // Clamp excess bits\r\n            wordArray.clamp();\r\n\r\n            // Convert\r\n            var base64Chars = [];\r\n            for (var i = 0; i < sigBytes; i += 3) {\r\n                var byte1 = (words[i >>> 2]       >>> (24 - (i % 4) * 8))       & 0xff;\r\n                var byte2 = (words[(i + 1) >>> 2] >>> (24 - ((i + 1) % 4) * 8)) & 0xff;\r\n                var byte3 = (words[(i + 2) >>> 2] >>> (24 - ((i + 2) % 4) * 8)) & 0xff;\r\n\r\n                var triplet = (byte1 << 16) | (byte2 << 8) | byte3;\r\n\r\n                for (var j = 0; (j < 4) && (i + j * 0.75 < sigBytes); j++) {\r\n                    base64Chars.push(map.charAt((triplet >>> (6 * (3 - j))) & 0x3f));\r\n                }\r\n            }\r\n\r\n            // Add padding\r\n            var paddingChar = map.charAt(64);\r\n            if (paddingChar) {\r\n                while (base64Chars.length % 4) {\r\n                    base64Chars.push(paddingChar);\r\n                }\r\n            }\r\n\r\n            return base64Chars.join('');\r\n        },\r\n\r\n        /**\r\n         * Converts a Base64 string to a word array.\r\n         *\r\n         * @param {string} base64Str The Base64 string.\r\n         *\r\n         * @return {WordArray} The word array.\r\n         *\r\n         * @static\r\n         *\r\n         * @example\r\n         *\r\n         *     var wordArray = CryptoJS.enc.Base64.parse(base64String);\r\n         */\r\n        parse: function (base64Str) {\r\n            // Shortcuts\r\n            var base64StrLength = base64Str.length;\r\n            var map = this._map;\r\n\r\n            // Ignore padding\r\n            var paddingChar = map.charAt(64);\r\n            if (paddingChar) {\r\n                var paddingIndex = base64Str.indexOf(paddingChar);\r\n                if (paddingIndex != -1) {\r\n                    base64StrLength = paddingIndex;\r\n                }\r\n            }\r\n\r\n            // Convert\r\n            var words = [];\r\n            var nBytes = 0;\r\n            for (var i = 0; i < base64StrLength; i++) {\r\n                if (i % 4) {\r\n                    var bits1 = map.indexOf(base64Str.charAt(i - 1)) << ((i % 4) * 2);\r\n                    var bits2 = map.indexOf(base64Str.charAt(i)) >>> (6 - (i % 4) * 2);\r\n                    words[nBytes >>> 2] |= (bits1 | bits2) << (24 - (nBytes % 4) * 8);\r\n                    nBytes++;\r\n                }\r\n            }\r\n\r\n            return WordArray.create(words, nBytes);\r\n        },\r\n\r\n        _map: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='\r\n    };\r\n}());\r\n\r\nmodule.exports = CryptoJS;\r\n\r\n\r\n/***/ }),\r\n/* 7 */\r\n/***/ (function(module, exports) {\r\n\r\n//copyright Ryan Day 2010 <http://ryanday.org>, Joscha Feth 2013 <http://www.feth.com> [MIT Licensed]\r\n\r\nvar element_start_char =\r\n    \"a-zA-Z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u00FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FFF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\";\r\nvar element_non_start_char = \"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F\\u2040\";\r\nvar element_replace = new RegExp(\"^([^\" + element_start_char + \"])|^((x|X)(m|M)(l|L))|([^\" + element_start_char + element_non_start_char + \"])\", \"g\");\r\nvar not_safe_in_xml = /[^\\x09\\x0A\\x0D\\x20-\\xFF\\x85\\xA0-\\uD7FF\\uE000-\\uFDCF\\uFDE0-\\uFFFD]/gm;\r\n\r\nvar objKeys = function (obj) {\r\n    var l = [];\r\n    if (obj instanceof Object) {\r\n        for (var k in obj) {\r\n            if (obj.hasOwnProperty(k)) {\r\n                l.push(k);\r\n            }\r\n        }\r\n    }\r\n    return l;\r\n};\r\nvar process_to_xml = function (node_data, options) {\r\n\r\n    var makeNode = function (name, content, attributes, level, hasSubNodes) {\r\n        var indent_value = options.indent !== undefined ? options.indent : \"\\t\";\r\n        var indent = options.prettyPrint ? '\\n' + new Array(level).join(indent_value) : '';\r\n        if (options.removeIllegalNameCharacters) {\r\n            name = name.replace(element_replace, '_');\r\n        }\r\n\r\n        var node = [indent, '<', name, (attributes || '')];\r\n        if (content && content.length > 0) {\r\n            node.push('>')\r\n            node.push(content);\r\n            hasSubNodes && node.push(indent);\r\n            node.push('</');\r\n            node.push(name);\r\n            node.push('>');\r\n        } else {\r\n            node.push('/>');\r\n        }\r\n        return node.join('');\r\n    };\r\n\r\n    return (function fn(node_data, node_descriptor, level) {\r\n        var type = typeof node_data;\r\n        if ((Array.isArray) ? Array.isArray(node_data) : node_data instanceof Array) {\r\n            type = 'array';\r\n        } else if (node_data instanceof Date) {\r\n            type = 'date';\r\n        }\r\n\r\n        switch (type) {\r\n            //if value is an array create child nodes from values\r\n            case 'array':\r\n                var ret = [];\r\n                node_data.map(function (v) {\r\n                    ret.push(fn(v, 1, level + 1));\r\n                    //entries that are values of an array are the only ones that can be special node descriptors\r\n                });\r\n                options.prettyPrint && ret.push('\\n');\r\n                return ret.join('');\r\n                break;\r\n\r\n            case 'date':\r\n                // cast dates to ISO 8601 date (soap likes it)\r\n                return node_data.toJSON ? node_data.toJSON() : node_data + '';\r\n                break;\r\n\r\n            case 'object':\r\n                var nodes = [];\r\n                for (var name in node_data) {\r\n                    if (node_data[name] instanceof Array) {\r\n                        for (var j in node_data[name]) {\r\n                            nodes.push(makeNode(name, fn(node_data[name][j], 0, level + 1), null, level + 1, objKeys(node_data[name][j]).length));\r\n                        }\r\n                    } else {\r\n                        nodes.push(makeNode(name, fn(node_data[name], 0, level + 1), null, level + 1));\r\n                    }\r\n                }\r\n                options.prettyPrint && nodes.length > 0 && nodes.push('\\n');\r\n                return nodes.join('');\r\n                break;\r\n\r\n            case 'function':\r\n                return node_data();\r\n                break;\r\n\r\n            default:\r\n                return options.escape ? esc(node_data) : '' + node_data;\r\n        }\r\n\r\n    }(node_data, 0, 0))\r\n};\r\n\r\n\r\nvar xml_header = function (standalone) {\r\n    var ret = ['<?xml version=\"1.0\" encoding=\"UTF-8\"'];\r\n\r\n    if (standalone) {\r\n        ret.push(' standalone=\"yes\"');\r\n    }\r\n    ret.push('?>');\r\n\r\n    return ret.join('');\r\n};\r\n\r\nfunction esc(str) {\r\n    return ('' + str).replace(/&/g, '&amp;')\r\n        .replace(/</g, '&lt;')\r\n        .replace(/>/g, '&gt;')\r\n        .replace(/'/g, '&apos;')\r\n        .replace(/\"/g, '&quot;')\r\n        .replace(not_safe_in_xml, '');\r\n}\r\n\r\nvar json2xml = function (obj, options) {\r\n\r\n    if (!options) {\r\n        options = {\r\n            xmlHeader: {\r\n                standalone: true\r\n            },\r\n            prettyPrint: true,\r\n            indent: \"  \"\r\n        };\r\n    }\r\n\r\n    if (typeof obj == 'string') {\r\n        try {\r\n            obj = JSON.parse(obj.toString());\r\n        } catch (e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    var xmlheader = '';\r\n    var docType = '';\r\n    if (options) {\r\n        if (typeof options == 'object') {\r\n            // our config is an object\r\n\r\n            if (options.xmlHeader) {\r\n                // the user wants an xml header\r\n                xmlheader = xml_header(!!options.xmlHeader.standalone);\r\n            }\r\n\r\n            if (typeof options.docType != 'undefined') {\r\n                docType = '<!DOCTYPE ' + options.docType + '>'\r\n            }\r\n        } else {\r\n            // our config is a boolean value, so just add xml header\r\n            xmlheader = xml_header();\r\n        }\r\n    }\r\n    options = options || {}\r\n\r\n    var ret = [\r\n        xmlheader,\r\n        (options.prettyPrint && docType ? '\\n' : ''),\r\n        docType,\r\n        process_to_xml(obj, options)\r\n    ];\r\n    return ret.join('').replace(/\\n{2,}/g, '\\n').replace(/\\s+$/g, '');\r\n};\r\n\r\nmodule.exports = json2xml;\r\n\r\n/***/ }),\r\n/* 8 */\r\n/***/ (function(module, exports) {\r\n\r\n/**\r\n *\r\n *  MD5 (Message-Digest Algorithm)\r\n *  http://www.webtoolkit.info/\r\n *\r\n **/\r\n\r\nvar md5 = function (string) {\r\n\r\n    function RotateLeft(lValue, iShiftBits) {\r\n        return (lValue<<iShiftBits) | (lValue>>>(32-iShiftBits));\r\n    }\r\n\r\n    function AddUnsigned(lX,lY) {\r\n        var lX4,lY4,lX8,lY8,lResult;\r\n        lX8 = (lX & 0x80000000);\r\n        lY8 = (lY & 0x80000000);\r\n        lX4 = (lX & 0x40000000);\r\n        lY4 = (lY & 0x40000000);\r\n        lResult = (lX & 0x3FFFFFFF)+(lY & 0x3FFFFFFF);\r\n        if (lX4 & lY4) {\r\n            return (lResult ^ 0x80000000 ^ lX8 ^ lY8);\r\n        }\r\n        if (lX4 | lY4) {\r\n            if (lResult & 0x40000000) {\r\n                return (lResult ^ 0xC0000000 ^ lX8 ^ lY8);\r\n            } else {\r\n                return (lResult ^ 0x40000000 ^ lX8 ^ lY8);\r\n            }\r\n        } else {\r\n            return (lResult ^ lX8 ^ lY8);\r\n        }\r\n    }\r\n\r\n    function F(x,y,z) { return (x & y) | ((~x) & z); }\r\n    function G(x,y,z) { return (x & z) | (y & (~z)); }\r\n    function H(x,y,z) { return (x ^ y ^ z); }\r\n    function I(x,y,z) { return (y ^ (x | (~z))); }\r\n\r\n    function FF(a,b,c,d,x,s,ac) {\r\n        a = AddUnsigned(a, AddUnsigned(AddUnsigned(F(b, c, d), x), ac));\r\n        return AddUnsigned(RotateLeft(a, s), b);\r\n    };\r\n\r\n    function GG(a,b,c,d,x,s,ac) {\r\n        a = AddUnsigned(a, AddUnsigned(AddUnsigned(G(b, c, d), x), ac));\r\n        return AddUnsigned(RotateLeft(a, s), b);\r\n    };\r\n\r\n    function HH(a,b,c,d,x,s,ac) {\r\n        a = AddUnsigned(a, AddUnsigned(AddUnsigned(H(b, c, d), x), ac));\r\n        return AddUnsigned(RotateLeft(a, s), b);\r\n    };\r\n\r\n    function II(a,b,c,d,x,s,ac) {\r\n        a = AddUnsigned(a, AddUnsigned(AddUnsigned(I(b, c, d), x), ac));\r\n        return AddUnsigned(RotateLeft(a, s), b);\r\n    };\r\n\r\n    function ConvertToWordArray(string) {\r\n        var lWordCount;\r\n        var lMessageLength = string.length;\r\n        var lNumberOfWords_temp1=lMessageLength + 8;\r\n        var lNumberOfWords_temp2=(lNumberOfWords_temp1-(lNumberOfWords_temp1 % 64))/64;\r\n        var lNumberOfWords = (lNumberOfWords_temp2+1)*16;\r\n        var lWordArray=Array(lNumberOfWords-1);\r\n        var lBytePosition = 0;\r\n        var lByteCount = 0;\r\n        while ( lByteCount < lMessageLength ) {\r\n            lWordCount = (lByteCount-(lByteCount % 4))/4;\r\n            lBytePosition = (lByteCount % 4)*8;\r\n            lWordArray[lWordCount] = (lWordArray[lWordCount] | (string.charCodeAt(lByteCount)<<lBytePosition));\r\n            lByteCount++;\r\n        }\r\n        lWordCount = (lByteCount-(lByteCount % 4))/4;\r\n        lBytePosition = (lByteCount % 4)*8;\r\n        lWordArray[lWordCount] = lWordArray[lWordCount] | (0x80<<lBytePosition);\r\n        lWordArray[lNumberOfWords-2] = lMessageLength<<3;\r\n        lWordArray[lNumberOfWords-1] = lMessageLength>>>29;\r\n        return lWordArray;\r\n    };\r\n\r\n    function WordToHex(lValue) {\r\n        var WordToHexValue=\"\",WordToHexValue_temp=\"\",lByte,lCount;\r\n        for (lCount = 0;lCount<=3;lCount++) {\r\n            lByte = (lValue>>>(lCount*8)) & 255;\r\n            WordToHexValue_temp = \"0\" + lByte.toString(16);\r\n            WordToHexValue = WordToHexValue + WordToHexValue_temp.substr(WordToHexValue_temp.length-2,2);\r\n        }\r\n        return WordToHexValue;\r\n    };\r\n\r\n    function Utf8Encode(string) {\r\n        string = string.replace(/\\r\\n/g,\"\\n\");\r\n        var utftext = \"\";\r\n\r\n        for (var n = 0; n < string.length; n++) {\r\n\r\n            var c = string.charCodeAt(n);\r\n\r\n            if (c < 128) {\r\n                utftext += String.fromCharCode(c);\r\n            }\r\n            else if((c > 127) && (c < 2048)) {\r\n                utftext += String.fromCharCode((c >> 6) | 192);\r\n                utftext += String.fromCharCode((c & 63) | 128);\r\n            }\r\n            else {\r\n                utftext += String.fromCharCode((c >> 12) | 224);\r\n                utftext += String.fromCharCode(((c >> 6) & 63) | 128);\r\n                utftext += String.fromCharCode((c & 63) | 128);\r\n            }\r\n\r\n        }\r\n\r\n        return utftext;\r\n    };\r\n\r\n    var x=Array();\r\n    var k,AA,BB,CC,DD,a,b,c,d;\r\n    var S11=7, S12=12, S13=17, S14=22;\r\n    var S21=5, S22=9 , S23=14, S24=20;\r\n    var S31=4, S32=11, S33=16, S34=23;\r\n    var S41=6, S42=10, S43=15, S44=21;\r\n\r\n    string = Utf8Encode(string);\r\n\r\n    x = ConvertToWordArray(string);\r\n\r\n    a = 0x67452301; b = 0xEFCDAB89; c = 0x98BADCFE; d = 0x10325476;\r\n\r\n    for (k=0;k<x.length;k+=16) {\r\n        AA=a; BB=b; CC=c; DD=d;\r\n        a=FF(a,b,c,d,x[k+0], S11,0xD76AA478);\r\n        d=FF(d,a,b,c,x[k+1], S12,0xE8C7B756);\r\n        c=FF(c,d,a,b,x[k+2], S13,0x242070DB);\r\n        b=FF(b,c,d,a,x[k+3], S14,0xC1BDCEEE);\r\n        a=FF(a,b,c,d,x[k+4], S11,0xF57C0FAF);\r\n        d=FF(d,a,b,c,x[k+5], S12,0x4787C62A);\r\n        c=FF(c,d,a,b,x[k+6], S13,0xA8304613);\r\n        b=FF(b,c,d,a,x[k+7], S14,0xFD469501);\r\n        a=FF(a,b,c,d,x[k+8], S11,0x698098D8);\r\n        d=FF(d,a,b,c,x[k+9], S12,0x8B44F7AF);\r\n        c=FF(c,d,a,b,x[k+10],S13,0xFFFF5BB1);\r\n        b=FF(b,c,d,a,x[k+11],S14,0x895CD7BE);\r\n        a=FF(a,b,c,d,x[k+12],S11,0x6B901122);\r\n        d=FF(d,a,b,c,x[k+13],S12,0xFD987193);\r\n        c=FF(c,d,a,b,x[k+14],S13,0xA679438E);\r\n        b=FF(b,c,d,a,x[k+15],S14,0x49B40821);\r\n        a=GG(a,b,c,d,x[k+1], S21,0xF61E2562);\r\n        d=GG(d,a,b,c,x[k+6], S22,0xC040B340);\r\n        c=GG(c,d,a,b,x[k+11],S23,0x265E5A51);\r\n        b=GG(b,c,d,a,x[k+0], S24,0xE9B6C7AA);\r\n        a=GG(a,b,c,d,x[k+5], S21,0xD62F105D);\r\n        d=GG(d,a,b,c,x[k+10],S22,0x2441453);\r\n        c=GG(c,d,a,b,x[k+15],S23,0xD8A1E681);\r\n        b=GG(b,c,d,a,x[k+4], S24,0xE7D3FBC8);\r\n        a=GG(a,b,c,d,x[k+9], S21,0x21E1CDE6);\r\n        d=GG(d,a,b,c,x[k+14],S22,0xC33707D6);\r\n        c=GG(c,d,a,b,x[k+3], S23,0xF4D50D87);\r\n        b=GG(b,c,d,a,x[k+8], S24,0x455A14ED);\r\n        a=GG(a,b,c,d,x[k+13],S21,0xA9E3E905);\r\n        d=GG(d,a,b,c,x[k+2], S22,0xFCEFA3F8);\r\n        c=GG(c,d,a,b,x[k+7], S23,0x676F02D9);\r\n        b=GG(b,c,d,a,x[k+12],S24,0x8D2A4C8A);\r\n        a=HH(a,b,c,d,x[k+5], S31,0xFFFA3942);\r\n        d=HH(d,a,b,c,x[k+8], S32,0x8771F681);\r\n        c=HH(c,d,a,b,x[k+11],S33,0x6D9D6122);\r\n        b=HH(b,c,d,a,x[k+14],S34,0xFDE5380C);\r\n        a=HH(a,b,c,d,x[k+1], S31,0xA4BEEA44);\r\n        d=HH(d,a,b,c,x[k+4], S32,0x4BDECFA9);\r\n        c=HH(c,d,a,b,x[k+7], S33,0xF6BB4B60);\r\n        b=HH(b,c,d,a,x[k+10],S34,0xBEBFBC70);\r\n        a=HH(a,b,c,d,x[k+13],S31,0x289B7EC6);\r\n        d=HH(d,a,b,c,x[k+0], S32,0xEAA127FA);\r\n        c=HH(c,d,a,b,x[k+3], S33,0xD4EF3085);\r\n        b=HH(b,c,d,a,x[k+6], S34,0x4881D05);\r\n        a=HH(a,b,c,d,x[k+9], S31,0xD9D4D039);\r\n        d=HH(d,a,b,c,x[k+12],S32,0xE6DB99E5);\r\n        c=HH(c,d,a,b,x[k+15],S33,0x1FA27CF8);\r\n        b=HH(b,c,d,a,x[k+2], S34,0xC4AC5665);\r\n        a=II(a,b,c,d,x[k+0], S41,0xF4292244);\r\n        d=II(d,a,b,c,x[k+7], S42,0x432AFF97);\r\n        c=II(c,d,a,b,x[k+14],S43,0xAB9423A7);\r\n        b=II(b,c,d,a,x[k+5], S44,0xFC93A039);\r\n        a=II(a,b,c,d,x[k+12],S41,0x655B59C3);\r\n        d=II(d,a,b,c,x[k+3], S42,0x8F0CCC92);\r\n        c=II(c,d,a,b,x[k+10],S43,0xFFEFF47D);\r\n        b=II(b,c,d,a,x[k+1], S44,0x85845DD1);\r\n        a=II(a,b,c,d,x[k+8], S41,0x6FA87E4F);\r\n        d=II(d,a,b,c,x[k+15],S42,0xFE2CE6E0);\r\n        c=II(c,d,a,b,x[k+6], S43,0xA3014314);\r\n        b=II(b,c,d,a,x[k+13],S44,0x4E0811A1);\r\n        a=II(a,b,c,d,x[k+4], S41,0xF7537E82);\r\n        d=II(d,a,b,c,x[k+11],S42,0xBD3AF235);\r\n        c=II(c,d,a,b,x[k+2], S43,0x2AD7D2BB);\r\n        b=II(b,c,d,a,x[k+9], S44,0xEB86D391);\r\n        a=AddUnsigned(a,AA);\r\n        b=AddUnsigned(b,BB);\r\n        c=AddUnsigned(c,CC);\r\n        d=AddUnsigned(d,DD);\r\n    }\r\n\r\n    var temp = WordToHex(a)+WordToHex(b)+WordToHex(c)+WordToHex(d);\r\n\r\n    return temp.toLowerCase();\r\n}\r\n\r\nmodule.exports = md5;\r\n\r\n/***/ }),\r\n/* 9 */\r\n/***/ (function(module, exports) {\r\n\r\nvar obj2str = function (obj) {\r\n    var i, key, val;\r\n    var list = [];\r\n    var keyList = Object.keys(obj);\r\n    for (i = 0; i < keyList.length; i++) {\r\n        key = keyList[i];\r\n        val = obj[key] || '';\r\n        list.push(key + '=' + encodeURIComponent(val));\r\n    }\r\n    return list.join('&');\r\n};\r\n\r\nvar request = function (params, callback) {\r\n    var filePath = params.filePath;\r\n    var headers = params.headers || {};\r\n    var url = params.url;\r\n    var method = params.method;\r\n    var onProgress = params.onProgress;\r\n    var requestTask;\r\n\r\n    var cb = function (err, response) {\r\n        callback(err, {statusCode: response.statusCode, headers: response.header}, response.data);\r\n    };\r\n\r\n    if (filePath) {\r\n        var fileKey;\r\n        var m = url.match(/^(https?:\\/\\/[^/]+\\/)([^/]*\\/?)(.*)$/);\r\n        if (params.pathStyle) {\r\n            fileKey = decodeURIComponent(m[3] || '');\r\n            url = m[1] + m[2];\r\n        } else {\r\n            fileKey = decodeURIComponent(m[2] + m[3] || '');\r\n            url = m[1];\r\n        }\r\n\r\n        // 整理 postObject 参数\r\n        var formData = {\r\n            'key': fileKey,\r\n            'success_action_status': 200,\r\n            'Signature': headers.Authorization,\r\n        };\r\n        var headerKeys = [\r\n            'Cache-Control',\r\n            'Content-Type',\r\n            'Content-Disposition',\r\n            'Content-Encoding',\r\n            'Expires',\r\n            'x-cos-storage-class',\r\n            'x-cos-security-token',\r\n        ];\r\n        for (var i in params.headers) {\r\n            if (params.headers.hasOwnProperty(i) && (i.indexOf('x-cos-meta-') > -1 || headerKeys.indexOf(i) > -1)) {\r\n                formData[i] = params.headers[i];\r\n            }\r\n        }\r\n        headers['x-cos-acl'] && (formData.acl = headers['x-cos-acl']);\r\n        !formData['Content-Type'] && (formData['Content-Type'] = '');\r\n\r\n        var responseHeader = {};\r\n        requestTask = wx.uploadFile({\r\n            url: url,\r\n            method: method,\r\n            name: 'file',\r\n            filePath: filePath,\r\n            formData: formData,\r\n            success: function (response) {\r\n                !response.header && (response.header = responseHeader);\r\n                cb(null, response);\r\n            },\r\n            fail: function (response) {\r\n                cb(response.errMsg, response);\r\n            }\r\n        });\r\n\r\n        requestTask.onHeadersReceived && requestTask.onHeadersReceived(function(res){\r\n            responseHeader = res.header;\r\n        });\r\n\r\n        requestTask.onProgressUpdate(function (res) {\r\n            onProgress({\r\n                loaded: res.totalBytesSent,\r\n                total: res.totalBytesExpectedToSend,\r\n                progress: res.progress / 100\r\n            });\r\n        });\r\n    } else {\r\n        var qsStr = params.qs && obj2str(params.qs) || '';\r\n        if (qsStr) {\r\n            url += (url.indexOf('?') > -1 ? '&' : '?') + qsStr;\r\n        }\r\n        headers['Content-Length'] && (delete headers['Content-Length']);\r\n        wx.request({\r\n            url: url,\r\n            method: method,\r\n            header: headers,\r\n            dataType: 'text',\r\n            data: params.body,\r\n            success: function (response) {\r\n                cb(null, response);\r\n            },\r\n            fail: function (response) {\r\n                cb(response.errMsg, response);\r\n            }\r\n        });\r\n    }\r\n\r\n    return requestTask;\r\n};\r\n\r\nmodule.exports = request;\r\n\r\n/***/ }),\r\n/* 10 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n/*\r\n Copyright 2011-2013 Abdulla Abdurakhmanov\r\n Original sources are available at https://code.google.com/p/x2js/\r\n\r\n Licensed under the Apache License, Version 2.0 (the \"License\");\r\n you may not use this file except in compliance with the License.\r\n You may obtain a copy of the License at\r\n\r\n http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n Unless required by applicable law or agreed to in writing, software\r\n distributed under the License is distributed on an \"AS IS\" BASIS,\r\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n See the License for the specific language governing permissions and\r\n limitations under the License.\r\n */\r\nvar DOMParser = __webpack_require__(11).DOMParser;\r\n\r\nvar x2js = function (config) {\r\n    'use strict';\r\n\r\n    var VERSION = \"1.2.0\";\r\n\r\n    config = config || {};\r\n    initConfigDefaults();\r\n    initRequiredPolyfills();\r\n\r\n    function initConfigDefaults() {\r\n        if(config.escapeMode === undefined) {\r\n            config.escapeMode = true;\r\n        }\r\n\r\n        config.attributePrefix = config.attributePrefix || \"_\";\r\n        config.arrayAccessForm = config.arrayAccessForm || \"none\";\r\n        config.emptyNodeForm = config.emptyNodeForm || \"text\";\r\n\r\n        if(config.enableToStringFunc === undefined) {\r\n            config.enableToStringFunc = true;\r\n        }\r\n        config.arrayAccessFormPaths = config.arrayAccessFormPaths || [];\r\n        if(config.skipEmptyTextNodesForObj === undefined) {\r\n            config.skipEmptyTextNodesForObj = true;\r\n        }\r\n        if(config.stripWhitespaces === undefined) {\r\n            config.stripWhitespaces = true;\r\n        }\r\n        config.datetimeAccessFormPaths = config.datetimeAccessFormPaths || [];\r\n\r\n        if(config.useDoubleQuotes === undefined) {\r\n            config.useDoubleQuotes = false;\r\n        }\r\n\r\n        config.xmlElementsFilter = config.xmlElementsFilter || [];\r\n        config.jsonPropertiesFilter = config.jsonPropertiesFilter || [];\r\n\r\n        if(config.keepCData === undefined) {\r\n            config.keepCData = false;\r\n        }\r\n    }\r\n\r\n    var DOMNodeTypes = {\r\n        ELEMENT_NODE \t   : 1,\r\n        TEXT_NODE    \t   : 3,\r\n        CDATA_SECTION_NODE : 4,\r\n        COMMENT_NODE\t   : 8,\r\n        DOCUMENT_NODE \t   : 9\r\n    };\r\n\r\n    function initRequiredPolyfills() {\r\n    }\r\n\r\n    function getNodeLocalName( node ) {\r\n        var nodeLocalName = node.localName;\r\n        if(nodeLocalName == null) // Yeah, this is IE!!\r\n            nodeLocalName = node.baseName;\r\n        if(nodeLocalName == null || nodeLocalName==\"\") // ==\"\" is IE too\r\n            nodeLocalName = node.nodeName;\r\n        return nodeLocalName;\r\n    }\r\n\r\n    function getNodePrefix(node) {\r\n        return node.prefix;\r\n    }\r\n\r\n    function escapeXmlChars(str) {\r\n        if(typeof(str) == \"string\")\r\n            return str.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/'/g, '&apos;');\r\n        else\r\n            return str;\r\n    }\r\n\r\n    function unescapeXmlChars(str) {\r\n        return str.replace(/&lt;/g, '<').replace(/&gt;/g, '>').replace(/&quot;/g, '\"').replace(/&apos;/g, \"'\").replace(/&amp;/g, '&');\r\n    }\r\n\r\n    function checkInStdFiltersArrayForm(stdFiltersArrayForm, obj, name, path) {\r\n        var idx = 0;\r\n        for(; idx < stdFiltersArrayForm.length; idx++) {\r\n            var filterPath = stdFiltersArrayForm[idx];\r\n            if( typeof filterPath === \"string\" ) {\r\n                if(filterPath == path)\r\n                    break;\r\n            }\r\n            else\r\n            if( filterPath instanceof RegExp) {\r\n                if(filterPath.test(path))\r\n                    break;\r\n            }\r\n            else\r\n            if( typeof filterPath === \"function\") {\r\n                if(filterPath(obj, name, path))\r\n                    break;\r\n            }\r\n        }\r\n        return idx!=stdFiltersArrayForm.length;\r\n    }\r\n\r\n    function toArrayAccessForm(obj, childName, path) {\r\n        switch(config.arrayAccessForm) {\r\n            case \"property\":\r\n                if(!(obj[childName] instanceof Array))\r\n                    obj[childName+\"_asArray\"] = [obj[childName]];\r\n                else\r\n                    obj[childName+\"_asArray\"] = obj[childName];\r\n                break;\r\n            /*case \"none\":\r\n             break;*/\r\n        }\r\n\r\n        if(!(obj[childName] instanceof Array) && config.arrayAccessFormPaths.length > 0) {\r\n            if(checkInStdFiltersArrayForm(config.arrayAccessFormPaths, obj, childName, path)) {\r\n                obj[childName] = [obj[childName]];\r\n            }\r\n        }\r\n    }\r\n\r\n    function fromXmlDateTime(prop) {\r\n        // Implementation based up on http://stackoverflow.com/questions/8178598/xml-datetime-to-javascript-date-object\r\n        // Improved to support full spec and optional parts\r\n        var bits = prop.split(/[-T:+Z]/g);\r\n\r\n        var d = new Date(bits[0], bits[1]-1, bits[2]);\r\n        var secondBits = bits[5].split(\"\\.\");\r\n        d.setHours(bits[3], bits[4], secondBits[0]);\r\n        if(secondBits.length>1)\r\n            d.setMilliseconds(secondBits[1]);\r\n\r\n        // Get supplied time zone offset in minutes\r\n        if(bits[6] && bits[7]) {\r\n            var offsetMinutes = bits[6] * 60 + Number(bits[7]);\r\n            var sign = /\\d\\d-\\d\\d:\\d\\d$/.test(prop)? '-' : '+';\r\n\r\n            // Apply the sign\r\n            offsetMinutes = 0 + (sign == '-'? -1 * offsetMinutes : offsetMinutes);\r\n\r\n            // Apply offset and local timezone\r\n            d.setMinutes(d.getMinutes() - offsetMinutes - d.getTimezoneOffset())\r\n        }\r\n        else\r\n        if(prop.indexOf(\"Z\", prop.length - 1) !== -1) {\r\n            d = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate(), d.getHours(), d.getMinutes(), d.getSeconds(), d.getMilliseconds()));\r\n        }\r\n\r\n        // d is now a local time equivalent to the supplied time\r\n        return d;\r\n    }\r\n\r\n    function checkFromXmlDateTimePaths(value, childName, fullPath) {\r\n        if(config.datetimeAccessFormPaths.length > 0) {\r\n            var path = fullPath.split(\"\\.#\")[0];\r\n            if(checkInStdFiltersArrayForm(config.datetimeAccessFormPaths, value, childName, path)) {\r\n                return fromXmlDateTime(value);\r\n            }\r\n            else\r\n                return value;\r\n        }\r\n        else\r\n            return value;\r\n    }\r\n\r\n    function checkXmlElementsFilter(obj, childType, childName, childPath) {\r\n        if( childType == DOMNodeTypes.ELEMENT_NODE && config.xmlElementsFilter.length > 0) {\r\n            return checkInStdFiltersArrayForm(config.xmlElementsFilter, obj, childName, childPath);\r\n        }\r\n        else\r\n            return true;\r\n    }\r\n\r\n    function parseDOMChildren( node, path ) {\r\n        if(node.nodeType == DOMNodeTypes.DOCUMENT_NODE) {\r\n            var result = new Object;\r\n            var nodeChildren = node.childNodes;\r\n            // Alternative for firstElementChild which is not supported in some environments\r\n            for(var cidx=0; cidx <nodeChildren.length; cidx++) {\r\n                var child = nodeChildren.item(cidx);\r\n                if(child.nodeType == DOMNodeTypes.ELEMENT_NODE) {\r\n                    var childName = getNodeLocalName(child);\r\n                    result[childName] = parseDOMChildren(child, childName);\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n        else\r\n        if(node.nodeType == DOMNodeTypes.ELEMENT_NODE) {\r\n            var result = new Object;\r\n            result.__cnt=0;\r\n\r\n            var nodeChildren = node.childNodes;\r\n\r\n            // Children nodes\r\n            for(var cidx=0; cidx <nodeChildren.length; cidx++) {\r\n                var child = nodeChildren.item(cidx); // nodeChildren[cidx];\r\n                var childName = getNodeLocalName(child);\r\n\r\n                if(child.nodeType!= DOMNodeTypes.COMMENT_NODE) {\r\n                    var childPath = path+\".\"+childName;\r\n                    if (checkXmlElementsFilter(result,child.nodeType,childName,childPath)) {\r\n                        result.__cnt++;\r\n                        if(result[childName] == null) {\r\n                            result[childName] = parseDOMChildren(child, childPath);\r\n                            toArrayAccessForm(result, childName, childPath);\r\n                        }\r\n                        else {\r\n                            if(result[childName] != null) {\r\n                                if( !(result[childName] instanceof Array)) {\r\n                                    result[childName] = [result[childName]];\r\n                                    toArrayAccessForm(result, childName, childPath);\r\n                                }\r\n                            }\r\n                            (result[childName])[result[childName].length] = parseDOMChildren(child, childPath);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Attributes\r\n            for(var aidx=0; aidx <node.attributes.length; aidx++) {\r\n                var attr = node.attributes.item(aidx); // [aidx];\r\n                result.__cnt++;\r\n                result[config.attributePrefix+attr.name]=attr.value;\r\n            }\r\n\r\n            // Node namespace prefix\r\n            var nodePrefix = getNodePrefix(node);\r\n            if(nodePrefix!=null && nodePrefix!=\"\") {\r\n                result.__cnt++;\r\n                result.__prefix=nodePrefix;\r\n            }\r\n\r\n            if(result[\"#text\"]!=null) {\r\n                result.__text = result[\"#text\"];\r\n                if(result.__text instanceof Array) {\r\n                    result.__text = result.__text.join(\"\\n\");\r\n                }\r\n                //if(config.escapeMode)\r\n                //\tresult.__text = unescapeXmlChars(result.__text);\r\n                if(config.stripWhitespaces)\r\n                    result.__text = result.__text.trim();\r\n                delete result[\"#text\"];\r\n                if(config.arrayAccessForm==\"property\")\r\n                    delete result[\"#text_asArray\"];\r\n                result.__text = checkFromXmlDateTimePaths(result.__text, childName, path+\".\"+childName);\r\n            }\r\n            if(result[\"#cdata-section\"]!=null) {\r\n                result.__cdata = result[\"#cdata-section\"];\r\n                delete result[\"#cdata-section\"];\r\n                if(config.arrayAccessForm==\"property\")\r\n                    delete result[\"#cdata-section_asArray\"];\r\n            }\r\n\r\n            if( result.__cnt == 0 && config.emptyNodeForm==\"text\" ) {\r\n                result = '';\r\n            }\r\n            else\r\n            if( result.__cnt == 1 && result.__text!=null  ) {\r\n                result = result.__text;\r\n            }\r\n            else\r\n            if( result.__cnt == 1 && result.__cdata!=null && !config.keepCData  ) {\r\n                result = result.__cdata;\r\n            }\r\n            else\r\n            if ( result.__cnt > 1 && result.__text!=null && config.skipEmptyTextNodesForObj) {\r\n                if( (config.stripWhitespaces && result.__text==\"\") || (result.__text.trim()==\"\")) {\r\n                    delete result.__text;\r\n                }\r\n            }\r\n            delete result.__cnt;\r\n\r\n            if( config.enableToStringFunc && (result.__text!=null || result.__cdata!=null )) {\r\n                result.toString = function() {\r\n                    return (this.__text!=null? this.__text:'')+( this.__cdata!=null ? this.__cdata:'');\r\n                };\r\n            }\r\n\r\n            return result;\r\n        }\r\n        else\r\n        if(node.nodeType == DOMNodeTypes.TEXT_NODE || node.nodeType == DOMNodeTypes.CDATA_SECTION_NODE) {\r\n            return node.nodeValue;\r\n        }\r\n    }\r\n\r\n    function startTag(jsonObj, element, attrList, closed) {\r\n        var resultStr = \"<\"+ ( (jsonObj!=null && jsonObj.__prefix!=null)? (jsonObj.__prefix+\":\"):\"\") + element;\r\n        if(attrList!=null) {\r\n            for(var aidx = 0; aidx < attrList.length; aidx++) {\r\n                var attrName = attrList[aidx];\r\n                var attrVal = jsonObj[attrName];\r\n                if(config.escapeMode)\r\n                    attrVal=escapeXmlChars(attrVal);\r\n                resultStr+=\" \"+attrName.substr(config.attributePrefix.length)+\"=\";\r\n                if(config.useDoubleQuotes)\r\n                    resultStr+='\"'+attrVal+'\"';\r\n                else\r\n                    resultStr+=\"'\"+attrVal+\"'\";\r\n            }\r\n        }\r\n        if(!closed)\r\n            resultStr+=\">\";\r\n        else\r\n            resultStr+=\"/>\";\r\n        return resultStr;\r\n    }\r\n\r\n    function endTag(jsonObj,elementName) {\r\n        return \"</\"+ (jsonObj.__prefix!=null? (jsonObj.__prefix+\":\"):\"\")+elementName+\">\";\r\n    }\r\n\r\n    function endsWith(str, suffix) {\r\n        return str.indexOf(suffix, str.length - suffix.length) !== -1;\r\n    }\r\n\r\n    function jsonXmlSpecialElem ( jsonObj, jsonObjField ) {\r\n        if((config.arrayAccessForm==\"property\" && endsWith(jsonObjField.toString(),(\"_asArray\")))\r\n            || jsonObjField.toString().indexOf(config.attributePrefix)==0\r\n            || jsonObjField.toString().indexOf(\"__\")==0\r\n            || (jsonObj[jsonObjField] instanceof Function) )\r\n            return true;\r\n        else\r\n            return false;\r\n    }\r\n\r\n    function jsonXmlElemCount ( jsonObj ) {\r\n        var elementsCnt = 0;\r\n        if(jsonObj instanceof Object ) {\r\n            for( var it in jsonObj  ) {\r\n                if(jsonXmlSpecialElem ( jsonObj, it) )\r\n                    continue;\r\n                elementsCnt++;\r\n            }\r\n        }\r\n        return elementsCnt;\r\n    }\r\n\r\n    function checkJsonObjPropertiesFilter(jsonObj, propertyName, jsonObjPath) {\r\n        return config.jsonPropertiesFilter.length == 0\r\n            || jsonObjPath==\"\"\r\n            || checkInStdFiltersArrayForm(config.jsonPropertiesFilter, jsonObj, propertyName, jsonObjPath);\r\n    }\r\n\r\n    function parseJSONAttributes ( jsonObj ) {\r\n        var attrList = [];\r\n        if(jsonObj instanceof Object ) {\r\n            for( var ait in jsonObj  ) {\r\n                if(ait.toString().indexOf(\"__\")== -1 && ait.toString().indexOf(config.attributePrefix)==0) {\r\n                    attrList.push(ait);\r\n                }\r\n            }\r\n        }\r\n        return attrList;\r\n    }\r\n\r\n    function parseJSONTextAttrs ( jsonTxtObj ) {\r\n        var result =\"\";\r\n\r\n        if(jsonTxtObj.__cdata!=null) {\r\n            result+=\"<![CDATA[\"+jsonTxtObj.__cdata+\"]]>\";\r\n        }\r\n\r\n        if(jsonTxtObj.__text!=null) {\r\n            if(config.escapeMode)\r\n                result+=escapeXmlChars(jsonTxtObj.__text);\r\n            else\r\n                result+=jsonTxtObj.__text;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    function parseJSONTextObject ( jsonTxtObj ) {\r\n        var result =\"\";\r\n\r\n        if( jsonTxtObj instanceof Object ) {\r\n            result+=parseJSONTextAttrs ( jsonTxtObj );\r\n        }\r\n        else\r\n        if(jsonTxtObj!=null) {\r\n            if(config.escapeMode)\r\n                result+=escapeXmlChars(jsonTxtObj);\r\n            else\r\n                result+=jsonTxtObj;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    function getJsonPropertyPath(jsonObjPath, jsonPropName) {\r\n        if (jsonObjPath===\"\") {\r\n            return jsonPropName;\r\n        }\r\n        else\r\n            return jsonObjPath+\".\"+jsonPropName;\r\n    }\r\n\r\n    function parseJSONArray ( jsonArrRoot, jsonArrObj, attrList, jsonObjPath ) {\r\n        var result = \"\";\r\n        if(jsonArrRoot.length == 0) {\r\n            result+=startTag(jsonArrRoot, jsonArrObj, attrList, true);\r\n        }\r\n        else {\r\n            for(var arIdx = 0; arIdx < jsonArrRoot.length; arIdx++) {\r\n                result+=startTag(jsonArrRoot[arIdx], jsonArrObj, parseJSONAttributes(jsonArrRoot[arIdx]), false);\r\n                result+=parseJSONObject(jsonArrRoot[arIdx], getJsonPropertyPath(jsonObjPath,jsonArrObj));\r\n                result+=endTag(jsonArrRoot[arIdx],jsonArrObj);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    function parseJSONObject ( jsonObj, jsonObjPath ) {\r\n        var result = \"\";\r\n\r\n        var elementsCnt = jsonXmlElemCount ( jsonObj );\r\n\r\n        if(elementsCnt > 0) {\r\n            for( var it in jsonObj ) {\r\n\r\n                if(jsonXmlSpecialElem ( jsonObj, it) || (jsonObjPath!=\"\" && !checkJsonObjPropertiesFilter(jsonObj, it, getJsonPropertyPath(jsonObjPath,it))) )\r\n                    continue;\r\n\r\n                var subObj = jsonObj[it];\r\n\r\n                var attrList = parseJSONAttributes( subObj )\r\n\r\n                if(subObj == null || subObj == undefined) {\r\n                    result+=startTag(subObj, it, attrList, true);\r\n                }\r\n                else\r\n                if(subObj instanceof Object) {\r\n\r\n                    if(subObj instanceof Array) {\r\n                        result+=parseJSONArray( subObj, it, attrList, jsonObjPath );\r\n                    }\r\n                    else if(subObj instanceof Date) {\r\n                        result+=startTag(subObj, it, attrList, false);\r\n                        result+=subObj.toISOString();\r\n                        result+=endTag(subObj,it);\r\n                    }\r\n                    else {\r\n                        var subObjElementsCnt = jsonXmlElemCount ( subObj );\r\n                        if(subObjElementsCnt > 0 || subObj.__text!=null || subObj.__cdata!=null) {\r\n                            result+=startTag(subObj, it, attrList, false);\r\n                            result+=parseJSONObject(subObj, getJsonPropertyPath(jsonObjPath,it));\r\n                            result+=endTag(subObj,it);\r\n                        }\r\n                        else {\r\n                            result+=startTag(subObj, it, attrList, true);\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    result+=startTag(subObj, it, attrList, false);\r\n                    result+=parseJSONTextObject(subObj);\r\n                    result+=endTag(subObj,it);\r\n                }\r\n            }\r\n        }\r\n        result+=parseJSONTextObject(jsonObj);\r\n\r\n        return result;\r\n    }\r\n\r\n    this.parseXmlString = function(xmlDocStr) {\r\n        // var isIEParser = window.ActiveXObject || \"ActiveXObject\" in window;\r\n        var isIEParser = false;\r\n        if (xmlDocStr === undefined) {\r\n            return null;\r\n        }\r\n        var xmlDoc;\r\n        if (DOMParser) {\r\n            var parser=new DOMParser();\r\n            var parsererrorNS = null;\r\n            // IE9+ now is here\r\n            if(!isIEParser) {\r\n                try {\r\n                    parsererrorNS = parser.parseFromString(\"INVALID\", \"text/xml\").getElementsByTagName(\"parsererror\")[0].namespaceURI;\r\n                }\r\n                catch(err) {\r\n                    parsererrorNS = null;\r\n                }\r\n            }\r\n            try {\r\n                xmlDoc = parser.parseFromString( xmlDocStr, \"text/xml\" );\r\n                if( parsererrorNS!= null && xmlDoc.getElementsByTagNameNS(parsererrorNS, \"parsererror\").length > 0) {\r\n                    //throw new Error('Error parsing XML: '+xmlDocStr);\r\n                    xmlDoc = null;\r\n                }\r\n            }\r\n            catch(err) {\r\n                xmlDoc = null;\r\n            }\r\n        }\r\n        else {\r\n            // IE :(\r\n            if(xmlDocStr.indexOf(\"<?\")==0) {\r\n                xmlDocStr = xmlDocStr.substr( xmlDocStr.indexOf(\"?>\") + 2 );\r\n            }\r\n            xmlDoc=new ActiveXObject(\"Microsoft.XMLDOM\");\r\n            xmlDoc.async=\"false\";\r\n            xmlDoc.loadXML(xmlDocStr);\r\n        }\r\n        return xmlDoc;\r\n    };\r\n\r\n    this.asArray = function(prop) {\r\n        if (prop === undefined || prop == null)\r\n            return [];\r\n        else\r\n        if(prop instanceof Array)\r\n            return prop;\r\n        else\r\n            return [prop];\r\n    };\r\n\r\n    this.toXmlDateTime = function(dt) {\r\n        if(dt instanceof Date)\r\n            return dt.toISOString();\r\n        else\r\n        if(typeof(dt) === 'number' )\r\n            return new Date(dt).toISOString();\r\n        else\r\n            return null;\r\n    };\r\n\r\n    this.asDateTime = function(prop) {\r\n        if(typeof(prop) == \"string\") {\r\n            return fromXmlDateTime(prop);\r\n        }\r\n        else\r\n            return prop;\r\n    };\r\n\r\n    this.xml2json = function (xmlDoc) {\r\n        return parseDOMChildren ( xmlDoc );\r\n    };\r\n\r\n    this.xml_str2json = function (xmlDocStr) {\r\n        var xmlDoc = this.parseXmlString(xmlDocStr);\r\n        if(xmlDoc!=null)\r\n            return this.xml2json(xmlDoc);\r\n        else\r\n            return null;\r\n    };\r\n\r\n    this.json2xml_str = function (jsonObj) {\r\n        return parseJSONObject ( jsonObj, \"\" );\r\n    };\r\n\r\n    this.json2xml = function (jsonObj) {\r\n        var xmlDocStr = this.json2xml_str (jsonObj);\r\n        return this.parseXmlString(xmlDocStr);\r\n    };\r\n\r\n    this.getVersion = function () {\r\n        return VERSION;\r\n    };\r\n};\r\n\r\nvar xml2json = function (str) {\r\n    if (!str) return null;\r\n    var parser = new DOMParser();\r\n    var xmlDoc = parser.parseFromString(str, \"text/xml\");\r\n    var x2jsObj = new x2js();\r\n    var data = x2jsObj.xml2json(xmlDoc);\r\n    if (data.html && data.getElementsByTagName('parsererror').length) {\r\n        return null;\r\n    } else {\r\n        return data;\r\n    }\r\n};\r\n\r\nvar json2xml = function (data) {\r\n    var x2jsObj = new x2js();\r\n    return x2jsObj.json2xml(data);\r\n};\r\n\r\nmodule.exports = xml2json;\r\n\r\n/***/ }),\r\n/* 11 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\nfunction DOMParser(options){\r\n\tthis.options = options ||{locator:{}};\r\n\t\r\n}\r\nDOMParser.prototype.parseFromString = function(source,mimeType){\r\n\tvar options = this.options;\r\n\tvar sax =  new XMLReader();\r\n\tvar domBuilder = options.domBuilder || new DOMHandler();//contentHandler and LexicalHandler\r\n\tvar errorHandler = options.errorHandler;\r\n\tvar locator = options.locator;\r\n\tvar defaultNSMap = options.xmlns||{};\r\n\tvar entityMap = {'lt':'<','gt':'>','amp':'&','quot':'\"','apos':\"'\"}\r\n\tif(locator){\r\n\t\tdomBuilder.setDocumentLocator(locator)\r\n\t}\r\n\t\r\n\tsax.errorHandler = buildErrorHandler(errorHandler,domBuilder,locator);\r\n\tsax.domBuilder = options.domBuilder || domBuilder;\r\n\tif(/\\/x?html?$/.test(mimeType)){\r\n\t\tentityMap.nbsp = '\\xa0';\r\n\t\tentityMap.copy = '\\xa9';\r\n\t\tdefaultNSMap['']= 'http://www.w3.org/1999/xhtml';\r\n\t}\r\n\tdefaultNSMap.xml = defaultNSMap.xml || 'http://www.w3.org/XML/1998/namespace';\r\n\tif(source){\r\n\t\tsax.parse(source,defaultNSMap,entityMap);\r\n\t}else{\r\n\t\tsax.errorHandler.error(\"invalid doc source\");\r\n\t}\r\n\treturn domBuilder.doc;\r\n}\r\nfunction buildErrorHandler(errorImpl,domBuilder,locator){\r\n\tif(!errorImpl){\r\n\t\tif(domBuilder instanceof DOMHandler){\r\n\t\t\treturn domBuilder;\r\n\t\t}\r\n\t\terrorImpl = domBuilder ;\r\n\t}\r\n\tvar errorHandler = {}\r\n\tvar isCallback = errorImpl instanceof Function;\r\n\tlocator = locator||{}\r\n\tfunction build(key){\r\n\t\tvar fn = errorImpl[key];\r\n\t\tif(!fn && isCallback){\r\n\t\t\tfn = errorImpl.length == 2?function(msg){errorImpl(key,msg)}:errorImpl;\r\n\t\t}\r\n\t\terrorHandler[key] = fn && function(msg){\r\n\t\t\tfn('[xmldom '+key+']\\t'+msg+_locator(locator));\r\n\t\t}||function(){};\r\n\t}\r\n\tbuild('warning');\r\n\tbuild('error');\r\n\tbuild('fatalError');\r\n\treturn errorHandler;\r\n}\r\n\r\n//console.log('#\\n\\n\\n\\n\\n\\n\\n####')\r\n/**\r\n * +ContentHandler+ErrorHandler\r\n * +LexicalHandler+EntityResolver2\r\n * -DeclHandler-DTDHandler \r\n * \r\n * DefaultHandler:EntityResolver, DTDHandler, ContentHandler, ErrorHandler\r\n * DefaultHandler2:DefaultHandler,LexicalHandler, DeclHandler, EntityResolver2\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/helpers/DefaultHandler.html\r\n */\r\nfunction DOMHandler() {\r\n    this.cdata = false;\r\n}\r\nfunction position(locator,node){\r\n\tnode.lineNumber = locator.lineNumber;\r\n\tnode.columnNumber = locator.columnNumber;\r\n}\r\n/**\r\n * @see org.xml.sax.ContentHandler#startDocument\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ContentHandler.html\r\n */ \r\nDOMHandler.prototype = {\r\n\tstartDocument : function() {\r\n    \tthis.doc = new DOMImplementation().createDocument(null, null, null);\r\n    \tif (this.locator) {\r\n        \tthis.doc.documentURI = this.locator.systemId;\r\n    \t}\r\n\t},\r\n\tstartElement:function(namespaceURI, localName, qName, attrs) {\r\n\t\tvar doc = this.doc;\r\n\t    var el = doc.createElementNS(namespaceURI, qName||localName);\r\n\t    var len = attrs.length;\r\n\t    appendElement(this, el);\r\n\t    this.currentElement = el;\r\n\t    \r\n\t\tthis.locator && position(this.locator,el)\r\n\t    for (var i = 0 ; i < len; i++) {\r\n\t        var namespaceURI = attrs.getURI(i);\r\n\t        var value = attrs.getValue(i);\r\n\t        var qName = attrs.getQName(i);\r\n\t\t\tvar attr = doc.createAttributeNS(namespaceURI, qName);\r\n\t\t\tthis.locator &&position(attrs.getLocator(i),attr);\r\n\t\t\tattr.value = attr.nodeValue = value;\r\n\t\t\tel.setAttributeNode(attr)\r\n\t    }\r\n\t},\r\n\tendElement:function(namespaceURI, localName, qName) {\r\n\t\tvar current = this.currentElement\r\n\t\tvar tagName = current.tagName;\r\n\t\tthis.currentElement = current.parentNode;\r\n\t},\r\n\tstartPrefixMapping:function(prefix, uri) {\r\n\t},\r\n\tendPrefixMapping:function(prefix) {\r\n\t},\r\n\tprocessingInstruction:function(target, data) {\r\n\t    var ins = this.doc.createProcessingInstruction(target, data);\r\n\t    this.locator && position(this.locator,ins)\r\n\t    appendElement(this, ins);\r\n\t},\r\n\tignorableWhitespace:function(ch, start, length) {\r\n\t},\r\n\tcharacters:function(chars, start, length) {\r\n\t\tchars = _toString.apply(this,arguments)\r\n\t\t//console.log(chars)\r\n\t\tif(chars){\r\n\t\t\tif (this.cdata) {\r\n\t\t\t\tvar charNode = this.doc.createCDATASection(chars);\r\n\t\t\t} else {\r\n\t\t\t\tvar charNode = this.doc.createTextNode(chars);\r\n\t\t\t}\r\n\t\t\tif(this.currentElement){\r\n\t\t\t\tthis.currentElement.appendChild(charNode);\r\n\t\t\t}else if(/^\\s*$/.test(chars)){\r\n\t\t\t\tthis.doc.appendChild(charNode);\r\n\t\t\t\t//process xml\r\n\t\t\t}\r\n\t\t\tthis.locator && position(this.locator,charNode)\r\n\t\t}\r\n\t},\r\n\tskippedEntity:function(name) {\r\n\t},\r\n\tendDocument:function() {\r\n\t\tthis.doc.normalize();\r\n\t},\r\n\tsetDocumentLocator:function (locator) {\r\n\t    if(this.locator = locator){// && !('lineNumber' in locator)){\r\n\t    \tlocator.lineNumber = 0;\r\n\t    }\r\n\t},\r\n\t//LexicalHandler\r\n\tcomment:function(chars, start, length) {\r\n\t\tchars = _toString.apply(this,arguments)\r\n\t    var comm = this.doc.createComment(chars);\r\n\t    this.locator && position(this.locator,comm)\r\n\t    appendElement(this, comm);\r\n\t},\r\n\t\r\n\tstartCDATA:function() {\r\n\t    //used in characters() methods\r\n\t    this.cdata = true;\r\n\t},\r\n\tendCDATA:function() {\r\n\t    this.cdata = false;\r\n\t},\r\n\t\r\n\tstartDTD:function(name, publicId, systemId) {\r\n\t\tvar impl = this.doc.implementation;\r\n\t    if (impl && impl.createDocumentType) {\r\n\t        var dt = impl.createDocumentType(name, publicId, systemId);\r\n\t        this.locator && position(this.locator,dt)\r\n\t        appendElement(this, dt);\r\n\t    }\r\n\t},\r\n\t/**\r\n\t * @see org.xml.sax.ErrorHandler\r\n\t * @link http://www.saxproject.org/apidoc/org/xml/sax/ErrorHandler.html\r\n\t */\r\n\twarning:function(error) {\r\n\t\tconsole.warn('[xmldom warning]\\t'+error,_locator(this.locator));\r\n\t},\r\n\terror:function(error) {\r\n\t\tconsole.error('[xmldom error]\\t'+error,_locator(this.locator));\r\n\t},\r\n\tfatalError:function(error) {\r\n\t\tconsole.error('[xmldom fatalError]\\t'+error,_locator(this.locator));\r\n\t    throw error;\r\n\t}\r\n}\r\nfunction _locator(l){\r\n\tif(l){\r\n\t\treturn '\\n@'+(l.systemId ||'')+'#[line:'+l.lineNumber+',col:'+l.columnNumber+']'\r\n\t}\r\n}\r\nfunction _toString(chars,start,length){\r\n\tif(typeof chars == 'string'){\r\n\t\treturn chars.substr(start,length)\r\n\t}else{//java sax connect width xmldom on rhino(what about: \"? && !(chars instanceof String)\")\r\n\t\tif(chars.length >= start+length || start){\r\n\t\t\treturn new java.lang.String(chars,start,length)+'';\r\n\t\t}\r\n\t\treturn chars;\r\n\t}\r\n}\r\n\r\n/*\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/LexicalHandler.html\r\n * used method of org.xml.sax.ext.LexicalHandler:\r\n *  #comment(chars, start, length)\r\n *  #startCDATA()\r\n *  #endCDATA()\r\n *  #startDTD(name, publicId, systemId)\r\n *\r\n *\r\n * IGNORED method of org.xml.sax.ext.LexicalHandler:\r\n *  #endDTD()\r\n *  #startEntity(name)\r\n *  #endEntity(name)\r\n *\r\n *\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/DeclHandler.html\r\n * IGNORED method of org.xml.sax.ext.DeclHandler\r\n * \t#attributeDecl(eName, aName, type, mode, value)\r\n *  #elementDecl(name, model)\r\n *  #externalEntityDecl(name, publicId, systemId)\r\n *  #internalEntityDecl(name, value)\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/EntityResolver2.html\r\n * IGNORED method of org.xml.sax.EntityResolver2\r\n *  #resolveEntity(String name,String publicId,String baseURI,String systemId)\r\n *  #resolveEntity(publicId, systemId)\r\n *  #getExternalSubset(name, baseURI)\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/DTDHandler.html\r\n * IGNORED method of org.xml.sax.DTDHandler\r\n *  #notationDecl(name, publicId, systemId) {};\r\n *  #unparsedEntityDecl(name, publicId, systemId, notationName) {};\r\n */\r\n\"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl\".replace(/\\w+/g,function(key){\r\n\tDOMHandler.prototype[key] = function(){return null}\r\n})\r\n\r\n/* Private static helpers treated below as private instance methods, so don't need to add these to the public API; we might use a Relator to also get rid of non-standard public properties */\r\nfunction appendElement (hander,node) {\r\n    if (!hander.currentElement) {\r\n        hander.doc.appendChild(node);\r\n    } else {\r\n        hander.currentElement.appendChild(node);\r\n    }\r\n}//appendChild and setAttributeNS are preformance key\r\n\r\n//if(typeof require == 'function'){\r\n\tvar XMLReader = __webpack_require__(12).XMLReader;\r\n\tvar DOMImplementation = exports.DOMImplementation = __webpack_require__(2).DOMImplementation;\r\n\texports.XMLSerializer = __webpack_require__(2).XMLSerializer ;\r\n\texports.DOMParser = DOMParser;\r\n//}\r\n\r\n\r\n/***/ }),\r\n/* 12 */\r\n/***/ (function(module, exports) {\r\n\r\n//[4]   \tNameStartChar\t   ::=   \t\":\" | [A-Z] | \"_\" | [a-z] | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x2FF] | [#x370-#x37D] | [#x37F-#x1FFF] | [#x200C-#x200D] | [#x2070-#x218F] | [#x2C00-#x2FEF] | [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\r\n//[4a]   \tNameChar\t   ::=   \tNameStartChar | \"-\" | \".\" | [0-9] | #xB7 | [#x0300-#x036F] | [#x203F-#x2040]\r\n//[5]   \tName\t   ::=   \tNameStartChar (NameChar)*\r\nvar nameStartChar = /[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]///\\u10000-\\uEFFFF\r\nvar nameChar = new RegExp(\"[\\\\-\\\\.0-9\"+nameStartChar.source.slice(1,-1)+\"\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]\");\r\nvar tagNamePattern = new RegExp('^'+nameStartChar.source+nameChar.source+'*(?:\\:'+nameStartChar.source+nameChar.source+'*)?$');\r\n//var tagNamePattern = /^[a-zA-Z_][\\w\\-\\.]*(?:\\:[a-zA-Z_][\\w\\-\\.]*)?$/\r\n//var handlers = 'resolveEntity,getExternalSubset,characters,endDocument,endElement,endPrefixMapping,ignorableWhitespace,processingInstruction,setDocumentLocator,skippedEntity,startDocument,startElement,startPrefixMapping,notationDecl,unparsedEntityDecl,error,fatalError,warning,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,comment,endCDATA,endDTD,endEntity,startCDATA,startDTD,startEntity'.split(',')\r\n\r\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\r\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\r\nvar S_TAG = 0;//tag name offerring\r\nvar S_ATTR = 1;//attr name offerring \r\nvar S_ATTR_SPACE=2;//attr name end and space offer\r\nvar S_EQ = 3;//=space?\r\nvar S_ATTR_NOQUOT_VALUE = 4;//attr value(no quot value only)\r\nvar S_ATTR_END = 5;//attr value end and no space(quot end)\r\nvar S_TAG_SPACE = 6;//(attr value end || tag end ) && (space offer)\r\nvar S_TAG_CLOSE = 7;//closed el<el />\r\n\r\nfunction XMLReader(){\r\n\t\r\n}\r\n\r\nXMLReader.prototype = {\r\n\tparse:function(source,defaultNSMap,entityMap){\r\n\t\tvar domBuilder = this.domBuilder;\r\n\t\tdomBuilder.startDocument();\r\n\t\t_copy(defaultNSMap ,defaultNSMap = {})\r\n\t\tparse(source,defaultNSMap,entityMap,\r\n\t\t\t\tdomBuilder,this.errorHandler);\r\n\t\tdomBuilder.endDocument();\r\n\t}\r\n}\r\nfunction parse(source,defaultNSMapCopy,entityMap,domBuilder,errorHandler){\r\n\tfunction fixedFromCharCode(code) {\r\n\t\t// String.prototype.fromCharCode does not supports\r\n\t\t// > 2 bytes unicode chars directly\r\n\t\tif (code > 0xffff) {\r\n\t\t\tcode -= 0x10000;\r\n\t\t\tvar surrogate1 = 0xd800 + (code >> 10)\r\n\t\t\t\t, surrogate2 = 0xdc00 + (code & 0x3ff);\r\n\r\n\t\t\treturn String.fromCharCode(surrogate1, surrogate2);\r\n\t\t} else {\r\n\t\t\treturn String.fromCharCode(code);\r\n\t\t}\r\n\t}\r\n\tfunction entityReplacer(a){\r\n\t\tvar k = a.slice(1,-1);\r\n\t\tif(k in entityMap){\r\n\t\t\treturn entityMap[k]; \r\n\t\t}else if(k.charAt(0) === '#'){\r\n\t\t\treturn fixedFromCharCode(parseInt(k.substr(1).replace('x','0x')))\r\n\t\t}else{\r\n\t\t\terrorHandler.error('entity not found:'+a);\r\n\t\t\treturn a;\r\n\t\t}\r\n\t}\r\n\tfunction appendText(end){//has some bugs\r\n\t\tif(end>start){\r\n\t\t\tvar xt = source.substring(start,end).replace(/&#?\\w+;/g,entityReplacer);\r\n\t\t\tlocator&&position(start);\r\n\t\t\tdomBuilder.characters(xt,0,end-start);\r\n\t\t\tstart = end\r\n\t\t}\r\n\t}\r\n\tfunction position(p,m){\r\n\t\twhile(p>=lineEnd && (m = linePattern.exec(source))){\r\n\t\t\tlineStart = m.index;\r\n\t\t\tlineEnd = lineStart + m[0].length;\r\n\t\t\tlocator.lineNumber++;\r\n\t\t\t//console.log('line++:',locator,startPos,endPos)\r\n\t\t}\r\n\t\tlocator.columnNumber = p-lineStart+1;\r\n\t}\r\n\tvar lineStart = 0;\r\n\tvar lineEnd = 0;\r\n\tvar linePattern = /.*(?:\\r\\n?|\\n)|.*$/g\r\n\tvar locator = domBuilder.locator;\r\n\t\r\n\tvar parseStack = [{currentNSMap:defaultNSMapCopy}]\r\n\tvar closeMap = {};\r\n\tvar start = 0;\r\n\twhile(true){\r\n\t\ttry{\r\n\t\t\tvar tagStart = source.indexOf('<',start);\r\n\t\t\tif(tagStart<0){\r\n\t\t\t\tif(!source.substr(start).match(/^\\s*$/)){\r\n\t\t\t\t\tvar doc = domBuilder.doc;\r\n\t    \t\t\tvar text = doc.createTextNode(source.substr(start));\r\n\t    \t\t\tdoc.appendChild(text);\r\n\t    \t\t\tdomBuilder.currentElement = text;\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(tagStart>start){\r\n\t\t\t\tappendText(tagStart);\r\n\t\t\t}\r\n\t\t\tswitch(source.charAt(tagStart+1)){\r\n\t\t\tcase '/':\r\n\t\t\t\tvar end = source.indexOf('>',tagStart+3);\r\n\t\t\t\tvar tagName = source.substring(tagStart+2,end);\r\n\t\t\t\tvar config = parseStack.pop();\r\n\t\t\t\tif(end<0){\r\n\t\t\t\t\t\r\n\t        \t\ttagName = source.substring(tagStart+2).replace(/[\\s<].*/,'');\r\n\t        \t\t//console.error('#@@@@@@'+tagName)\r\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' is not complete:'+config.tagName);\r\n\t        \t\tend = tagStart+1+tagName.length;\r\n\t        \t}else if(tagName.match(/\\s</)){\r\n\t        \t\ttagName = tagName.replace(/[\\s<].*/,'');\r\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' maybe not complete');\r\n\t        \t\tend = tagStart+1+tagName.length;\r\n\t\t\t\t}\r\n\t\t\t\t//console.error(parseStack.length,parseStack)\r\n\t\t\t\t//console.error(config);\r\n\t\t\t\tvar localNSMap = config.localNSMap;\r\n\t\t\t\tvar endMatch = config.tagName == tagName;\r\n\t\t\t\tvar endIgnoreCaseMach = endMatch || config.tagName&&config.tagName.toLowerCase() == tagName.toLowerCase()\r\n\t\t        if(endIgnoreCaseMach){\r\n\t\t        \tdomBuilder.endElement(config.uri,config.localName,tagName);\r\n\t\t\t\t\tif(localNSMap){\r\n\t\t\t\t\t\tfor(var prefix in localNSMap){\r\n\t\t\t\t\t\t\tdomBuilder.endPrefixMapping(prefix) ;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!endMatch){\r\n\t\t            \terrorHandler.fatalError(\"end tag name: \"+tagName+' is not match the current start tagName:'+config.tagName );\r\n\t\t\t\t\t}\r\n\t\t        }else{\r\n\t\t        \tparseStack.push(config)\r\n\t\t        }\r\n\t\t\t\t\r\n\t\t\t\tend++;\r\n\t\t\t\tbreak;\r\n\t\t\t\t// end elment\r\n\t\t\tcase '?':// <?...?>\r\n\t\t\t\tlocator&&position(tagStart);\r\n\t\t\t\tend = parseInstruction(source,tagStart,domBuilder);\r\n\t\t\t\tbreak;\r\n\t\t\tcase '!':// <!doctype,<![CDATA,<!--\r\n\t\t\t\tlocator&&position(tagStart);\r\n\t\t\t\tend = parseDCC(source,tagStart,domBuilder,errorHandler);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tlocator&&position(tagStart);\r\n\t\t\t\tvar el = new ElementAttributes();\r\n\t\t\t\tvar currentNSMap = parseStack[parseStack.length-1].currentNSMap;\r\n\t\t\t\t//elStartEnd\r\n\t\t\t\tvar end = parseElementStartPart(source,tagStart,el,currentNSMap,entityReplacer,errorHandler);\r\n\t\t\t\tvar len = el.length;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif(!el.closed && fixSelfClosed(source,end,el.tagName,closeMap)){\r\n\t\t\t\t\tel.closed = true;\r\n\t\t\t\t\tif(!entityMap.nbsp){\r\n\t\t\t\t\t\terrorHandler.warning('unclosed xml attribute');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(locator && len){\r\n\t\t\t\t\tvar locator2 = copyLocator(locator,{});\r\n\t\t\t\t\t//try{//attribute position fixed\r\n\t\t\t\t\tfor(var i = 0;i<len;i++){\r\n\t\t\t\t\t\tvar a = el[i];\r\n\t\t\t\t\t\tposition(a.offset);\r\n\t\t\t\t\t\ta.locator = copyLocator(locator,{});\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//}catch(e){console.error('@@@@@'+e)}\r\n\t\t\t\t\tdomBuilder.locator = locator2\r\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\r\n\t\t\t\t\t\tparseStack.push(el)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdomBuilder.locator = locator;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\r\n\t\t\t\t\t\tparseStack.push(el)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif(el.uri === 'http://www.w3.org/1999/xhtml' && !el.closed){\r\n\t\t\t\t\tend = parseHtmlSpecialContent(source,end,el.tagName,entityReplacer,domBuilder)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tend++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}catch(e){\r\n\t\t\terrorHandler.error('element parse error: '+e)\r\n\t\t\t//errorHandler.error('element parse error: '+e);\r\n\t\t\tend = -1;\r\n\t\t\t//throw e;\r\n\t\t}\r\n\t\tif(end>start){\r\n\t\t\tstart = end;\r\n\t\t}else{\r\n\t\t\t//TODO: 这里有可能sax回退，有位置错误风险\r\n\t\t\tappendText(Math.max(tagStart,start)+1);\r\n\t\t}\r\n\t}\r\n}\r\nfunction copyLocator(f,t){\r\n\tt.lineNumber = f.lineNumber;\r\n\tt.columnNumber = f.columnNumber;\r\n\treturn t;\r\n}\r\n\r\n/**\r\n * @see #appendElement(source,elStartEnd,el,selfClosed,entityReplacer,domBuilder,parseStack);\r\n * @return end of the elementStartPart(end of elementEndPart for selfClosed el)\r\n */\r\nfunction parseElementStartPart(source,start,el,currentNSMap,entityReplacer,errorHandler){\r\n\tvar attrName;\r\n\tvar value;\r\n\tvar p = ++start;\r\n\tvar s = S_TAG;//status\r\n\twhile(true){\r\n\t\tvar c = source.charAt(p);\r\n\t\tswitch(c){\r\n\t\tcase '=':\r\n\t\t\tif(s === S_ATTR){//attrName\r\n\t\t\t\tattrName = source.slice(start,p);\r\n\t\t\t\ts = S_EQ;\r\n\t\t\t}else if(s === S_ATTR_SPACE){\r\n\t\t\t\ts = S_EQ;\r\n\t\t\t}else{\r\n\t\t\t\t//fatalError: equal must after attrName or space after attrName\r\n\t\t\t\tthrow new Error('attribute equal must after attrName');\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase '\\'':\r\n\t\tcase '\"':\r\n\t\t\tif(s === S_EQ || s === S_ATTR //|| s == S_ATTR_SPACE\r\n\t\t\t\t){//equal\r\n\t\t\t\tif(s === S_ATTR){\r\n\t\t\t\t\terrorHandler.warning('attribute value must after \"=\"')\r\n\t\t\t\t\tattrName = source.slice(start,p)\r\n\t\t\t\t}\r\n\t\t\t\tstart = p+1;\r\n\t\t\t\tp = source.indexOf(c,start)\r\n\t\t\t\tif(p>0){\r\n\t\t\t\t\tvalue = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\r\n\t\t\t\t\tel.add(attrName,value,start-1);\r\n\t\t\t\t\ts = S_ATTR_END;\r\n\t\t\t\t}else{\r\n\t\t\t\t\t//fatalError: no end quot match\r\n\t\t\t\t\tthrow new Error('attribute value no end \\''+c+'\\' match');\r\n\t\t\t\t}\r\n\t\t\t}else if(s == S_ATTR_NOQUOT_VALUE){\r\n\t\t\t\tvalue = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\r\n\t\t\t\t//console.log(attrName,value,start,p)\r\n\t\t\t\tel.add(attrName,value,start);\r\n\t\t\t\t//console.dir(el)\r\n\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed start quot('+c+')!!');\r\n\t\t\t\tstart = p+1;\r\n\t\t\t\ts = S_ATTR_END\r\n\t\t\t}else{\r\n\t\t\t\t//fatalError: no equal before\r\n\t\t\t\tthrow new Error('attribute value must after \"=\"');\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase '/':\r\n\t\t\tswitch(s){\r\n\t\t\tcase S_TAG:\r\n\t\t\t\tel.setTagName(source.slice(start,p));\r\n\t\t\tcase S_ATTR_END:\r\n\t\t\tcase S_TAG_SPACE:\r\n\t\t\tcase S_TAG_CLOSE:\r\n\t\t\t\ts =S_TAG_CLOSE;\r\n\t\t\t\tel.closed = true;\r\n\t\t\tcase S_ATTR_NOQUOT_VALUE:\r\n\t\t\tcase S_ATTR:\r\n\t\t\tcase S_ATTR_SPACE:\r\n\t\t\t\tbreak;\r\n\t\t\t//case S_EQ:\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error(\"attribute invalid close char('/')\")\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase ''://end document\r\n\t\t\t//throw new Error('unexpected end of input')\r\n\t\t\terrorHandler.error('unexpected end of input');\r\n\t\t\tif(s == S_TAG){\r\n\t\t\t\tel.setTagName(source.slice(start,p));\r\n\t\t\t}\r\n\t\t\treturn p;\r\n\t\tcase '>':\r\n\t\t\tswitch(s){\r\n\t\t\tcase S_TAG:\r\n\t\t\t\tel.setTagName(source.slice(start,p));\r\n\t\t\tcase S_ATTR_END:\r\n\t\t\tcase S_TAG_SPACE:\r\n\t\t\tcase S_TAG_CLOSE:\r\n\t\t\t\tbreak;//normal\r\n\t\t\tcase S_ATTR_NOQUOT_VALUE://Compatible state\r\n\t\t\tcase S_ATTR:\r\n\t\t\t\tvalue = source.slice(start,p);\r\n\t\t\t\tif(value.slice(-1) === '/'){\r\n\t\t\t\t\tel.closed  = true;\r\n\t\t\t\t\tvalue = value.slice(0,-1)\r\n\t\t\t\t}\r\n\t\t\tcase S_ATTR_SPACE:\r\n\t\t\t\tif(s === S_ATTR_SPACE){\r\n\t\t\t\t\tvalue = attrName;\r\n\t\t\t\t}\r\n\t\t\t\tif(s == S_ATTR_NOQUOT_VALUE){\r\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!!');\r\n\t\t\t\t\tel.add(attrName,value.replace(/&#?\\w+;/g,entityReplacer),start)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(currentNSMap[''] !== 'http://www.w3.org/1999/xhtml' || !value.match(/^(?:disabled|checked|selected)$/i)){\r\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed value!! \"'+value+'\" instead!!')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tel.add(value,value,start)\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase S_EQ:\r\n\t\t\t\tthrow new Error('attribute value missed!!');\r\n\t\t\t}\r\n//\t\t\tconsole.log(tagName,tagNamePattern,tagNamePattern.test(tagName))\r\n\t\t\treturn p;\r\n\t\t/*xml space '\\x20' | #x9 | #xD | #xA; */\r\n\t\tcase '\\u0080':\r\n\t\t\tc = ' ';\r\n\t\tdefault:\r\n\t\t\tif(c<= ' '){//space\r\n\t\t\t\tswitch(s){\r\n\t\t\t\tcase S_TAG:\r\n\t\t\t\t\tel.setTagName(source.slice(start,p));//tagName\r\n\t\t\t\t\ts = S_TAG_SPACE;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase S_ATTR:\r\n\t\t\t\t\tattrName = source.slice(start,p)\r\n\t\t\t\t\ts = S_ATTR_SPACE;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase S_ATTR_NOQUOT_VALUE:\r\n\t\t\t\t\tvar value = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\r\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!!');\r\n\t\t\t\t\tel.add(attrName,value,start)\r\n\t\t\t\tcase S_ATTR_END:\r\n\t\t\t\t\ts = S_TAG_SPACE;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t//case S_TAG_SPACE:\r\n\t\t\t\t//case S_EQ:\r\n\t\t\t\t//case S_ATTR_SPACE:\r\n\t\t\t\t//\tvoid();break;\r\n\t\t\t\t//case S_TAG_CLOSE:\r\n\t\t\t\t\t//ignore warning\r\n\t\t\t\t}\r\n\t\t\t}else{//not space\r\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\r\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\r\n\t\t\t\tswitch(s){\r\n\t\t\t\t//case S_TAG:void();break;\r\n\t\t\t\t//case S_ATTR:void();break;\r\n\t\t\t\t//case S_ATTR_NOQUOT_VALUE:void();break;\r\n\t\t\t\tcase S_ATTR_SPACE:\r\n\t\t\t\t\tvar tagName =  el.tagName;\r\n\t\t\t\t\tif(currentNSMap[''] !== 'http://www.w3.org/1999/xhtml' || !attrName.match(/^(?:disabled|checked|selected)$/i)){\r\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed value!! \"'+attrName+'\" instead2!!')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tel.add(attrName,attrName,start);\r\n\t\t\t\t\tstart = p;\r\n\t\t\t\t\ts = S_ATTR;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase S_ATTR_END:\r\n\t\t\t\t\terrorHandler.warning('attribute space is required\"'+attrName+'\"!!')\r\n\t\t\t\tcase S_TAG_SPACE:\r\n\t\t\t\t\ts = S_ATTR;\r\n\t\t\t\t\tstart = p;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase S_EQ:\r\n\t\t\t\t\ts = S_ATTR_NOQUOT_VALUE;\r\n\t\t\t\t\tstart = p;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase S_TAG_CLOSE:\r\n\t\t\t\t\tthrow new Error(\"elements closed character '/' and '>' must be connected to\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}//end outer switch\r\n\t\t//console.log('p++',p)\r\n\t\tp++;\r\n\t}\r\n}\r\n/**\r\n * @return true if has new namespace define\r\n */\r\nfunction appendElement(el,domBuilder,currentNSMap){\r\n\tvar tagName = el.tagName;\r\n\tvar localNSMap = null;\r\n\t//var currentNSMap = parseStack[parseStack.length-1].currentNSMap;\r\n\tvar i = el.length;\r\n\twhile(i--){\r\n\t\tvar a = el[i];\r\n\t\tvar qName = a.qName;\r\n\t\tvar value = a.value;\r\n\t\tvar nsp = qName.indexOf(':');\r\n\t\tif(nsp>0){\r\n\t\t\tvar prefix = a.prefix = qName.slice(0,nsp);\r\n\t\t\tvar localName = qName.slice(nsp+1);\r\n\t\t\tvar nsPrefix = prefix === 'xmlns' && localName\r\n\t\t}else{\r\n\t\t\tlocalName = qName;\r\n\t\t\tprefix = null\r\n\t\t\tnsPrefix = qName === 'xmlns' && ''\r\n\t\t}\r\n\t\t//can not set prefix,because prefix !== ''\r\n\t\ta.localName = localName ;\r\n\t\t//prefix == null for no ns prefix attribute \r\n\t\tif(nsPrefix !== false){//hack!!\r\n\t\t\tif(localNSMap == null){\r\n\t\t\t\tlocalNSMap = {}\r\n\t\t\t\t//console.log(currentNSMap,0)\r\n\t\t\t\t_copy(currentNSMap,currentNSMap={})\r\n\t\t\t\t//console.log(currentNSMap,1)\r\n\t\t\t}\r\n\t\t\tcurrentNSMap[nsPrefix] = localNSMap[nsPrefix] = value;\r\n\t\t\ta.uri = 'http://www.w3.org/2000/xmlns/'\r\n\t\t\tdomBuilder.startPrefixMapping(nsPrefix, value) \r\n\t\t}\r\n\t}\r\n\tvar i = el.length;\r\n\twhile(i--){\r\n\t\ta = el[i];\r\n\t\tvar prefix = a.prefix;\r\n\t\tif(prefix){//no prefix attribute has no namespace\r\n\t\t\tif(prefix === 'xml'){\r\n\t\t\t\ta.uri = 'http://www.w3.org/XML/1998/namespace';\r\n\t\t\t}if(prefix !== 'xmlns'){\r\n\t\t\t\ta.uri = currentNSMap[prefix || '']\r\n\t\t\t\t\r\n\t\t\t\t//{console.log('###'+a.qName,domBuilder.locator.systemId+'',currentNSMap,a.uri)}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tvar nsp = tagName.indexOf(':');\r\n\tif(nsp>0){\r\n\t\tprefix = el.prefix = tagName.slice(0,nsp);\r\n\t\tlocalName = el.localName = tagName.slice(nsp+1);\r\n\t}else{\r\n\t\tprefix = null;//important!!\r\n\t\tlocalName = el.localName = tagName;\r\n\t}\r\n\t//no prefix element has default namespace\r\n\tvar ns = el.uri = currentNSMap[prefix || ''];\r\n\tdomBuilder.startElement(ns,localName,tagName,el);\r\n\t//endPrefixMapping and startPrefixMapping have not any help for dom builder\r\n\t//localNSMap = null\r\n\tif(el.closed){\r\n\t\tdomBuilder.endElement(ns,localName,tagName);\r\n\t\tif(localNSMap){\r\n\t\t\tfor(prefix in localNSMap){\r\n\t\t\t\tdomBuilder.endPrefixMapping(prefix) \r\n\t\t\t}\r\n\t\t}\r\n\t}else{\r\n\t\tel.currentNSMap = currentNSMap;\r\n\t\tel.localNSMap = localNSMap;\r\n\t\t//parseStack.push(el);\r\n\t\treturn true;\r\n\t}\r\n}\r\nfunction parseHtmlSpecialContent(source,elStartEnd,tagName,entityReplacer,domBuilder){\r\n\tif(/^(?:script|textarea)$/i.test(tagName)){\r\n\t\tvar elEndStart =  source.indexOf('</'+tagName+'>',elStartEnd);\r\n\t\tvar text = source.substring(elStartEnd+1,elEndStart);\r\n\t\tif(/[&<]/.test(text)){\r\n\t\t\tif(/^script$/i.test(tagName)){\r\n\t\t\t\t//if(!/\\]\\]>/.test(text)){\r\n\t\t\t\t\t//lexHandler.startCDATA();\r\n\t\t\t\t\tdomBuilder.characters(text,0,text.length);\r\n\t\t\t\t\t//lexHandler.endCDATA();\r\n\t\t\t\t\treturn elEndStart;\r\n\t\t\t\t//}\r\n\t\t\t}//}else{//text area\r\n\t\t\t\ttext = text.replace(/&#?\\w+;/g,entityReplacer);\r\n\t\t\t\tdomBuilder.characters(text,0,text.length);\r\n\t\t\t\treturn elEndStart;\r\n\t\t\t//}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\treturn elStartEnd+1;\r\n}\r\nfunction fixSelfClosed(source,elStartEnd,tagName,closeMap){\r\n\t//if(tagName in closeMap){\r\n\tvar pos = closeMap[tagName];\r\n\tif(pos == null){\r\n\t\t//console.log(tagName)\r\n\t\tpos =  source.lastIndexOf('</'+tagName+'>')\r\n\t\tif(pos<elStartEnd){//忘记闭合\r\n\t\t\tpos = source.lastIndexOf('</'+tagName)\r\n\t\t}\r\n\t\tcloseMap[tagName] =pos\r\n\t}\r\n\treturn pos<elStartEnd;\r\n\t//} \r\n}\r\nfunction _copy(source,target){\r\n\tfor(var n in source){target[n] = source[n]}\r\n}\r\nfunction parseDCC(source,start,domBuilder,errorHandler){//sure start with '<!'\r\n\tvar next= source.charAt(start+2)\r\n\tswitch(next){\r\n\tcase '-':\r\n\t\tif(source.charAt(start + 3) === '-'){\r\n\t\t\tvar end = source.indexOf('-->',start+4);\r\n\t\t\t//append comment source.substring(4,end)//<!--\r\n\t\t\tif(end>start){\r\n\t\t\t\tdomBuilder.comment(source,start+4,end-start-4);\r\n\t\t\t\treturn end+3;\r\n\t\t\t}else{\r\n\t\t\t\terrorHandler.error(\"Unclosed comment\");\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\t//error\r\n\t\t\treturn -1;\r\n\t\t}\r\n\tdefault:\r\n\t\tif(source.substr(start+3,6) == 'CDATA['){\r\n\t\t\tvar end = source.indexOf(']]>',start+9);\r\n\t\t\tdomBuilder.startCDATA();\r\n\t\t\tdomBuilder.characters(source,start+9,end-start-9);\r\n\t\t\tdomBuilder.endCDATA() \r\n\t\t\treturn end+3;\r\n\t\t}\r\n\t\t//<!DOCTYPE\r\n\t\t//startDTD(java.lang.String name, java.lang.String publicId, java.lang.String systemId) \r\n\t\tvar matchs = split(source,start);\r\n\t\tvar len = matchs.length;\r\n\t\tif(len>1 && /!doctype/i.test(matchs[0][0])){\r\n\t\t\tvar name = matchs[1][0];\r\n\t\t\tvar pubid = len>3 && /^public$/i.test(matchs[2][0]) && matchs[3][0]\r\n\t\t\tvar sysid = len>4 && matchs[4][0];\r\n\t\t\tvar lastMatch = matchs[len-1]\r\n\t\t\tdomBuilder.startDTD(name,pubid && pubid.replace(/^(['\"])(.*?)\\1$/,'$2'),\r\n\t\t\t\t\tsysid && sysid.replace(/^(['\"])(.*?)\\1$/,'$2'));\r\n\t\t\tdomBuilder.endDTD();\r\n\t\t\t\r\n\t\t\treturn lastMatch.index+lastMatch[0].length\r\n\t\t}\r\n\t}\r\n\treturn -1;\r\n}\r\n\r\n\r\n\r\nfunction parseInstruction(source,start,domBuilder){\r\n\tvar end = source.indexOf('?>',start);\r\n\tif(end){\r\n\t\tvar match = source.substring(start,end).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/);\r\n\t\tif(match){\r\n\t\t\tvar len = match[0].length;\r\n\t\t\tdomBuilder.processingInstruction(match[1], match[2]) ;\r\n\t\t\treturn end+2;\r\n\t\t}else{//error\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t}\r\n\treturn -1;\r\n}\r\n\r\n/**\r\n * @param source\r\n */\r\nfunction ElementAttributes(source){\r\n\t\r\n}\r\nElementAttributes.prototype = {\r\n\tsetTagName:function(tagName){\r\n\t\tif(!tagNamePattern.test(tagName)){\r\n\t\t\tthrow new Error('invalid tagName:'+tagName)\r\n\t\t}\r\n\t\tthis.tagName = tagName\r\n\t},\r\n\tadd:function(qName,value,offset){\r\n\t\tif(!tagNamePattern.test(qName)){\r\n\t\t\tthrow new Error('invalid attribute:'+qName)\r\n\t\t}\r\n\t\tthis[this.length++] = {qName:qName,value:value,offset:offset}\r\n\t},\r\n\tlength:0,\r\n\tgetLocalName:function(i){return this[i].localName},\r\n\tgetLocator:function(i){return this[i].locator},\r\n\tgetQName:function(i){return this[i].qName},\r\n\tgetURI:function(i){return this[i].uri},\r\n\tgetValue:function(i){return this[i].value}\r\n//\t,getIndex:function(uri, localName)){\r\n//\t\tif(localName){\r\n//\t\t\t\r\n//\t\t}else{\r\n//\t\t\tvar qName = uri\r\n//\t\t}\r\n//\t},\r\n//\tgetValue:function(){return this.getValue(this.getIndex.apply(this,arguments))},\r\n//\tgetType:function(uri,localName){}\r\n//\tgetType:function(i){},\r\n}\r\n\r\n\r\n\r\n\r\nfunction _set_proto_(thiz,parent){\r\n\tthiz.__proto__ = parent;\r\n\treturn thiz;\r\n}\r\nif(!(_set_proto_({},_set_proto_.prototype) instanceof _set_proto_)){\r\n\t_set_proto_ = function(thiz,parent){\r\n\t\tfunction p(){};\r\n\t\tp.prototype = parent;\r\n\t\tp = new p();\r\n\t\tfor(parent in thiz){\r\n\t\t\tp[parent] = thiz[parent];\r\n\t\t}\r\n\t\treturn p;\r\n\t}\r\n}\r\n\r\nfunction split(source,start){\r\n\tvar match;\r\n\tvar buf = [];\r\n\tvar reg = /'[^']+'|\"[^\"]+\"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g;\r\n\treg.lastIndex = start;\r\n\treg.exec(source);//skip <\r\n\twhile(match = reg.exec(source)){\r\n\t\tbuf.push(match);\r\n\t\tif(match[1])return buf;\r\n\t}\r\n}\r\n\r\nexports.XMLReader = XMLReader;\r\n\r\n\r\n\r\n/***/ }),\r\n/* 13 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\nvar Async = __webpack_require__(14);\r\nvar EventProxy = __webpack_require__(3).EventProxy;\r\nvar util = __webpack_require__(0);\r\n\r\n// 抛弃分块上传任务\r\n/*\r\n AsyncLimit (抛弃上传任务的并发量)，\r\n UploadId (上传任务的编号，当 Level 为 task 时候需要)\r\n Level (抛弃分块上传任务的级别，task : 抛弃指定的上传任务，file ： 抛弃指定的文件对应的上传任务，其他值 ：抛弃指定Bucket 的全部上传任务)\r\n */\r\nfunction abortUploadTask(params, callback) {\r\n    var Bucket = params.Bucket;\r\n    var Region = params.Region;\r\n    var Key = params.Key;\r\n    var UploadId = params.UploadId;\r\n    var Level = params.Level || 'task';\r\n    var AsyncLimit = params.AsyncLimit;\r\n    var self = this;\r\n\r\n    var ep = new EventProxy();\r\n\r\n    ep.on('error', function (errData) {\r\n        return callback(errData);\r\n    });\r\n\r\n    // 已经获取到需要抛弃的任务列表\r\n    ep.on('get_abort_array', function (AbortArray) {\r\n        abortUploadTaskArray.call(self, {\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n            Key: Key,\r\n            Headers: params.Headers,\r\n            AsyncLimit: AsyncLimit,\r\n            AbortArray: AbortArray\r\n        }, function (err, data) {\r\n            if (err) {\r\n                return callback(err);\r\n            }\r\n            callback(null, data);\r\n        });\r\n    });\r\n\r\n    if (Level === 'bucket') {\r\n        // Bucket 级别的任务抛弃，抛弃该 Bucket 下的全部上传任务\r\n        wholeMultipartList.call(self, {\r\n            Bucket: Bucket,\r\n            Region: Region\r\n        }, function (err, data) {\r\n            if (err) {\r\n                return callback(err);\r\n            }\r\n            ep.emit('get_abort_array', data.UploadList || []);\r\n        });\r\n    } else if (Level === 'file') {\r\n        // 文件级别的任务抛弃，抛弃该文件的全部上传任务\r\n        if (!Key) return callback({error: 'abort_upload_task_no_key'});\r\n        wholeMultipartList.call(self, {\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n            Key: Key\r\n        }, function (err, data) {\r\n            if (err) {\r\n                return callback(err);\r\n            }\r\n            ep.emit('get_abort_array', data.UploadList || []);\r\n        });\r\n    } else if (Level === 'task') {\r\n        // 单个任务级别的任务抛弃，抛弃指定 UploadId 的上传任务\r\n        if (!UploadId) return callback({error: 'abort_upload_task_no_id'});\r\n        if (!Key) return callback({error: 'abort_upload_task_no_key'});\r\n        ep.emit('get_abort_array', [{\r\n            Key: Key,\r\n            UploadId: UploadId\r\n        }]);\r\n    } else {\r\n        return callback({error: 'abort_unknown_level'});\r\n    }\r\n}\r\n\r\n// 批量抛弃分块上传任务\r\nfunction abortUploadTaskArray(params, callback) {\r\n\r\n    var Bucket = params.Bucket;\r\n    var Region = params.Region;\r\n    var Key = params.Key;\r\n    var AbortArray = params.AbortArray;\r\n    var AsyncLimit = params.AsyncLimit || 1;\r\n    var self = this;\r\n\r\n    var index = 0;\r\n    var resultList = new Array(AbortArray.length);\r\n    Async.eachLimit(AbortArray, AsyncLimit, function (AbortItem, callback) {\r\n        var eachIndex = index;\r\n        if (Key && Key !== AbortItem.Key) {\r\n            resultList[eachIndex] = {error: {KeyNotMatch: true}};\r\n            callback(null);\r\n            return;\r\n        }\r\n        var UploadId = AbortItem.UploadId || AbortItem.UploadID;\r\n\r\n        self.multipartAbort({\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n            Key: AbortItem.Key,\r\n            Headers: params.Headers,\r\n            UploadId: UploadId\r\n        }, function (err, data) {\r\n            var task = {\r\n                Bucket: Bucket,\r\n                Region: Region,\r\n                Key: AbortItem.Key,\r\n                UploadId: UploadId\r\n            };\r\n            resultList[eachIndex] = {error: err, task: task};\r\n            callback(null);\r\n        });\r\n        index++;\r\n\r\n    }, function (err) {\r\n        if (err) {\r\n            return callback(err);\r\n        }\r\n\r\n        var successList = [];\r\n        var errorList = [];\r\n\r\n        for (var i = 0, len = resultList.length; i < len; i++) {\r\n            var item = resultList[i];\r\n            if (item['task']) {\r\n                if (item['error']) {\r\n                    errorList.push(item['task']);\r\n                } else {\r\n                    successList.push(item['task']);\r\n                }\r\n            }\r\n        }\r\n\r\n        return callback(null, {\r\n            successList: successList,\r\n            errorList: errorList\r\n        });\r\n    });\r\n}\r\n\r\n// 获取符合条件的全部上传任务 (条件包括 Bucket, Region, Prefix)\r\nfunction wholeMultipartList(params, callback) {\r\n    var self = this;\r\n    var UploadList = [];\r\n    var sendParams = {\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Prefix: params.Key\r\n    };\r\n    var next = function () {\r\n        self.multipartList(sendParams, function (err, data) {\r\n            if (err) return callback(err);\r\n            UploadList.push.apply(UploadList, data.Upload || []);\r\n            if (data.IsTruncated == 'true') { // 列表不完整\r\n                sendParams.KeyMarker = data.NextKeyMarker;\r\n                sendParams.UploadIdMarker = data.NextUploadIdMarker;\r\n                next();\r\n            } else {\r\n                callback(null, {UploadList: UploadList});\r\n            }\r\n        });\r\n    };\r\n    next();\r\n}\r\n\r\n\r\n// 分片复制文件\r\nfunction sliceCopyFile(params, callback) {\r\n    var ep = new EventProxy();\r\n\r\n    var self = this;\r\n    var Bucket = params.Bucket;\r\n    var Region = params.Region;\r\n    var Key = params.Key;\r\n    var CopySource = params.CopySource;\r\n    var m = CopySource.match(/^([^.]+-\\d+)\\.cos(v6)?\\.([^.]+)\\.[^/]+\\/(.+)$/);\r\n    if (!m) {\r\n        callback({error: 'CopySource format error'});\r\n        return;\r\n    }\r\n\r\n    var SourceBucket = m[1];\r\n    var SourceRegion = m[3];\r\n    var SourceKey = decodeURIComponent(m[4]);\r\n    var CopySliceSize = params.SliceSize === undefined ? self.options.CopySliceSize : params.SliceSize;\r\n    CopySliceSize = Math.max(0, Math.min(CopySliceSize, 5 * 1024 * 1024 * 1024));\r\n\r\n    var ChunkSize = params.ChunkSize || this.options.CopyChunkSize;\r\n    var ChunkParallel = this.options.CopyChunkParallelLimit;\r\n\r\n    var FinishSize = 0;\r\n    var FileSize;\r\n    var onProgress;\r\n\r\n    // 分片复制完成，开始 multipartComplete 操作\r\n    ep.on('copy_slice_complete', function (UploadData) {\r\n        self.multipartComplete({\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n            Key: Key,\r\n            UploadId: UploadData.UploadId,\r\n            Parts: UploadData.PartList,\r\n        },function (err, data) {\r\n            if (err) {\r\n                onProgress(null, true);\r\n                return callback(err);\r\n            }\r\n            onProgress({loaded: FileSize, total: FileSize}, true);\r\n            callback(null, data);\r\n        });\r\n    });\r\n\r\n    ep.on('get_copy_data_finish',function (UploadData) {\r\n        Async.eachLimit(UploadData.PartList, ChunkParallel, function (SliceItem, asyncCallback) {\r\n            var PartNumber = SliceItem.PartNumber;\r\n            var CopySourceRange = SliceItem.CopySourceRange;\r\n            var currentSize = SliceItem.end - SliceItem.start;\r\n            var preAddSize = 0;\r\n\r\n            copySliceItem.call(self,{\r\n                Bucket: Bucket,\r\n                Region: Region,\r\n                Key: Key,\r\n                CopySource: CopySource,\r\n                UploadId: UploadData.UploadId,\r\n                PartNumber: PartNumber,\r\n                CopySourceRange: CopySourceRange,\r\n                onProgress: function (data) {\r\n                    FinishSize += data.loaded - preAddSize;\r\n                    preAddSize = data.loaded;\r\n                    onProgress({loaded: FinishSize, total: FileSize});\r\n                }\r\n            },function (err,data) {\r\n                if (err) {\r\n                    return asyncCallback(err);\r\n                }\r\n                onProgress({loaded: FinishSize, total: FileSize});\r\n\r\n                FinishSize += currentSize - preAddSize;\r\n                SliceItem.ETag = data.ETag;\r\n                asyncCallback(err || null, data);\r\n            });\r\n        }, function (err) {\r\n            if (err) {\r\n                onProgress(null, true);\r\n                return callback(err);\r\n            }\r\n\r\n            ep.emit('copy_slice_complete', UploadData);\r\n        });\r\n    });\r\n\r\n    ep.on('get_file_size_finish', function (SourceHeaders) {\r\n        // 控制分片大小\r\n        (function () {\r\n            var SIZE = [1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024, 1024 * 2, 1024 * 4, 1024 * 5];\r\n            var AutoChunkSize = 1024 * 1024;\r\n            for (var i = 0; i < SIZE.length; i++) {\r\n                AutoChunkSize = SIZE[i] * 1024 * 1024;\r\n                if (FileSize / AutoChunkSize <= self.options.MaxPartNumber) break;\r\n            }\r\n            params.ChunkSize = ChunkSize = Math.max(ChunkSize, AutoChunkSize);\r\n\r\n            var ChunkCount = Math.ceil(FileSize / ChunkSize);\r\n\r\n            var list = [];\r\n            for (var partNumber = 1; partNumber <= ChunkCount; partNumber++) {\r\n                var start = (partNumber - 1) * ChunkSize;\r\n                var end = partNumber * ChunkSize < FileSize ? (partNumber * ChunkSize - 1) : FileSize - 1;\r\n                var item = {\r\n                    PartNumber: partNumber,\r\n                    start: start,\r\n                    end: end,\r\n                    CopySourceRange: \"bytes=\" + start + \"-\" + end,\r\n                };\r\n                list.push(item);\r\n            }\r\n            params.PartList = list;\r\n        })();\r\n\r\n        var TargetHeader;\r\n        if (params.Headers['x-cos-metadata-directive'] === 'Replaced') {\r\n            TargetHeader = params.Headers;\r\n        } else {\r\n            TargetHeader = SourceHeaders;\r\n        }\r\n        TargetHeader['x-cos-storage-class'] = params.Headers['x-cos-storage-class'] || SourceHeaders['x-cos-storage-class'];\r\n        TargetHeader = util.clearKey(TargetHeader);\r\n        self.multipartInit({\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n            Key: Key,\r\n            Headers: TargetHeader,\r\n        },function (err,data) {\r\n            if (err) {\r\n                return callback(err);\r\n            }\r\n            params.UploadId = data.UploadId;\r\n            ep.emit('get_copy_data_finish', params);\r\n        });\r\n    });\r\n\r\n    // 获取远端复制源文件的大小\r\n    self.headObject({\r\n        Bucket: SourceBucket,\r\n        Region: SourceRegion,\r\n        Key: SourceKey,\r\n    },function(err, data) {\r\n        if (err) {\r\n            if (err.statusCode && err.statusCode === 404) {\r\n                callback({ErrorStatus: SourceKey + ' Not Exist'});\r\n            } else {\r\n                callback(err);\r\n            }\r\n            return;\r\n        }\r\n\r\n        FileSize = params.FileSize = data.headers['content-length'];\r\n        if (FileSize === undefined || !FileSize) {\r\n            callback({error: 'get Content-Length error, please add \"Content-Length\" to CORS ExposeHeader setting.'});\r\n            return;\r\n        }\r\n\r\n        onProgress = util.throttleOnProgress.call(self, FileSize, params.onProgress);\r\n\r\n        // 开始上传\r\n        if (FileSize <= CopySliceSize) {\r\n            if (!params.Headers['x-cos-metadata-directive']) {\r\n                params.Headers['x-cos-metadata-directive'] = 'Copy';\r\n            }\r\n            self.putObjectCopy(params, function (err, data) {\r\n                if (err) {\r\n                    onProgress(null, true);\r\n                    return callback(err);\r\n                }\r\n                onProgress({loaded: FileSize, total: FileSize}, true);\r\n                callback(err, data);\r\n            });\r\n        } else {\r\n            var resHeaders = data.headers;\r\n            var SourceHeaders = {\r\n                'Cache-Control': resHeaders['cache-control'],\r\n                'Content-Disposition': resHeaders['content-disposition'],\r\n                'Content-Encoding': resHeaders['content-encoding'],\r\n                'Content-Type': resHeaders['content-type'],\r\n                'Expires': resHeaders['expires'],\r\n                'x-cos-storage-class': resHeaders['x-cos-storage-class'],\r\n            };\r\n            util.each(resHeaders, function (v, k) {\r\n                var metaPrefix = 'x-cos-meta-';\r\n                if (k.indexOf(metaPrefix) === 0 && k.length > metaPrefix.length) {\r\n                    SourceHeaders[k] = v;\r\n                }\r\n            });\r\n            ep.emit('get_file_size_finish', SourceHeaders);\r\n        }\r\n    });\r\n}\r\n\r\n// 复制指定分片\r\nfunction copySliceItem(params, callback) {\r\n    var TaskId = params.TaskId;\r\n    var Bucket = params.Bucket;\r\n    var Region = params.Region;\r\n    var Key = params.Key;\r\n    var CopySource = params.CopySource;\r\n    var UploadId = params.UploadId;\r\n    var PartNumber = params.PartNumber * 1;\r\n    var CopySourceRange = params.CopySourceRange;\r\n\r\n    var ChunkRetryTimes = this.options.ChunkRetryTimes + 1;\r\n    var self = this;\r\n\r\n    Async.retry(ChunkRetryTimes, function (tryCallback) {\r\n        self.uploadPartCopy({\r\n            TaskId: TaskId,\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n            Key: Key,\r\n            CopySource: CopySource,\r\n            UploadId: UploadId,\r\n            PartNumber:PartNumber,\r\n            CopySourceRange:CopySourceRange,\r\n            onProgress:params.onProgress,\r\n        },function (err,data) {\r\n            tryCallback(err || null, data);\r\n        })\r\n    }, function (err, data) {\r\n        return callback(err, data);\r\n    });\r\n}\r\n\r\n\r\nvar API_MAP = {\r\n    abortUploadTask: abortUploadTask,\r\n    sliceCopyFile: sliceCopyFile,\r\n};\r\n\r\nmodule.exports.init = function (COS, task) {\r\n    util.each(API_MAP, function (fn, apiName) {\r\n        COS.prototype[apiName] = util.apiWrapper(apiName, fn);\r\n    });\r\n};\r\n\r\n\r\n/***/ }),\r\n/* 14 */\r\n/***/ (function(module, exports) {\r\n\r\nvar eachLimit = function (arr, limit, iterator, callback) {\r\n    callback = callback || function () {};\r\n    if (!arr.length || limit <= 0) {\r\n        return callback();\r\n    }\r\n\r\n    var completed = 0;\r\n    var started = 0;\r\n    var running = 0;\r\n\r\n    (function replenish () {\r\n        if (completed >= arr.length) {\r\n            return callback();\r\n        }\r\n\r\n        while (running < limit && started < arr.length) {\r\n            started += 1;\r\n            running += 1;\r\n            iterator(arr[started - 1], function (err) {\r\n\r\n                if (err) {\r\n                    callback(err);\r\n                    callback = function () {};\r\n                } else {\r\n                    completed += 1;\r\n                    running -= 1;\r\n                    if (completed >= arr.length) {\r\n                        callback();\r\n                    } else {\r\n                        replenish();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    })();\r\n};\r\n\r\nvar retry = function (times, iterator, callback) {\r\n    var next = function (index) {\r\n        iterator(function (err, data) {\r\n            if (err && index < times) {\r\n                next(index + 1);\r\n            } else {\r\n                callback(err, data);\r\n            }\r\n        });\r\n    };\r\n    if (times < 1) {\r\n        callback();\r\n    } else {\r\n        next(1);\r\n    }\r\n};\r\n\r\nvar async = {\r\n    eachLimit: eachLimit,\r\n    retry: retry\r\n};\r\n\r\nmodule.exports = async;\r\n\r\n/***/ }),\r\n/* 15 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar REQUEST = __webpack_require__(9);\r\nvar base64 = __webpack_require__(1);\r\nvar util = __webpack_require__(0);\r\n\r\n\r\n// Bucket 相关\r\n\r\n/**\r\n * 获取用户的 bucket 列表\r\n * @param  {Object}  params         回调函数，必须，下面为参数列表\r\n * 无特殊参数\r\n * @param  {Function}  callback     回调函数，必须\r\n */\r\nfunction getService(params, callback) {\r\n    if (typeof params === 'function') {\r\n        callback = params;\r\n        params = {};\r\n    }\r\n    var protocol = 'https:';\r\n    var domain = this.options.ServiceDomain;\r\n    var appId = params.AppId || this.options.appId;\r\n    var region = params.Region;\r\n    if (domain) {\r\n        domain = domain.replace(/\\{\\{AppId\\}\\}/ig, appId || '')\r\n                     .replace(/\\{\\{Region\\}\\}/ig, region || '').replace(/\\{\\{.*?\\}\\}/ig, '');\r\n        if (!/^[a-zA-Z]+:\\/\\//.test(domain)) {\r\n            domain = protocol + '//' + domain;\r\n        }\r\n        if (domain.slice(-1) === '/') {\r\n            domain = domain.slice(0, -1);\r\n        }\r\n    } else if(region){\r\n        domain = protocol + '//cos.'+ region + '.myqcloud.com';\r\n    } else {\r\n        domain = protocol + '//service.cos.myqcloud.com';\r\n    }\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetService',\r\n        url: domain + '/',\r\n        method: 'GET',\r\n    }, function (err, data) {\r\n        if (err) {\r\n            return callback(err);\r\n        }\r\n        var buckets = (data && data.ListAllMyBucketsResult && data.ListAllMyBucketsResult.Buckets\r\n            && data.ListAllMyBucketsResult.Buckets.Bucket) || [];\r\n        buckets = util.isArray(buckets) ? buckets : [buckets];\r\n        var owner = (data && data.ListAllMyBucketsResult && data.ListAllMyBucketsResult.Owner) || {};\r\n        callback(null, {\r\n            Buckets: buckets,\r\n            Owner: owner,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 查看是否存在该Bucket，是否有权限访问\r\n * @param  {Object}  params                     参数对象，必须\r\n *     @param  {String}  params.Bucket          Bucket名称，必须\r\n *     @param  {String}  params.Region          地域名称，必须\r\n * @param  {Function}  callback                 回调函数，必须\r\n * @return  {Object}  err                       请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                      返回的数据\r\n *     @return  {Boolean}  data.BucketExist     Bucket是否存在\r\n *     @return  {Boolean}  data.BucketAuth      是否有 Bucket 的访问权限\r\n */\r\nfunction headBucket(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:HeadBucket',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        method: 'HEAD',\r\n    }, function (err, data) {\r\n        callback(err, data);\r\n    });\r\n}\r\n\r\n/**\r\n * 获取 Bucket 下的 object 列表\r\n * @param  {Object}  params                         参数对象，必须\r\n *     @param  {String}  params.Bucket              Bucket名称，必须\r\n *     @param  {String}  params.Region              地域名称，必须\r\n *     @param  {String}  params.Prefix              前缀匹配，用来规定返回的文件前缀地址，非必须\r\n *     @param  {String}  params.Delimiter           定界符为一个符号，如果有Prefix，则将Prefix到delimiter之间的相同路径归为一类，非必须\r\n *     @param  {String}  params.Marker              默认以UTF-8二进制顺序列出条目，所有列出条目从marker开始，非必须\r\n *     @param  {String}  params.MaxKeys             单次返回最大的条目数量，默认1000，非必须\r\n *     @param  {String}  params.EncodingType        规定返回值的编码方式，非必须\r\n * @param  {Function}  callback                     回调函数，必须\r\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                          返回的数据\r\n *     @return  {Object}  data.ListBucketResult     返回的 object 列表信息\r\n */\r\nfunction getBucket(params, callback) {\r\n    var reqParams = {};\r\n    reqParams['prefix'] = params['Prefix'] || '';\r\n    reqParams['delimiter'] = params['Delimiter'];\r\n    reqParams['marker'] = params['Marker'];\r\n    reqParams['max-keys'] = params['MaxKeys'];\r\n    reqParams['encoding-type'] = params['EncodingType'];\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucket',\r\n        ResourceKey: reqParams['prefix'],\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        qs: reqParams,\r\n    }, function (err, data) {\r\n        if (err) {\r\n            return callback(err);\r\n        }\r\n        var ListBucketResult = data.ListBucketResult || {};\r\n        var Contents = ListBucketResult.Contents || [];\r\n        var CommonPrefixes = ListBucketResult.CommonPrefixes || [];\r\n\r\n        Contents = util.isArray(Contents) ? Contents : [Contents];\r\n        CommonPrefixes = util.isArray(CommonPrefixes) ? CommonPrefixes : [CommonPrefixes];\r\n\r\n        var result = util.clone(ListBucketResult);\r\n        util.extend(result, {\r\n            Contents: Contents,\r\n            CommonPrefixes: CommonPrefixes,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n\r\n        callback(null, result);\r\n    });\r\n}\r\n\r\n/**\r\n * 创建 Bucket，并初始化访问权限\r\n * @param  {Object}  params                         参数对象，必须\r\n *     @param  {String}  params.Bucket              Bucket名称，必须\r\n *     @param  {String}  params.Region              地域名称，必须\r\n *     @param  {String}  params.ACL                 用户自定义文件权限，可以设置：private，public-read；默认值：private，非必须\r\n *     @param  {String}  params.GrantRead           赋予被授权者读的权限，格式x-cos-grant-read: uin=\" \",uin=\" \"，非必须\r\n *     @param  {String}  params.GrantWrite          赋予被授权者写的权限，格式x-cos-grant-write: uin=\" \",uin=\" \"，非必须\r\n *     @param  {String}  params.GrantFullControl    赋予被授权者读写权限，格式x-cos-grant-full-control: uin=\" \",uin=\" \"，非必须\r\n * @param  {Function}  callback                     回调函数，必须\r\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                          返回的数据\r\n *     @return  {String}  data.Location             操作地址\r\n */\r\nfunction putBucket(params, callback) {\r\n    var self = this;\r\n    var headers = {};\r\n    headers['x-cos-acl'] = params['ACL'];\r\n    headers['x-cos-grant-read'] = params['GrantRead'];\r\n    headers['x-cos-grant-write'] = params['GrantWrite'];\r\n    headers['x-cos-grant-read-acp'] = params['GrantReadAcp'];\r\n    headers['x-cos-grant-write-acp'] = params['GrantWriteAcp'];\r\n    headers['x-cos-grant-full-control'] = params['GrantFullControl'];\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucket',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err) {\r\n            return callback(err);\r\n        }\r\n        var url = getUrl({\r\n            domain: self.options.Domain,\r\n            bucket: params.Bucket,\r\n            region: params.Region,\r\n            isLocation: true,\r\n        });\r\n        callback(null, {\r\n            Location: url,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 删除 Bucket\r\n * @param  {Object}  params                 参数对象，必须\r\n *     @param  {String}  params.Bucket      Bucket名称，必须\r\n *     @param  {String}  params.Region      地域名称，必须\r\n * @param  {Function}  callback             回调函数，必须\r\n * @return  {Object}  err                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                  返回的数据\r\n *     @return  {String}  data.Location     操作地址\r\n */\r\nfunction deleteBucket(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:DeleteBucket',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        method: 'DELETE',\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 获取 Bucket 的 权限列表\r\n * @param  {Object}  params                         参数对象，必须\r\n *     @param  {String}  params.Bucket              Bucket名称，必须\r\n *     @param  {String}  params.Region              地域名称，必须\r\n * @param  {Function}  callback                     回调函数，必须\r\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                          返回的数据\r\n *     @return  {Object}  data.AccessControlPolicy  访问权限信息\r\n */\r\nfunction getBucketAcl(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketACL',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'acl',\r\n    }, function (err, data) {\r\n        if (err) {\r\n            return callback(err);\r\n        }\r\n        var AccessControlPolicy = data.AccessControlPolicy || {};\r\n        var Owner = AccessControlPolicy.Owner || {};\r\n        var Grant = AccessControlPolicy.AccessControlList.Grant || [];\r\n        Grant = util.isArray(Grant) ? Grant : [Grant];\r\n        var result = decodeAcl(AccessControlPolicy);\r\n        if (data.headers && data.headers['x-cos-acl']) {\r\n            result.ACL = data.headers['x-cos-acl'];\r\n        }\r\n        result = util.extend(result, {\r\n            Owner: Owner,\r\n            Grants: Grant,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n        callback(null, result);\r\n    });\r\n}\r\n\r\n/**\r\n * 设置 Bucket 的 权限列表\r\n * @param  {Object}  params                         参数对象，必须\r\n *     @param  {String}  params.Bucket              Bucket名称，必须\r\n *     @param  {String}  params.Region              地域名称，必须\r\n *     @param  {String}  params.ACL                 用户自定义文件权限，可以设置：private，public-read；默认值：private，非必须\r\n *     @param  {String}  params.GrantRead           赋予被授权者读的权限，格式x-cos-grant-read: uin=\" \",uin=\" \"，非必须\r\n *     @param  {String}  params.GrantWrite          赋予被授权者写的权限，格式x-cos-grant-write: uin=\" \",uin=\" \"，非必须\r\n *     @param  {String}  params.GrantFullControl    赋予被授权者读写权限，格式x-cos-grant-full-control: uin=\" \",uin=\" \"，非必须\r\n * @param  {Function}  callback                     回调函数，必须\r\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                          返回的数据\r\n */\r\nfunction putBucketAcl(params, callback) {\r\n    var headers = params.Headers;\r\n\r\n    var xml = '';\r\n    if (params['AccessControlPolicy']) {\r\n        var AccessControlPolicy = util.clone(params['AccessControlPolicy'] || {});\r\n        var Grants = AccessControlPolicy.Grants || AccessControlPolicy.Grant;\r\n        Grants = util.isArray(Grants) ? Grants : [Grants];\r\n        delete AccessControlPolicy.Grant;\r\n        delete AccessControlPolicy.Grants;\r\n        AccessControlPolicy.AccessControlList = {Grant: Grants};\r\n        xml = util.json2xml({AccessControlPolicy: AccessControlPolicy});\r\n\r\n        headers['Content-Type'] = 'application/xml';\r\n        headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n    }\r\n\r\n    // Grant Header 去重\r\n    util.each(headers, function (val, key) {\r\n        if (key.indexOf('x-cos-grant-') === 0) {\r\n            headers[key] = uniqGrant(headers[key]);\r\n        }\r\n    });\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketACL',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: headers,\r\n        action: 'acl',\r\n        body: xml,\r\n    }, function (err, data) {\r\n        if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 获取 Bucket 的 跨域设置\r\n * @param  {Object}  params                         参数对象，必须\r\n *     @param  {String}  params.Bucket              Bucket名称，必须\r\n *     @param  {String}  params.Region              地域名称，必须\r\n * @param  {Function}  callback                     回调函数，必须\r\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                          返回的数据\r\n *     @return  {Object}  data.CORSRules            Bucket的跨域设置\r\n */\r\nfunction getBucketCors(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketCORS',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'cors',\r\n    }, function (err, data) {\r\n        if (err) {\r\n            if (err.statusCode === 404 && err.error && err.error.Code === 'NoSuchCORSConfiguration') {\r\n                var result = {\r\n                    CORSRules: [],\r\n                    statusCode: err.statusCode,\r\n                };\r\n                err.headers && (result.headers = err.headers);\r\n                callback(null, result);\r\n            } else {\r\n                callback(err);\r\n            }\r\n            return;\r\n        }\r\n        var CORSConfiguration = data.CORSConfiguration || {};\r\n        var CORSRules = CORSConfiguration.CORSRules || CORSConfiguration.CORSRule || [];\r\n        CORSRules = util.clone(util.isArray(CORSRules) ? CORSRules : [CORSRules]);\r\n\r\n        util.each(CORSRules, function (rule) {\r\n            util.each(['AllowedOrigin', 'AllowedHeader', 'AllowedMethod', 'ExposeHeader'], function (key, j) {\r\n                var sKey = key + 's';\r\n                var val = rule[sKey] || rule[key] || [];\r\n                delete rule[key];\r\n                rule[sKey] = util.isArray(val) ? val : [val];\r\n            });\r\n        });\r\n\r\n        callback(null, {\r\n            CORSRules: CORSRules,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 设置 Bucket 的 跨域设置\r\n * @param  {Object}  params                             参数对象，必须\r\n *     @param  {String}  params.Bucket                  Bucket名称，必须\r\n *     @param  {String}  params.Region                  地域名称，必须\r\n *     @param  {Object}  params.CORSConfiguration       相关的跨域设置，必须\r\n * @param  {Array}  params.CORSConfiguration.CORSRules  对应的跨域规则\r\n * @param  {Function}  callback                         回调函数，必须\r\n * @return  {Object}  err                               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                              返回的数据\r\n */\r\nfunction putBucketCors(params, callback) {\r\n\r\n    var CORSConfiguration = params['CORSConfiguration'] || {};\r\n    var CORSRules = CORSConfiguration['CORSRules'] || params['CORSRules'] || [];\r\n    CORSRules = util.clone(util.isArray(CORSRules) ? CORSRules : [CORSRules]);\r\n    util.each(CORSRules, function (rule) {\r\n        util.each(['AllowedOrigin', 'AllowedHeader', 'AllowedMethod', 'ExposeHeader'], function (key, k) {\r\n            var sKey = key + 's';\r\n            var val = rule[sKey] || rule[key] || [];\r\n            delete rule[sKey];\r\n            rule[key] = util.isArray(val) ? val : [val];\r\n        });\r\n    });\r\n\r\n    var xml = util.json2xml({CORSConfiguration: {CORSRule: CORSRules}});\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketCORS',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'cors',\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 删除 Bucket 的 跨域设置\r\n * @param  {Object}  params                 参数对象，必须\r\n *     @param  {String}  params.Bucket      Bucket名称，必须\r\n *     @param  {String}  params.Region      地域名称，必须\r\n * @param  {Function}  callback             回调函数，必须\r\n * @return  {Object}  err                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                  返回的数据\r\n */\r\nfunction deleteBucketCors(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:DeleteBucketCORS',\r\n        method: 'DELETE',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'cors',\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode || err.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\nfunction putBucketPolicy(params, callback) {\r\n    var Policy = params['Policy'];\r\n    var PolicyStr = Policy;\r\n    try {\r\n        if (typeof Policy === 'string') {\r\n            Policy = JSON.parse(PolicyStr);\r\n        } else {\r\n            PolicyStr = JSON.stringify(Policy);\r\n        }\r\n    } catch (e) {\r\n        callback({error: 'Policy format error'});\r\n    }\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/json';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(PolicyStr));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketPolicy',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        action: 'policy',\r\n        body: util.isBrowser ? PolicyStr : Policy,\r\n        headers: headers,\r\n        json: true,\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 删除 Bucket 的 跨域设置\r\n * @param  {Object}  params                 参数对象，必须\r\n *     @param  {String}  params.Bucket      Bucket名称，必须\r\n *     @param  {String}  params.Region      地域名称，必须\r\n * @param  {Function}  callback             回调函数，必须\r\n * @return  {Object}  err                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                  返回的数据\r\n */\r\nfunction deleteBucketPolicy(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:DeleteBucketPolicy',\r\n        method: 'DELETE',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'policy',\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode || err.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 获取 Bucket 的 地域信息\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回数据，包含地域信息 LocationConstraint\r\n */\r\nfunction getBucketLocation(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketLocation',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'location',\r\n    }, function (err, data) {\r\n        if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, data);\r\n    });\r\n}\r\n\r\n/**\r\n * 获取 Bucket 的读取权限策略\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回数据\r\n */\r\nfunction getBucketPolicy(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketPolicy',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'policy',\r\n        rawBody: true,\r\n    }, function (err, data) {\r\n        if (err) {\r\n            if (err.statusCode && err.statusCode === 403) {\r\n                return callback({ErrorStatus: 'Access Denied'});\r\n            }\r\n            if (err.statusCode && err.statusCode === 405) {\r\n                return callback({ErrorStatus: 'Method Not Allowed'});\r\n            }\r\n            if (err.statusCode && err.statusCode === 404) {\r\n                return callback({ErrorStatus: 'Policy Not Found'});\r\n            }\r\n            return callback(err);\r\n        }\r\n        var Policy = {};\r\n        try {\r\n            Policy = JSON.parse(data.body);\r\n        } catch (e) {\r\n        }\r\n        callback(null, {\r\n            Policy: Policy,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 获取 Bucket 的标签设置\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回数据\r\n */\r\nfunction getBucketTagging(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketTagging',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'tagging',\r\n    }, function (err, data) {\r\n        if (err) {\r\n            if (err.statusCode === 404 && err.error && (err.error === \"Not Found\" || err.error.Code === 'NoSuchTagSet')) {\r\n                var result = {\r\n                    Tags: [],\r\n                    statusCode: err.statusCode,\r\n                };\r\n                err.headers && (result.headers = err.headers);\r\n                callback(null, result);\r\n            } else {\r\n                callback(err);\r\n            }\r\n            return;\r\n        }\r\n        var Tags = [];\r\n        try {\r\n            Tags = data.Tagging.TagSet.Tag || [];\r\n        } catch (e) {\r\n        }\r\n        Tags = util.clone(util.isArray(Tags) ? Tags : [Tags]);\r\n        callback(null, {\r\n            Tags: Tags,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 设置 Bucket 的标签\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n *     @param  {Array}   params.TagSet  标签设置，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回数据\r\n */\r\nfunction putBucketTagging(params, callback) {\r\n\r\n    var Tagging = params['Tagging'] || {};\r\n    var Tags = Tagging.TagSet || Tagging.Tags || params['Tags'] || [];\r\n    Tags = util.clone(util.isArray(Tags) ? Tags : [Tags]);\r\n    var xml = util.json2xml({Tagging: {TagSet: {Tag: Tags}}});\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketTagging',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'tagging',\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n\r\n/**\r\n * 删除 Bucket 的 标签设置\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回的数据\r\n */\r\nfunction deleteBucketTagging(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:DeleteBucketTagging',\r\n        method: 'DELETE',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'tagging',\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\nfunction putBucketLifecycle(params, callback) {\r\n\r\n    var LifecycleConfiguration = params['LifecycleConfiguration'] || {};\r\n    var Rules = LifecycleConfiguration.Rules || params.Rules || [];\r\n    Rules = util.clone(Rules);\r\n    var xml = util.json2xml({LifecycleConfiguration: {Rule: Rules}});\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketLifecycle',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'lifecycle',\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\nfunction getBucketLifecycle(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketLifecycle',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'lifecycle',\r\n    }, function (err, data) {\r\n        if (err) {\r\n            if (err.statusCode === 404 && err.error && err.error.Code === 'NoSuchLifecycleConfiguration') {\r\n                var result = {\r\n                    Rules: [],\r\n                    statusCode: err.statusCode,\r\n                };\r\n                err.headers && (result.headers = err.headers);\r\n                callback(null, result);\r\n            } else {\r\n                callback(err);\r\n            }\r\n            return;\r\n        }\r\n        var Rules = [];\r\n        try {\r\n            Rules = data.LifecycleConfiguration.Rule || [];\r\n        } catch (e) {\r\n        }\r\n        Rules = util.clone(util.isArray(Rules) ? Rules : [Rules]);\r\n        callback(null, {\r\n            Rules: Rules,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\nfunction deleteBucketLifecycle(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:DeleteBucketLifecycle',\r\n        method: 'DELETE',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'lifecycle',\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\nfunction putBucketVersioning(params, callback) {\r\n\r\n    if (!params['VersioningConfiguration']) {\r\n        callback({error: 'missing param VersioningConfiguration'});\r\n        return;\r\n    }\r\n    var VersioningConfiguration = params['VersioningConfiguration'] || {};\r\n    var xml = util.json2xml({VersioningConfiguration: VersioningConfiguration});\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketVersioning',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'versioning',\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\nfunction getBucketVersioning(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketVersioning',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'versioning',\r\n    }, function (err, data) {\r\n        if (!err) {\r\n            !data.VersioningConfiguration && (data.VersioningConfiguration = {});\r\n        }\r\n        callback(err, data);\r\n    });\r\n}\r\n\r\nfunction putBucketReplication(params, callback) {\r\n    var ReplicationConfiguration = util.clone(params.ReplicationConfiguration);\r\n    var xml = util.json2xml({ReplicationConfiguration: ReplicationConfiguration});\r\n    xml = xml.replace(/<(\\/?)Rules>/ig, '<$1Rule>');\r\n    xml = xml.replace(/<(\\/?)Tags>/ig, '<$1Tag>');\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketReplication',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'replication',\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\nfunction getBucketReplication(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketReplication',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'replication',\r\n    }, function (err, data) {\r\n        if (err) {\r\n            if (err.statusCode === 404 && err.error && (err.error === 'Not Found' || err.error.Code === 'ReplicationConfigurationnotFoundError')) {\r\n                var result = {\r\n                    ReplicationConfiguration: {Rules: []},\r\n                    statusCode: err.statusCode,\r\n                };\r\n                err.headers && (result.headers = err.headers);\r\n                callback(null, result);\r\n            } else {\r\n                callback(err);\r\n            }\r\n            return;\r\n        }\r\n        if (!err) {\r\n            !data.ReplicationConfiguration && (data.ReplicationConfiguration = {});\r\n        }\r\n        if (data.ReplicationConfiguration.Rule) {\r\n            data.ReplicationConfiguration.Rules = data.ReplicationConfiguration.Rule;\r\n            delete data.ReplicationConfiguration.Rule;\r\n        }\r\n        callback(err, data);\r\n    });\r\n}\r\n\r\nfunction deleteBucketReplication(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:DeleteBucketReplication',\r\n        method: 'DELETE',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'replication',\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n// Object 相关\r\n\r\n/**\r\n * 取回对应Object的元数据，Head的权限与Get的权限一致\r\n * @param  {Object}  params                         参数对象，必须\r\n *     @param  {String}  params.Bucket              Bucket名称，必须\r\n *     @param  {String}  params.Region              地域名称，必须\r\n *     @param  {String}  params.Key                 文件名称，必须\r\n *     @param  {String}  params.IfModifiedSince     当Object在指定时间后被修改，则返回对应Object元信息，否则返回304，非必须\r\n * @param  {Function}  callback                     回调函数，必须\r\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                          为指定 object 的元数据，如果设置了 IfModifiedSince ，且文件未修改，则返回一个对象，NotModified 属性为 true\r\n *     @return  {Boolean}  data.NotModified         是否在 IfModifiedSince 时间点之后未修改该 object，则为 true\r\n */\r\nfunction headObject(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:HeadObject',\r\n        method: 'HEAD',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        VersionId: params.VersionId,\r\n        headers: params.Headers,\r\n    }, function (err, data) {\r\n        if (err) {\r\n            var statusCode = err.statusCode;\r\n            if (params.Headers['If-Modified-Since'] && statusCode && statusCode === 304) {\r\n                return callback(null, {\r\n                    NotModified: true,\r\n                    statusCode: statusCode,\r\n                });\r\n            }\r\n            return callback(err);\r\n        }\r\n        if (data.headers) {\r\n            var headers = data.headers;\r\n            data.ETag = headers.etag || headers.Etag || headers.ETag || '';\r\n        }\r\n        callback(null, data);\r\n    });\r\n}\r\n\r\n\r\nfunction listObjectVersions(params, callback) {\r\n    var reqParams = {};\r\n    reqParams['prefix'] = params['Prefix'] || '';\r\n    reqParams['delimiter'] = params['Delimiter'];\r\n    reqParams['key-marker'] = params['KeyMarker'];\r\n    reqParams['version-id-marker'] = params['VersionIdMarker'];\r\n    reqParams['max-keys'] = params['MaxKeys'];\r\n    reqParams['encoding-type'] = params['EncodingType'];\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketObjectVersions',\r\n        ResourceKey: reqParams['prefix'],\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        qs: reqParams,\r\n        action: 'versions',\r\n    }, function (err, data) {\r\n        if (err) {\r\n            return callback(err);\r\n        }\r\n        var ListVersionsResult = data.ListVersionsResult || {};\r\n        var DeleteMarkers = ListVersionsResult.DeleteMarker || [];\r\n        DeleteMarkers = util.isArray(DeleteMarkers) ? DeleteMarkers : [DeleteMarkers];\r\n        var Versions = ListVersionsResult.Version || [];\r\n        Versions = util.isArray(Versions) ? Versions : [Versions];\r\n\r\n        var result = util.clone(ListVersionsResult);\r\n        delete result.DeleteMarker;\r\n        delete result.Version;\r\n        util.extend(result, {\r\n            DeleteMarkers: DeleteMarkers,\r\n            Versions: Versions,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n\r\n        callback(null, result);\r\n    });\r\n}\r\n\r\n/**\r\n * 下载 object\r\n * @param  {Object}  params                                 参数对象，必须\r\n *     @param  {String}  params.Bucket                      Bucket名称，必须\r\n *     @param  {String}  params.Region                      地域名称，必须\r\n *     @param  {String}  params.Key                         文件名称，必须\r\n *     @param  {WriteStream}  params.Output                 文件写入流，非必须\r\n *     @param  {String}  params.IfModifiedSince             当Object在指定时间后被修改，则返回对应Object元信息，否则返回304，非必须\r\n *     @param  {String}  params.IfUnmodifiedSince           如果文件修改时间早于或等于指定时间，才返回文件内容。否则返回 412 (precondition failed)，非必须\r\n *     @param  {String}  params.IfMatch                     当 ETag 与指定的内容一致，才返回文件。否则返回 412 (precondition failed)，非必须\r\n *     @param  {String}  params.IfNoneMatch                 当 ETag 与指定的内容不一致，才返回文件。否则返回304 (not modified)，非必须\r\n *     @param  {String}  params.ResponseContentType         设置返回头部中的 Content-Type 参数，非必须\r\n *     @param  {String}  params.ResponseContentLanguage     设置返回头部中的 Content-Language 参数，非必须\r\n *     @param  {String}  params.ResponseExpires             设置返回头部中的 Content-Expires 参数，非必须\r\n *     @param  {String}  params.ResponseCacheControl        设置返回头部中的 Cache-Control 参数，非必须\r\n *     @param  {String}  params.ResponseContentDisposition  设置返回头部中的 Content-Disposition 参数，非必须\r\n *     @param  {String}  params.ResponseContentEncoding     设置返回头部中的 Content-Encoding 参数，非必须\r\n * @param  {Function}  callback                             回调函数，必须\r\n * @param  {Object}  err                                    请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @param  {Object}  data                                   为对应的 object 数据，包括 body 和 headers\r\n */\r\nfunction getObject(params, callback) {\r\n    var reqParams = {};\r\n\r\n    reqParams['response-content-type'] = params['ResponseContentType'];\r\n    reqParams['response-content-language'] = params['ResponseContentLanguage'];\r\n    reqParams['response-expires'] = params['ResponseExpires'];\r\n    reqParams['response-cache-control'] = params['ResponseCacheControl'];\r\n    reqParams['response-content-disposition'] = params['ResponseContentDisposition'];\r\n    reqParams['response-content-encoding'] = params['ResponseContentEncoding'];\r\n\r\n    // 如果用户自己传入了 output\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetObject',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        VersionId: params.VersionId,\r\n        headers: params.Headers,\r\n        qs: reqParams,\r\n        rawBody: true,\r\n    }, function (err, data) {\r\n        if (err) {\r\n            var statusCode = err.statusCode;\r\n            if (params.Headers['If-Modified-Since'] && statusCode && statusCode === 304) {\r\n                return callback(null, {\r\n                    NotModified: true\r\n                });\r\n            }\r\n            return callback(err);\r\n        }\r\n        var result = {};\r\n        result.Body = data.body;\r\n\r\n        if (data && data.headers) {\r\n            var headers = data.headers;\r\n            result.ETag = headers.etag || headers.Etag || headers.ETag || '';\r\n        }\r\n        util.extend(result, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n        callback(null, result);\r\n    });\r\n\r\n}\r\n\r\n/**\r\n * 上传 object\r\n * @param  {Object} params                                          参数对象，必须\r\n *     @param  {String}  params.Bucket                              Bucket名称，必须\r\n *     @param  {String}  params.Region                              地域名称，必须\r\n *     @param  {String}  params.Key                                 文件名称，必须\r\n *     @param  {String}  params.Body                                上传文件的内容，只支持字符串\r\n *     @param  {String}  params.CacheControl                        RFC 2616 中定义的缓存策略，将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.ContentDisposition                  RFC 2616 中定义的文件名称，将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.ContentEncoding                     RFC 2616 中定义的编码格式，将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.ContentLength                       RFC 2616 中定义的 HTTP 请求内容长度（字节），必须\r\n *     @param  {String}  params.ContentType                         RFC 2616 中定义的内容类型（MIME），将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.Expect                              当使用 Expect: 100-continue 时，在收到服务端确认后，才会发送请求内容，非必须\r\n *     @param  {String}  params.Expires                             RFC 2616 中定义的过期时间，将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.ContentSha1                         RFC 3174 中定义的 160-bit 内容 SHA-1 算法校验，非必须\r\n *     @param  {String}  params.ACL                                 允许用户自定义文件权限，有效值：private | public-read，非必须\r\n *     @param  {String}  params.GrantRead                           赋予被授权者读的权限，格式 x-cos-grant-read: uin=\" \",uin=\" \"，非必须\r\n *     @param  {String}  params.GrantWrite                          赋予被授权者写的权限，格式 x-cos-grant-write: uin=\" \",uin=\" \"，非必须\r\n *     @param  {String}  params.GrantFullControl                    赋予被授权者读写权限，格式 x-cos-grant-full-control: uin=\" \",uin=\" \"，非必须\r\n *     @param  {String}  params.ServerSideEncryption               支持按照指定的加密算法进行服务端数据加密，格式 x-cos-server-side-encryption: \"AES256\"，非必须\r\n *     @param  {Function}  params.onProgress                        上传进度回调函数\r\n * @param  {Function}  callback                                     回调函数，必须\r\n * @return  {Object}  err                                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                          为对应的 object 数据\r\n *     @return  {String}  data.ETag                                 为对应上传文件的 ETag 值\r\n */\r\nfunction putObject(params, callback) {\r\n    var self = this;\r\n    var FileSize = params.ContentLength;\r\n    var onProgress = util.throttleOnProgress.call(self, FileSize, params.onProgress);\r\n\r\n    util.getBodyMd5(self.options.UploadCheckContentMd5, params.Body, function (md5) {\r\n        md5 && (params.Headers['Content-MD5'] = util.binaryBase64(md5));\r\n        if (params.ContentLength !== undefined) {\r\n            params.Headers['Content-Length'] = params.ContentLength;\r\n        }\r\n        submitRequest.call(self, {\r\n            Action: 'name/cos:PutObject',\r\n            TaskId: params.TaskId,\r\n            method: 'PUT',\r\n            Bucket: params.Bucket,\r\n            Region: params.Region,\r\n            Key: params.Key,\r\n            headers: params.Headers,\r\n            body: params.Body,\r\n            onProgress: onProgress,\r\n        }, function (err, data) {\r\n            if (err) {\r\n                onProgress(null, true);\r\n                return callback(err);\r\n            }\r\n            onProgress({loaded: FileSize, total: FileSize}, true);\r\n\r\n            if (data && data.headers ) {\r\n                var headers = data.headers;\r\n                var ETag = headers.etag || headers.Etag || headers.ETag || '';\r\n\r\n                var url = getUrl({\r\n                    ForcePathStyle: self.options.ForcePathStyle,\r\n                    protocol: self.options.Protocol,\r\n                    domain: self.options.Domain,\r\n                    bucket: params.Bucket,\r\n                    region: params.Region,\r\n                    object: params.Key,\r\n                });\r\n                url = url.substr(url.indexOf('://') + 3);\r\n                return callback(null, {\r\n                    Location: url,\r\n                    ETag: ETag,\r\n                    statusCode: data.statusCode,\r\n                    headers: headers,\r\n                });\r\n            }\r\n            callback(null, data);\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 上传 object\r\n * @param  {Object} params                                          参数对象，必须\r\n *     @param  {String}  params.Bucket                              Bucket名称，必须\r\n *     @param  {String}  params.Region                              地域名称，必须\r\n *     @param  {String}  params.Key                                 文件名称，必须\r\n *     @param  {FilePath}  params.FilePath                          要上传的文件路径\r\n *     @param  {Function}  params.onProgress                        上传进度回调函数\r\n * @param  {Function}  callback                                     回调函数，必须\r\n * @return  {Object}  err                                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                          为对应的 object 数据\r\n *     @return  {String}  data.ETag                                 为对应上传文件的 ETag 值\r\n */\r\nfunction postObject(params, callback) {\r\n    var self = this;\r\n    var headers = {};\r\n\r\n    headers['Cache-Control'] = params['CacheControl'];\r\n    headers['Content-Disposition'] = params['ContentDisposition'];\r\n    headers['Content-Encoding'] = params['ContentEncoding'];\r\n    headers['Content-MD5'] = params['ContentMD5'];\r\n    headers['Content-Length'] = params['ContentLength'];\r\n    headers['Content-Type'] = params['ContentType'];\r\n    headers['Expect'] = params['Expect'];\r\n    headers['Expires'] = params['Expires'];\r\n    headers['x-cos-acl'] = params['ACL'];\r\n    headers['x-cos-grant-read'] = params['GrantRead'];\r\n    headers['x-cos-grant-write'] = params['GrantWrite'];\r\n    headers['x-cos-grant-full-control'] = params['GrantFullControl'];\r\n    headers['x-cos-storage-class'] = params['StorageClass'];\r\n\r\n    var filePath = params.FilePath;\r\n    for (var key in params) {\r\n        if (key.indexOf('x-cos-meta-') > -1) {\r\n            headers[key] = params[key];\r\n        }\r\n    }\r\n\r\n    var onProgress = util.throttleOnProgress.call(self, headers['Content-Length'], params.onProgress);\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PostObject',\r\n        method: 'POST',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        headers: headers,\r\n        filePath: filePath,\r\n        onProgress: onProgress,\r\n    }, function (err, data) {\r\n        onProgress(null, true);\r\n        if (err) {\r\n            return callback(err);\r\n        }\r\n        if (data && data.headers) {\r\n            var headers = data.headers;\r\n            var ETag = headers.etag || headers.Etag || headers.ETag || '';\r\n\r\n            var url = getUrl({\r\n                ForcePathStyle: self.options.ForcePathStyle,\r\n                protocol: self.options.Protocol,\r\n                domain: self.options.Domain,\r\n                bucket: params.Bucket,\r\n                region: params.Region,\r\n                object: params.Key,\r\n                isLocation: true,\r\n            });\r\n\r\n            return callback(null, {\r\n                Location: url,\r\n                statusCode: data.statusCode,\r\n                headers: headers,\r\n                ETag: ETag,\r\n            });\r\n        }\r\n        callback(null, data);\r\n    });\r\n}\r\n\r\n/**\r\n * 删除 object\r\n * @param  {Object}  params                     参数对象，必须\r\n *     @param  {String}  params.Bucket          Bucket名称，必须\r\n *     @param  {String}  params.Region          地域名称，必须\r\n *     @param  {String}  params.Key             object名称，必须\r\n * @param  {Function}  callback                 回调函数，必须\r\n * @param  {Object}  err                        请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @param  {Object}  data                       删除操作成功之后返回的数据\r\n */\r\nfunction deleteObject(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:DeleteObject',\r\n        method: 'DELETE',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        headers: params.Headers,\r\n        VersionId: params.VersionId,\r\n    }, function (err, data) {\r\n        if (err) {\r\n            var statusCode = err.statusCode;\r\n            if (statusCode && statusCode === 204) {\r\n                return callback(null, {statusCode: statusCode});\r\n            } else if (statusCode && statusCode === 404) {\r\n                return callback(null, {BucketNotFound: true, statusCode: statusCode,});\r\n            } else {\r\n                return callback(err);\r\n            }\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 获取 object 的 权限列表\r\n * @param  {Object}  params                         参数对象，必须\r\n *     @param  {String}  params.Bucket              Bucket名称，必须\r\n *     @param  {String}  params.Region              地域名称，必须\r\n *     @param  {String}  params.Key                 object名称，必须\r\n * @param  {Function}  callback                     回调函数，必须\r\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                          返回的数据\r\n *     @return  {Object}  data.AccessControlPolicy  权限列表\r\n */\r\nfunction getObjectAcl(params, callback) {\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetObjectACL',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        headers: params.Headers,\r\n        action: 'acl',\r\n    }, function (err, data) {\r\n        if (err) {\r\n            return callback(err);\r\n        }\r\n        var AccessControlPolicy = data.AccessControlPolicy || {};\r\n        var Owner = AccessControlPolicy.Owner || {};\r\n        var Grant = AccessControlPolicy.AccessControlList && AccessControlPolicy.AccessControlList.Grant || [];\r\n        Grant = util.isArray(Grant) ? Grant : [Grant];\r\n        var result = decodeAcl(AccessControlPolicy);\r\n        if (data.headers && data.headers['x-cos-acl']) {\r\n            result.ACL = data.headers['x-cos-acl'];\r\n        }\r\n        result = util.extend(result, {\r\n            Owner: Owner,\r\n            Grants: Grant,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n        callback(null, result);\r\n    });\r\n}\r\n\r\n/**\r\n * 设置 object 的 权限列表\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n *     @param  {String}  params.Key     object名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回的数据\r\n */\r\nfunction putObjectAcl(params, callback) {\r\n    var headers = params.Headers;\r\n\r\n    var xml = '';\r\n    if (params['AccessControlPolicy']) {\r\n        var AccessControlPolicy = util.clone(params['AccessControlPolicy'] || {});\r\n        var Grants = AccessControlPolicy.Grants || AccessControlPolicy.Grant;\r\n        Grants = util.isArray(Grants) ? Grants : [Grants];\r\n        delete AccessControlPolicy.Grant;\r\n        delete AccessControlPolicy.Grants;\r\n        AccessControlPolicy.AccessControlList = {Grant: Grants};\r\n        xml = util.json2xml({AccessControlPolicy: AccessControlPolicy});\r\n\r\n        headers['Content-Type'] = 'application/xml';\r\n        headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n    }\r\n\r\n    // Grant Header 去重\r\n    util.each(headers, function (val, key) {\r\n        if (key.indexOf('x-cos-grant-') === 0) {\r\n            headers[key] = uniqGrant(headers[key]);\r\n        }\r\n    });\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutObjectACL',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        action: 'acl',\r\n        headers: headers,\r\n        body: xml,\r\n    }, function (err, data) {\r\n        if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * Options Object请求实现跨域访问的预请求。即发出一个 OPTIONS 请求给服务器以确认是否可以进行跨域操作。\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n *     @param  {String}  params.Key     object名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回的数据\r\n */\r\nfunction optionsObject(params, callback) {\r\n\r\n    var headers = params.Headers;\r\n    headers['Origin'] = params['Origin'];\r\n    headers['Access-Control-Request-Method'] = params['AccessControlRequestMethod'];\r\n    headers['Access-Control-Request-Headers'] = params['AccessControlRequestHeaders'];\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:OptionsObject',\r\n        method: 'OPTIONS',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err) {\r\n            if (err.statusCode && err.statusCode === 403) {\r\n                return callback(null, {\r\n                    OptionsForbidden: true,\r\n                    statusCode: err.statusCode\r\n                });\r\n            }\r\n            return callback(err);\r\n        }\r\n\r\n        var headers = data.headers || {};\r\n        callback(null, {\r\n            AccessControlAllowOrigin: headers['access-control-allow-origin'],\r\n            AccessControlAllowMethods: headers['access-control-allow-methods'],\r\n            AccessControlAllowHeaders: headers['access-control-allow-headers'],\r\n            AccessControlExposeHeaders: headers['access-control-expose-headers'],\r\n            AccessControlMaxAge: headers['access-control-max-age'],\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * @param  {Object}                                     参数列表\r\n *     @param  {String}  Bucket                         Bucket 名称\r\n *     @param  {String}  Region                         地域名称\r\n *     @param  {String}  Key                            文件名称\r\n *     @param  {String}  CopySource                     源文件URL绝对路径，可以通过versionid子资源指定历史版本\r\n *     @param  {String}  ACL                            允许用户自定义文件权限。有效值：private，public-read默认值：private。\r\n *     @param  {String}  GrantRead                      赋予被授权者读的权限，格式 x-cos-grant-read: uin=\" \",uin=\" \"，当需要给子账户授权时，uin=\"RootAcountID/SubAccountID\"，当需要给根账户授权时，uin=\"RootAcountID\"。\r\n *     @param  {String}  GrantWrite                     赋予被授权者写的权限，格式 x-cos-grant-write: uin=\" \",uin=\" \"，当需要给子账户授权时，uin=\"RootAcountID/SubAccountID\"，当需要给根账户授权时，uin=\"RootAcountID\"。\r\n *     @param  {String}  GrantFullControl               赋予被授权者读写权限，格式 x-cos-grant-full-control: uin=\" \",uin=\" \"，当需要给子账户授权时，uin=\"RootAcountID/SubAccountID\"，当需要给根账户授权时，uin=\"RootAcountID\"。\r\n *     @param  {String}  MetadataDirective              是否拷贝元数据，枚举值：Copy, Replaced，默认值Copy。假如标记为Copy，忽略Header中的用户元数据信息直接复制；假如标记为Replaced，按Header信息修改元数据。当目标路径和原路径一致，即用户试图修改元数据时，必须为Replaced\r\n *     @param  {String}  CopySourceIfModifiedSince      当Object在指定时间后被修改，则执行操作，否则返回412。可与x-cos-copy-source-If-None-Match一起使用，与其他条件联合使用返回冲突。\r\n *     @param  {String}  CopySourceIfUnmodifiedSince    当Object在指定时间后未被修改，则执行操作，否则返回412。可与x-cos-copy-source-If-Match一起使用，与其他条件联合使用返回冲突。\r\n *     @param  {String}  CopySourceIfMatch              当Object的ETag和给定一致时，则执行操作，否则返回412。可与x-cos-copy-source-If-Unmodified-Since一起使用，与其他条件联合使用返回冲突。\r\n *     @param  {String}  CopySourceIfNoneMatch          当Object的ETag和给定不一致时，则执行操作，否则返回412。可与x-cos-copy-source-If-Modified-Since一起使用，与其他条件联合使用返回冲突。\r\n *     @param  {String}  StorageClass                   存储级别，枚举值：存储级别，枚举值：Standard, Standard_IA，Archive；默认值：Standard\r\n *     @param  {String}  CacheControl                   指定所有缓存机制在整个请求/响应链中必须服从的指令。\r\n *     @param  {String}  ContentDisposition             MIME 协议的扩展，MIME 协议指示 MIME 用户代理如何显示附加的文件\r\n *     @param  {String}  ContentEncoding                HTTP 中用来对「采用何种编码格式传输正文」进行协定的一对头部字段\r\n *     @param  {String}  ContentLength                  设置响应消息的实体内容的大小，单位为字节\r\n *     @param  {String}  ContentType                    RFC 2616 中定义的 HTTP 请求内容类型（MIME），例如text/plain\r\n *     @param  {String}  Expect                         请求的特定的服务器行为\r\n *     @param  {String}  Expires                        响应过期的日期和时间\r\n *     @param  {String}  params.ServerSideEncryption   支持按照指定的加密算法进行服务端数据加密，格式 x-cos-server-side-encryption: \"AES256\"，非必须\r\n *     @param  {String}  ContentLanguage                指定内容语言\r\n *     @param  {String}  x-cos-meta-*                   允许用户自定义的头部信息，将作为 Object 元数据返回。大小限制2K。\r\n */\r\nfunction putObjectCopy(params, callback) {\r\n    var CopySource = params.CopySource || '';\r\n    var m = CopySource.match(/^([^.]+-\\d+)\\.cos(v6)?\\.([^.]+)\\.[^/]+\\/(.+)$/);\r\n    if (!m) {\r\n        callback({error: 'CopySource format error'});\r\n        return;\r\n    }\r\n\r\n    var SourceBucket = m[1];\r\n    var SourceRegion = m[3];\r\n    var SourceKey = decodeURIComponent(m[4]);\r\n\r\n    submitRequest.call(this, {\r\n        Scope: [{\r\n            action: 'name/cos:GetObject',\r\n            bucket: SourceBucket,\r\n            region: SourceRegion,\r\n            prefix: SourceKey,\r\n        }, {\r\n            action: 'name/cos:PutObject',\r\n            bucket: params.Bucket,\r\n            region: params.Region,\r\n            prefix: params.Key,\r\n        }],\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        VersionId: params.VersionId,\r\n        headers: params.Headers,\r\n    }, function (err, data) {\r\n        if (err) {\r\n            return callback(err);\r\n        }\r\n        var result = util.clone(data.CopyObjectResult || {});\r\n        util.extend(result, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n        callback(null, result);\r\n    });\r\n}\r\n\r\nfunction uploadPartCopy(params, callback) {\r\n\r\n    var CopySource = params.CopySource || '';\r\n    var m = CopySource.match(/^([^.]+-\\d+)\\.cos(v6)?\\.([^.]+)\\.[^/]+\\/(.+)$/);\r\n    if (!m) {\r\n        callback({error: 'CopySource format error'});\r\n        return;\r\n    }\r\n\r\n    var SourceBucket = m[1];\r\n    var SourceRegion = m[3];\r\n    var SourceKey = decodeURIComponent(m[4]);\r\n\r\n    submitRequest.call(this, {\r\n        Scope: [{\r\n            action: 'name/cos:GetObject',\r\n            bucket: SourceBucket,\r\n            region: SourceRegion,\r\n            prefix: SourceKey,\r\n        }, {\r\n            action: 'name/cos:PutObject',\r\n            bucket: params.Bucket,\r\n            region: params.Region,\r\n            prefix: params.Key,\r\n        }],\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        VersionId: params.VersionId,\r\n        qs: {\r\n            partNumber: params['PartNumber'],\r\n            uploadId: params['UploadId'],\r\n        },\r\n        headers: params.Headers,\r\n    }, function (err, data) {\r\n        if (err) {\r\n            return callback(err);\r\n        }\r\n        var result = util.clone(data.CopyPartResult || {});\r\n        util.extend(result, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n        callback(null, result);\r\n    });\r\n}\r\n\r\nfunction deleteMultipleObject(params, callback) {\r\n    var Objects = params.Objects || [];\r\n    var Quiet = params.Quiet;\r\n    Objects = util.isArray(Objects) ? Objects : [Objects];\r\n\r\n    var xml = util.json2xml({Delete: {Object: Objects, Quiet: Quiet || false}});\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    var Scope = util.map(Objects, function (v) {\r\n        return {\r\n            action: 'name/cos:DeleteObject',\r\n            bucket: params.Bucket,\r\n            region: params.Region,\r\n            prefix: v.Key,\r\n        };\r\n    });\r\n\r\n    submitRequest.call(this, {\r\n        Scope: Scope,\r\n        method: 'POST',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'delete',\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err) {\r\n            return callback(err);\r\n        }\r\n        var DeleteResult = data.DeleteResult || {};\r\n        var Deleted = DeleteResult.Deleted || [];\r\n        var Errors = DeleteResult.Error || [];\r\n\r\n        Deleted = util.isArray(Deleted) ? Deleted : [Deleted];\r\n        Errors = util.isArray(Errors) ? Errors : [Errors];\r\n\r\n        var result = util.clone(DeleteResult);\r\n        util.extend(result, {\r\n            Error: Errors,\r\n            Deleted: Deleted,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n        callback(null, result);\r\n    });\r\n}\r\n\r\nfunction restoreObject(params, callback) {\r\n    var headers = params.Headers;\r\n    if (!params['RestoreRequest']) {\r\n        callback({error: 'missing param RestoreRequest'});\r\n        return;\r\n    }\r\n\r\n    var RestoreRequest = params.RestoreRequest || {};\r\n    var xml = util.json2xml({RestoreRequest: RestoreRequest});\r\n\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:RestoreObject',\r\n        method: 'POST',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        VersionId: params.VersionId,\r\n        body: xml,\r\n        action: 'restore',\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        callback(err, data);\r\n    });\r\n}\r\n\r\n\r\n// 分块上传\r\n\r\n\r\n/**\r\n * 初始化分块上传\r\n * @param  {Object}  params                                     参数对象，必须\r\n *     @param  {String}  params.Bucket                          Bucket名称，必须\r\n *     @param  {String}  params.Region                          地域名称，必须\r\n *     @param  {String}  params.Key                             object名称，必须\r\n *     @param  {String}  params.UploadId                        object名称，必须\r\n *     @param  {String}  params.CacheControl                    RFC 2616 中定义的缓存策略，将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.ContentDisposition              RFC 2616 中定义的文件名称，将作为 Object 元数据保存    ，非必须\r\n *     @param  {String}  params.ContentEncoding                 RFC 2616 中定义的编码格式，将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.ContentType                     RFC 2616 中定义的内容类型（MIME），将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.Expires                         RFC 2616 中定义的过期时间，将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.ACL                             允许用户自定义文件权限，非必须\r\n *     @param  {String}  params.GrantRead                       赋予被授权者读的权限 ，非必须\r\n *     @param  {String}  params.GrantWrite                      赋予被授权者写的权限 ，非必须\r\n *     @param  {String}  params.GrantFullControl                赋予被授权者读写权限 ，非必须\r\n *     @param  {String}  params.StorageClass                    设置Object的存储级别，枚举值：Standard，Standard_IA，Archive，非必须\r\n *     @param  {String}  params.ServerSideEncryption           支持按照指定的加密算法进行服务端数据加密，格式 x-cos-server-side-encryption: \"AES256\"，非必须\r\n * @param  {Function}  callback                                 回调函数，必须\r\n * @return  {Object}  err                                       请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                      返回的数据\r\n */\r\nfunction multipartInit(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:InitiateMultipartUpload',\r\n        method: 'POST',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        action: 'uploads',\r\n        headers: params.Headers,\r\n    }, function (err, data) {\r\n        if (err) {\r\n            return callback(err);\r\n        }\r\n        data = util.clone(data || {});\r\n        if (data && data.InitiateMultipartUploadResult) {\r\n            return callback(null, util.extend(data.InitiateMultipartUploadResult, {\r\n                statusCode: data.statusCode,\r\n                headers: data.headers,\r\n            }));\r\n        }\r\n        callback(null, data);\r\n    });\r\n}\r\n\r\n/**\r\n * 分块上传\r\n * @param  {Object}  params                                 参数对象，必须\r\n *     @param  {String}  params.Bucket                      Bucket名称，必须\r\n *     @param  {String}  params.Region                      地域名称，必须\r\n *     @param  {String}  params.Key                         object名称，必须\r\n *     @param  {String}  params.Body                        上传文件对象或字符串\r\n *     @param  {String} params.ContentLength                RFC 2616 中定义的 HTTP 请求内容长度（字节），非必须\r\n *     @param  {String} params.Expect                       当使用 Expect: 100-continue 时，在收到服务端确认后，才会发送请求内容，非必须\r\n *     @param  {String} params.ServerSideEncryption         支持按照指定的加密算法进行服务端数据加密，格式 x-cos-server-side-encryption: \"AES256\"，非必须\r\n *     @param  {String} params.ContentSha1                  RFC 3174 中定义的 160-bit 内容 SHA-1 算法校验值，非必须\r\n * @param  {Function}  callback                             回调函数，必须\r\n *     @return  {Object}  err                               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n *     @return  {Object}  data                              返回的数据\r\n *     @return  {Object}  data.ETag                         返回的文件分块 sha1 值\r\n */\r\nfunction multipartUpload(params, callback) {\r\n\r\n    var self = this;\r\n    util.getFileSize('multipartUpload', params, function () {\r\n        util.getBodyMd5(self.options.UploadCheckContentMd5, params.Body, function (md5) {\r\n            md5 && (params.Headers['Content-MD5'] = util.binaryBase64(md5));\r\n            submitRequest.call(self, {\r\n                Action: 'name/cos:UploadPart',\r\n                TaskId: params.TaskId,\r\n                method: 'PUT',\r\n                Bucket: params.Bucket,\r\n                Region: params.Region,\r\n                Key: params.Key,\r\n                qs: {\r\n                    partNumber: params['PartNumber'],\r\n                    uploadId: params['UploadId'],\r\n                },\r\n                headers: params.Headers,\r\n                onProgress: params.onProgress,\r\n                body: params.Body || null\r\n            }, function (err, data) {\r\n                if (err) {\r\n                    return callback(err);\r\n                }\r\n                if(data && data.headers){\r\n                    var headers = data.headers;\r\n                    data.ETag = headers.etag || headers.Etag || headers.ETag || '';\r\n                }\r\n\r\n                callback(null, data);\r\n            });\r\n        });\r\n    });\r\n\r\n}\r\n\r\n/**\r\n * 完成分块上传\r\n * @param  {Object}  params                             参数对象，必须\r\n *     @param  {String}  params.Bucket                  Bucket名称，必须\r\n *     @param  {String}  params.Region                  地域名称，必须\r\n *     @param  {String}  params.Key                     object名称，必须\r\n *     @param  {Array}   params.Parts                   分块信息列表，必须\r\n *     @param  {String}  params.Parts[i].PartNumber     块编号，必须\r\n *     @param  {String}  params.Parts[i].ETag           分块的 sha1 校验值\r\n * @param  {Function}  callback                         回调函数，必须\r\n * @return  {Object}  err                               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                              返回的数据\r\n *     @return  {Object}  data.CompleteMultipartUpload  完成分块上传后的文件信息，包括Location, Bucket, Key 和 ETag\r\n */\r\nfunction multipartComplete(params, callback) {\r\n    var self = this;\r\n\r\n    var UploadId = params.UploadId;\r\n\r\n    var Parts = params['Parts'];\r\n\r\n    for (var i = 0, len = Parts.length; i < len; i++) {\r\n        if (Parts[i]['ETag'].indexOf('\"') === 0) {\r\n            continue;\r\n        }\r\n        Parts[i]['ETag'] = '\"' + Parts[i]['ETag'] + '\"';\r\n    }\r\n\r\n    var xml = util.json2xml({CompleteMultipartUpload: {Part: Parts}});\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:CompleteMultipartUpload',\r\n        method: 'POST',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        qs: {\r\n            uploadId: UploadId\r\n        },\r\n        body: xml,\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err) {\r\n            return callback(err);\r\n        }\r\n        var url = getUrl({\r\n            ForcePathStyle: self.options.ForcePathStyle,\r\n            protocol: self.options.Protocol,\r\n            domain: self.options.Domain,\r\n            bucket: params.Bucket,\r\n            region: params.Region,\r\n            object: params.Key,\r\n            isLocation: true,\r\n        });\r\n        var CompleteMultipartUploadResult = data.CompleteMultipartUploadResult || {};\r\n        var result = util.extend(CompleteMultipartUploadResult, {\r\n            Location: url,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n        callback(null, result);\r\n    });\r\n}\r\n\r\n/**\r\n * 分块上传任务列表查询\r\n * @param  {Object}  params                                 参数对象，必须\r\n *     @param  {String}  params.Bucket                      Bucket名称，必须\r\n *     @param  {String}  params.Region                      地域名称，必须\r\n *     @param  {String}  params.Delimiter                   定界符为一个符号，如果有Prefix，则将Prefix到delimiter之间的相同路径归为一类，定义为Common Prefix，然后列出所有Common Prefix。如果没有Prefix，则从路径起点开始，非必须\r\n *     @param  {String}  params.EncodingType                规定返回值的编码方式，非必须\r\n *     @param  {String}  params.Prefix                      前缀匹配，用来规定返回的文件前缀地址，非必须\r\n *     @param  {String}  params.MaxUploads                  单次返回最大的条目数量，默认1000，非必须\r\n *     @param  {String}  params.KeyMarker                   与upload-id-marker一起使用 </Br>当upload-id-marker未被指定时，ObjectName字母顺序大于key-marker的条目将被列出 </Br>当upload-id-marker被指定时，ObjectName字母顺序大于key-marker的条目被列出，ObjectName字母顺序等于key-marker同时UploadId大于upload-id-marker的条目将被列出，非必须\r\n *     @param  {String}  params.UploadIdMarker              与key-marker一起使用 </Br>当key-marker未被指定时，upload-id-marker将被忽略 </Br>当key-marker被指定时，ObjectName字母顺序大于key-marker的条目被列出，ObjectName字母顺序等于key-marker同时UploadId大于upload-id-marker的条目将被列出，非必须\r\n * @param  {Function}  callback                             回调函数，必须\r\n * @return  {Object}  err                                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                  返回的数据\r\n *     @return  {Object}  data.ListMultipartUploadsResult   分块上传任务信息\r\n */\r\nfunction multipartList(params, callback) {\r\n    var reqParams = {};\r\n\r\n    reqParams['delimiter'] = params['Delimiter'];\r\n    reqParams['encoding-type'] = params['EncodingType'];\r\n    reqParams['prefix'] = params['Prefix'] || '';\r\n\r\n    reqParams['max-uploads'] = params['MaxUploads'];\r\n\r\n    reqParams['key-marker'] = params['KeyMarker'];\r\n    reqParams['upload-id-marker'] = params['UploadIdMarker'];\r\n\r\n    reqParams = util.clearKey(reqParams);\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:ListMultipartUploads',\r\n        ResourceKey: reqParams['prefix'],\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        qs: reqParams,\r\n        action: 'uploads',\r\n    }, function (err, data) {\r\n        if (err) {\r\n            return callback(err);\r\n        }\r\n\r\n        if (data && data.ListMultipartUploadsResult) {\r\n            var Upload = data.ListMultipartUploadsResult.Upload || [];\r\n\r\n            var CommonPrefixes = data.ListMultipartUploadsResult.CommonPrefixes || [];\r\n\r\n            CommonPrefixes = util.isArray(CommonPrefixes) ? CommonPrefixes : [CommonPrefixes];\r\n            Upload = util.isArray(Upload) ? Upload : [Upload];\r\n\r\n            data.ListMultipartUploadsResult.Upload = Upload;\r\n            data.ListMultipartUploadsResult.CommonPrefixes = CommonPrefixes;\r\n        }\r\n        var result = util.clone(data.ListMultipartUploadsResult || {});\r\n        util.extend(result, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n        callback(null, result);\r\n    });\r\n}\r\n\r\n/**\r\n * 上传的分块列表查询\r\n * @param  {Object}  params                                 参数对象，必须\r\n *     @param  {String}  params.Bucket                      Bucket名称，必须\r\n *     @param  {String}  params.Region                      地域名称，必须\r\n *     @param  {String}  params.Key                         object名称，必须\r\n *     @param  {String}  params.UploadId                    标示本次分块上传的ID，必须\r\n *     @param  {String}  params.EncodingType                规定返回值的编码方式，非必须\r\n *     @param  {String}  params.MaxParts                    单次返回最大的条目数量，默认1000，非必须\r\n *     @param  {String}  params.PartNumberMarker            默认以UTF-8二进制顺序列出条目，所有列出条目从marker开始，非必须\r\n * @param  {Function}  callback                             回调函数，必须\r\n * @return  {Object}  err                                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                  返回的数据\r\n *     @return  {Object}  data.ListMultipartUploadsResult   分块信息\r\n */\r\nfunction multipartListPart(params, callback) {\r\n    var reqParams = {};\r\n\r\n    reqParams['uploadId'] = params['UploadId'];\r\n    reqParams['encoding-type'] = params['EncodingType'];\r\n    reqParams['max-parts'] = params['MaxParts'];\r\n    reqParams['part-number-marker'] = params['PartNumberMarker'];\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:ListParts',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        headers: params.Headers,\r\n        qs: reqParams,\r\n    }, function (err, data) {\r\n        if (err) {\r\n            return callback(err);\r\n        }\r\n        var ListPartsResult = data.ListPartsResult || {};\r\n        var Part = ListPartsResult.Part || [];\r\n        Part = util.isArray(Part) ? Part : [Part];\r\n\r\n        ListPartsResult.Part = Part;\r\n        var result = util.clone(ListPartsResult);\r\n        util.extend(result, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n        callback(null, result);\r\n    });\r\n}\r\n\r\n/**\r\n * 抛弃分块上传\r\n * @param  {Object}  params                 参数对象，必须\r\n *     @param  {String}  params.Bucket      Bucket名称，必须\r\n *     @param  {String}  params.Region      地域名称，必须\r\n *     @param  {String}  params.Key         object名称，必须\r\n *     @param  {String}  params.UploadId    标示本次分块上传的ID，必须\r\n * @param  {Function}  callback             回调函数，必须\r\n *     @return  {Object}    err             请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n *     @return  {Object}    data            返回的数据\r\n */\r\nfunction multipartAbort(params, callback) {\r\n    var reqParams = {};\r\n\r\n    reqParams['uploadId'] = params['UploadId'];\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:AbortMultipartUpload',\r\n        method: 'DELETE',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        headers: params.Headers,\r\n        qs: reqParams,\r\n    }, function (err, data) {\r\n        if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * 获取签名\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Method  请求方法，必须\r\n *     @param  {String}  params.Key     object名称，必须\r\n *     @param  {String}  params.Expires 名超时时间，单位秒，可选\r\n * @return  {String}  data              返回签名字符串\r\n */\r\nfunction getAuth(params) {\r\n    var self = this;\r\n    return util.getAuth({\r\n        SecretId: params.SecretId || this.options.SecretId || '',\r\n        SecretKey: params.SecretKey || this.options.SecretKey || '',\r\n        Method: params.Method,\r\n        Key: params.Key,\r\n        Query: params.Query,\r\n        Headers: params.Headers,\r\n        Expires: params.Expires,\r\n        SystemClockOffset: self.options.SystemClockOffset,\r\n    });\r\n}\r\n\r\n/**\r\n * 获取文件下载链接\r\n * @param  {Object}  params                 参数对象，必须\r\n *     @param  {String}  params.Bucket      Bucket名称，必须\r\n *     @param  {String}  params.Region      地域名称，必须\r\n *     @param  {String}  params.Key         object名称，必须\r\n *     @param  {String}  params.Method      请求的方法，可选\r\n *     @param  {String}  params.Expires     签名超时时间，单位秒，可选\r\n * @param  {Function}  callback             回调函数，必须\r\n *     @return  {Object}    err             请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n *     @return  {Object}    data            返回的数据\r\n */\r\nfunction getObjectUrl(params, callback) {\r\n    var self = this;\r\n    var url = getUrl({\r\n        ForcePathStyle: self.options.ForcePathStyle,\r\n        protocol: params.Protocol || self.options.Protocol,\r\n        domain: self.options.Domain,\r\n        bucket: params.Bucket,\r\n        region: params.Region,\r\n        object: params.Key,\r\n    });\r\n    if (params.Sign !== undefined && !params.Sign) {\r\n        callback(null, {Url: url});\r\n        return url;\r\n    }\r\n    var AuthData = getAuthorizationAsync.call(this, {\r\n        Action: ((params.Method || '').toUpperCase() === 'PUT' ? 'name/cos:PutObject' : 'name/cos:GetObject'),\r\n        Bucket: params.Bucket || '',\r\n        Region: params.Region || '',\r\n        Method: params.Method || 'get',\r\n        Key: params.Key,\r\n        Expires: params.Expires,\r\n    }, function (err, AuthData) {\r\n        if (!callback) return;\r\n        if (err) {\r\n            callback(err);\r\n            return;\r\n        }\r\n        var signUrl = url;\r\n        signUrl += '?' + (AuthData.Authorization.indexOf('q-signature') > -1 ?\r\n            AuthData.Authorization : 'sign=' + encodeURIComponent(AuthData.Authorization));\r\n        AuthData.XCosSecurityToken && (signUrl += '&x-cos-security-token=' + AuthData.XCosSecurityToken);\r\n        AuthData.ClientIP && (signUrl += '&clientIP=' + AuthData.ClientIP);\r\n        AuthData.ClientUA && (signUrl += '&clientUA=' + AuthData.ClientUA);\r\n        AuthData.Token && (signUrl += '&token=' + AuthData.Token);\r\n        setTimeout(function () {\r\n            callback(null, {Url: signUrl});\r\n        });\r\n    });\r\n    if (AuthData) {\r\n        return url + '?' + AuthData.Authorization +\r\n            (AuthData.XCosSecurityToken ? '&x-cos-security-token=' + AuthData.XCosSecurityToken : '');\r\n    } else {\r\n        return url;\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * 私有方法\r\n */\r\nfunction decodeAcl(AccessControlPolicy) {\r\n    var result = {\r\n        GrantFullControl: [],\r\n        GrantWrite: [],\r\n        GrantRead: [],\r\n        GrantReadAcp: [],\r\n        GrantWriteAcp: [],\r\n        ACL: '',\r\n    };\r\n    var GrantMap = {\r\n        'FULL_CONTROL': 'GrantFullControl',\r\n        'WRITE': 'GrantWrite',\r\n        'READ': 'GrantRead',\r\n        'READ_ACP': 'GrantReadAcp',\r\n        'WRITE_ACP': 'GrantWriteAcp',\r\n    };\r\n    var Grant = AccessControlPolicy.AccessControlList.Grant;\r\n    if (Grant) {\r\n        Grant = util.isArray(Grant) ? Grant : [Grant];\r\n    }\r\n    var PublicAcl = {READ: 0, WRITE: 0, FULL_CONTROL: 0};\r\n    Grant.length && util.each(Grant, function (item) {\r\n        if (item.Grantee.ID === 'qcs::cam::anyone:anyone' || item.Grantee.URI === 'http://cam.qcloud.com/groups/global/AllUsers') {\r\n            PublicAcl[item.Permission] = 1;\r\n        } else if (item.Grantee.ID !== AccessControlPolicy.Owner.ID) {\r\n            result[GrantMap[item.Permission]].push('id=\"' + item.Grantee.ID + '\"');\r\n        }\r\n    });\r\n    if (PublicAcl.FULL_CONTROL || (PublicAcl.WRITE && PublicAcl.READ)) {\r\n        result.ACL = 'public-read-write';\r\n    } else if (PublicAcl.READ) {\r\n        result.ACL = 'public-read';\r\n    } else {\r\n        result.ACL = 'private';\r\n    }\r\n    util.each(GrantMap, function (item) {\r\n        result[item] = uniqGrant(result[item].join(','));\r\n    });\r\n    return result;\r\n}\r\n\r\n// Grant 去重\r\nfunction uniqGrant(str) {\r\n    var arr = str.split(',');\r\n    var exist = {};\r\n    var i, item;\r\n    for (i = 0; i < arr.length; ) {\r\n        item = arr[i].trim();\r\n        if (exist[item]) {\r\n            arr.splice(i, 1);\r\n        } else {\r\n            exist[item] = true;\r\n            arr[i] = item;\r\n            i++;\r\n        }\r\n    }\r\n    return arr.join(',');\r\n}\r\n\r\n// 生成操作 url\r\nfunction getUrl(params) {\r\n    var longBucket = params.bucket;\r\n    var shortBucket = longBucket.substr(0, longBucket.lastIndexOf('-'));\r\n    var appId = longBucket.substr(longBucket.lastIndexOf('-') + 1);\r\n    var domain = params.domain;\r\n    var region = params.region;\r\n    var object = params.object;\r\n    var protocol = 'https:';\r\n    if (!domain) {\r\n        if (['cn-south', 'cn-south-2', 'cn-north', 'cn-east', 'cn-southwest', 'sg'].indexOf(region) > -1) {\r\n            domain = '{Region}.myqcloud.com';\r\n        } else {\r\n            domain = 'cos.{Region}.myqcloud.com';\r\n        }\r\n        if (!params.ForcePathStyle) {\r\n            domain = '{Bucket}.' + domain;\r\n        }\r\n    }\r\n    domain = domain.replace(/\\{\\{AppId\\}\\}/ig, appId)\r\n        .replace(/\\{\\{Bucket\\}\\}/ig, shortBucket)\r\n        .replace(/\\{\\{Region\\}\\}/ig, region)\r\n        .replace(/\\{\\{.*?\\}\\}/ig, '');\r\n    domain = domain.replace(/\\{AppId\\}/ig, appId)\r\n        .replace(/\\{BucketName\\}/ig, shortBucket)\r\n        .replace(/\\{Bucket\\}/ig, longBucket)\r\n        .replace(/\\{Region\\}/ig, region)\r\n        .replace(/\\{.*?\\}/ig, '');\r\n    if (!/^[a-zA-Z]+:\\/\\//.test(domain)) {\r\n        domain = protocol + '//' + domain;\r\n    }\r\n\r\n    // 去掉域名最后的斜杆\r\n    if (domain.slice(-1) === '/') {\r\n        domain = domain.slice(0, -1);\r\n    }\r\n    var url = domain;\r\n\r\n    if (params.ForcePathStyle) {\r\n        url += '/' + longBucket;\r\n    }\r\n    url += '/';\r\n    if (object) {\r\n        url += util.camSafeUrlEncode(object).replace(/%2F/g, '/');\r\n    }\r\n\r\n    if (params.isLocation) {\r\n        url = url.replace(/^https?:\\/\\//, '');\r\n    }\r\n    return url;\r\n}\r\n\r\n// 异步获取签名\r\nfunction getAuthorizationAsync(params, callback) {\r\n\r\n    var headers = util.clone(params.Headers);\r\n    delete headers['Content-Type'];\r\n    delete headers['Cache-Control'];\r\n    util.each(headers, function (v, k) {\r\n        v === '' && delete headers[k];\r\n    });\r\n\r\n    var cb = function (AuthData) {\r\n\r\n        // 检查签名格式\r\n        var formatAllow = false;\r\n        var auth = AuthData.Authorization;\r\n        if (auth) {\r\n            if (auth.indexOf(' ') > -1) {\r\n                formatAllow = false;\r\n            } else if (auth.indexOf('q-sign-algorithm=') > -1 &&\r\n                auth.indexOf('q-ak=') > -1 &&\r\n                auth.indexOf('q-sign-time=') > -1 &&\r\n                auth.indexOf('q-key-time=') > -1 &&\r\n                auth.indexOf('q-url-param-list=') > -1) {\r\n                formatAllow = true;\r\n            } else {\r\n                try {\r\n                    auth = base64.atob(auth);\r\n                    if (auth.indexOf('a=') > -1 &&\r\n                        auth.indexOf('k=') > -1 &&\r\n                        auth.indexOf('t=') > -1 &&\r\n                        auth.indexOf('r=') > -1 &&\r\n                        auth.indexOf('b=') > -1) {\r\n                        formatAllow = true;\r\n                    }\r\n                } catch (e) {}\r\n            }\r\n        }\r\n        if (formatAllow) {\r\n            callback && callback(null, AuthData);\r\n        } else {\r\n            callback && callback('authorization error');\r\n        }\r\n    };\r\n\r\n    var self = this;\r\n    var Bucket = params.Bucket || '';\r\n    var Region = params.Region || '';\r\n\r\n    // PathName\r\n    var KeyName = params.Action === 'name/cos:PostObject' || !params.Key ? '' : params.Key;\r\n    if (self.options.ForcePathStyle && Bucket) {\r\n        KeyName = Bucket + '/' + KeyName;\r\n    }\r\n    var Pathname = '/' + KeyName;\r\n\r\n    // Action、ResourceKey\r\n    var StsData = {};\r\n    var Scope = params.Scope;\r\n    if (!Scope) {\r\n        var Action = params.Action || '';\r\n        var ResourceKey = params.ResourceKey || params.Key || '';\r\n        Scope = params.Scope || [{\r\n            action: Action,\r\n            bucket: Bucket,\r\n            region: Region,\r\n            prefix: ResourceKey,\r\n        }];\r\n    }\r\n    var ScopeKey  = util.md5(JSON.stringify(Scope));\r\n\r\n    // STS\r\n    self._StsCache = self._StsCache ||[];\r\n    (function () {\r\n        var i, AuthData;\r\n        for (i = self._StsCache.length - 1; i >= 0; i--) {\r\n            AuthData = self._StsCache[i];\r\n            var compareTime = Math.round(util.getSkewTime(self.options.SystemClockOffset) / 1000) + 30;\r\n            if (AuthData.StartTime && compareTime < AuthData.StartTime || compareTime >= AuthData.ExpiredTime) {\r\n                self._StsCache.splice(i, 1);\r\n                continue;\r\n            }\r\n            if (!AuthData.ScopeLimit || AuthData.ScopeLimit && AuthData.ScopeKey === ScopeKey) {\r\n                StsData = AuthData;\r\n                break;\r\n            }\r\n        }\r\n    })();\r\n\r\n    var calcAuthByTmpKey = function () {\r\n        var KeyTime = StsData.StartTime && StsData.ExpiredTime ? StsData.StartTime + ';' + StsData.ExpiredTime : '';\r\n        var Authorization = util.getAuth({\r\n            SecretId: StsData.TmpSecretId,\r\n            SecretKey: StsData.TmpSecretKey,\r\n            Method: params.Method,\r\n            Pathname: Pathname,\r\n            Query: params.Query,\r\n            Headers: headers,\r\n            Expires: params.Expires,\r\n            SystemClockOffset: self.options.SystemClockOffset,\r\n            KeyTime: KeyTime\r\n        });\r\n        var AuthData = {\r\n            Authorization: Authorization,\r\n            XCosSecurityToken: StsData.XCosSecurityToken || '',\r\n            Token: StsData.Token || '',\r\n            ClientIP: StsData.ClientIP || '',\r\n            ClientUA: StsData.ClientUA || '',\r\n        };\r\n        cb(AuthData);\r\n    };\r\n\r\n    // 先判断是否有临时密钥\r\n    if (StsData.ExpiredTime && StsData.ExpiredTime - (util.getSkewTime(self.options.SystemClockOffset) / 1000) > 60) { // 如果缓存的临时密钥有效，并还有超过60秒有效期就直接使用\r\n        calcAuthByTmpKey();\r\n    } else if (self.options.getAuthorization) { // 外部计算签名或获取临时密钥\r\n        self.options.getAuthorization.call(self, {\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n            Method: params.Method,\r\n            Key: KeyName,\r\n            Pathname: Pathname,\r\n            Query: params.Query,\r\n            Headers: headers,\r\n            Scope: Scope,\r\n        }, function (AuthData) {\r\n            if (typeof AuthData === 'string') {\r\n                AuthData = {Authorization: AuthData};\r\n            }\r\n            if (AuthData.TmpSecretId &&\r\n                AuthData.TmpSecretKey &&\r\n                AuthData.XCosSecurityToken &&\r\n                AuthData.ExpiredTime) {\r\n                StsData = AuthData || {};\r\n                StsData.Scope = Scope;\r\n                StsData.ScopeKey = ScopeKey;\r\n                self._StsCache.push(StsData);\r\n                calcAuthByTmpKey();\r\n            } else {\r\n                cb(AuthData);\r\n            }\r\n        });\r\n    } else if (self.options.getSTS) { // 外部获取临时密钥\r\n        self.options.getSTS.call(self, {\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n        }, function (data) {\r\n            StsData = data || {};\r\n            StsData.Scope = Scope;\r\n            StsData.ScopeKey = ScopeKey;\r\n            StsData.TmpSecretId = StsData.SecretId;\r\n            StsData.TmpSecretKey = StsData.SecretKey;\r\n            self._StsCache.push(StsData);\r\n            calcAuthByTmpKey();\r\n        });\r\n    } else { // 内部计算获取签名\r\n        return (function () {\r\n            var Authorization = util.getAuth({\r\n                SecretId: params.SecretId || self.options.SecretId,\r\n                SecretKey: params.SecretKey || self.options.SecretKey,\r\n                Method: params.Method,\r\n                Pathname: Pathname,\r\n                Query: params.Query,\r\n                Headers: headers,\r\n                Expires: params.Expires,\r\n                SystemClockOffset: self.options.SystemClockOffset,\r\n            });\r\n            var AuthData = {\r\n                Authorization: Authorization,\r\n                XCosSecurityToken: self.options.XCosSecurityToken,\r\n            };\r\n            cb(AuthData);\r\n            return AuthData;\r\n        })();\r\n    }\r\n    return '';\r\n}\r\n\r\n// 调整时间偏差\r\nfunction allowRetry(err) {\r\n    var allowRetry = false;\r\n    var isTimeError = false;\r\n    var serverDate = (err.headers && (err.headers.date || err.headers.Date)) || '';\r\n    try {\r\n        var errorCode = err.error.Code;\r\n        var errorMessage = err.error.Message;\r\n        if (errorCode === 'RequestTimeTooSkewed' ||\r\n            (errorCode === 'AccessDenied' && errorMessage === 'Request has expired')) {\r\n            isTimeError = true;\r\n        }\r\n    } catch (e) {\r\n    }\r\n    if (err) {\r\n        if (isTimeError && serverDate) {\r\n            var serverTime = Date.parse(serverDate);\r\n            if (this.options.CorrectClockSkew && Math.abs(util.getSkewTime(this.options.SystemClockOffset) - serverTime) >= 30000) {\r\n                console.error('error: Local time is too skewed.');\r\n                this.options.SystemClockOffset = serverTime - Date.now();\r\n                allowRetry = true;\r\n            }\r\n        } else if (Math.round(err.statusCode / 100) === 5) {\r\n            allowRetry = true;\r\n        }\r\n    }\r\n    return allowRetry;\r\n}\r\n\r\n// 获取签名并发起请求\r\nfunction submitRequest(params, callback) {\r\n    var self = this;\r\n\r\n    // 处理 headers\r\n    !params.headers && (params.headers = {});\r\n\r\n    // 处理 query\r\n    !params.qs && (params.qs = {});\r\n    params.VersionId && (params.qs.versionId = params.VersionId);\r\n    params.qs = util.clearKey(params.qs);\r\n\r\n    // 清理 undefined 和 null 字段\r\n    params.headers && (params.headers = util.clearKey(params.headers));\r\n    params.qs && (params.qs = util.clearKey(params.qs));\r\n\r\n    var Query = util.clone(params.qs);\r\n    params.action && (Query[params.action] = '');\r\n\r\n    var next = function (tryIndex) {\r\n        var oldClockOffset = self.options.SystemClockOffset;\r\n        getAuthorizationAsync.call(self, {\r\n            Bucket: params.Bucket || '',\r\n            Region: params.Region || '',\r\n            Method: params.method,\r\n            Key: params.Key,\r\n            Query: Query,\r\n            Headers: params.headers,\r\n            Action: params.Action,\r\n            ResourceKey: params.ResourceKey,\r\n            Scope: params.Scope,\r\n        }, function (err, AuthData) {\r\n            params.AuthData = AuthData;\r\n            _submitRequest.call(self, params, function (err, data) {\r\n                if (err && tryIndex < 2 && (oldClockOffset !== self.options.SystemClockOffset || allowRetry.call(self, err))) {\r\n                    if (params.headers) {\r\n                        delete params.headers.Authorization;\r\n                        delete params.headers['token'];\r\n                        delete params.headers['clientIP'];\r\n                        delete params.headers['clientUA'];\r\n                        delete params.headers['x-cos-security-token'];\r\n                    }\r\n                    next(tryIndex + 1);\r\n                } else {\r\n                    callback(err, data);\r\n                }\r\n            });\r\n        });\r\n    };\r\n    next(0);\r\n\r\n}\r\n\r\n// 发起请求\r\nfunction _submitRequest(params, callback) {\r\n    var self = this;\r\n    var TaskId = params.TaskId;\r\n    if (TaskId && !self._isRunningTask(TaskId)) return;\r\n\r\n    var bucket = params.Bucket;\r\n    var region = params.Region;\r\n    var object = params.Key;\r\n    var method = params.method || 'GET';\r\n    var url = params.url;\r\n    var body = params.body;\r\n    var json = params.json;\r\n    var rawBody = params.rawBody;\r\n\r\n    // url\r\n    url = url || getUrl({\r\n        ForcePathStyle: self.options.ForcePathStyle,\r\n        protocol: self.options.Protocol,\r\n        domain: self.options.Domain,\r\n        bucket: bucket,\r\n        region: region,\r\n        object: object,\r\n    });\r\n    if (params.action) {\r\n        url = url + '?' + params.action;\r\n    }\r\n\r\n    var opt = {\r\n        method: method,\r\n        url: url,\r\n        headers: params.headers,\r\n        qs: params.qs,\r\n        filePath: params.filePath,\r\n        body: body,\r\n        json: json,\r\n    };\r\n\r\n    // 获取签名\r\n    opt.headers.Authorization = params.AuthData.Authorization;\r\n    params.AuthData.Token && (opt.headers['token'] = params.AuthData.Token);\r\n    params.AuthData.ClientIP && (opt.headers['clientIP'] = params.AuthData.ClientIP);\r\n    params.AuthData.ClientUA && (opt.headers['clientUA'] = params.AuthData.ClientUA);\r\n    params.AuthData.XCosSecurityToken && (opt.headers['x-cos-security-token'] = params.AuthData.XCosSecurityToken);\r\n\r\n    // 清理 undefined 和 null 字段\r\n    opt.headers && (opt.headers = util.clearKey(opt.headers));\r\n    opt = util.clearKey(opt);\r\n\r\n    // progress\r\n    if (params.onProgress && typeof params.onProgress === 'function') {\r\n        opt.onProgress = function (e) {\r\n            if (TaskId && !self._isRunningTask(TaskId)) return;\r\n            var loaded = e ? e.loaded : 0;\r\n            params.onProgress({loaded: loaded, total: e.total});\r\n        };\r\n    }\r\n\r\n    self.options.ForcePathStyle && (opt.pathStyle = self.options.ForcePathStyle);\r\n    var sender = REQUEST(opt, function (err, response, body) {\r\n\r\n        // 返回内容添加 状态码 和 headers\r\n        var hasReturned;\r\n        var cb = function (err, data) {\r\n            TaskId && self.off('inner-kill-task', killTask);\r\n            if (hasReturned) return;\r\n            hasReturned = true;\r\n            var attrs = {};\r\n            response && response.statusCode && (attrs.statusCode = response.statusCode);\r\n            response && response.headers && (attrs.headers = response.headers);\r\n            if (err) {\r\n                err = util.extend(err || {}, attrs);\r\n                callback(err, null);\r\n            } else {\r\n                data = util.extend(data || {}, attrs);\r\n                callback(null, data);\r\n            }\r\n        };\r\n\r\n        // 请求错误，发生网络错误\r\n        if (err) {\r\n            cb({error: err});\r\n            return;\r\n        }\r\n\r\n        var jsonRes;\r\n        try {\r\n            jsonRes = util.xml2json(body) || {};\r\n        } catch (e) {\r\n            jsonRes = body || {};\r\n        }\r\n\r\n        // 请求返回码不为 200\r\n        var statusCode = response.statusCode;\r\n        var statusSuccess = Math.floor(statusCode / 100) === 2; // 200 202 204 206\r\n        if (!statusSuccess) {\r\n            cb({error: jsonRes.Error || jsonRes});\r\n            return;\r\n        }\r\n\r\n        // 不对 body 进行转换，body 直接挂载返回\r\n        if (rawBody) {\r\n            jsonRes = {};\r\n            jsonRes.body = body;\r\n        }\r\n\r\n        if (jsonRes.Error) {\r\n            cb({error: jsonRes.Error});\r\n            return;\r\n        }\r\n        cb(null, jsonRes);\r\n    });\r\n\r\n    // kill task\r\n    var killTask = function (data) {\r\n        if (data.TaskId === TaskId) {\r\n            sender && sender.abort && sender.abort();\r\n            self.off('inner-kill-task', killTask);\r\n        }\r\n    };\r\n    TaskId && self.on('inner-kill-task', killTask);\r\n\r\n}\r\n\r\n\r\nvar API_MAP = {\r\n    // Bucket 相关方法\r\n    getService: getService,\r\n    putBucket: putBucket,\r\n    getBucket: getBucket,\r\n    headBucket: headBucket,\r\n    deleteBucket: deleteBucket,\r\n    getBucketAcl: getBucketAcl,\r\n    putBucketAcl: putBucketAcl,\r\n    getBucketCors: getBucketCors,\r\n    putBucketCors: putBucketCors,\r\n    deleteBucketCors: deleteBucketCors,\r\n    getBucketLocation: getBucketLocation,\r\n    putBucketTagging: putBucketTagging,\r\n    getBucketTagging: getBucketTagging,\r\n    deleteBucketTagging: deleteBucketTagging,\r\n    getBucketPolicy: getBucketPolicy,\r\n    putBucketPolicy: putBucketPolicy,\r\n    deleteBucketPolicy: deleteBucketPolicy,\r\n    getBucketLifecycle: getBucketLifecycle,\r\n    putBucketLifecycle: putBucketLifecycle,\r\n    deleteBucketLifecycle: deleteBucketLifecycle,\r\n    putBucketVersioning: putBucketVersioning,\r\n    getBucketVersioning: getBucketVersioning,\r\n    putBucketReplication: putBucketReplication,\r\n    getBucketReplication: getBucketReplication,\r\n    deleteBucketReplication: deleteBucketReplication,\r\n\r\n    // Object 相关方法\r\n    getObject: getObject,\r\n    headObject: headObject,\r\n    listObjectVersions: listObjectVersions,\r\n    putObject: putObject,\r\n    postObject: postObject,\r\n    deleteObject: deleteObject,\r\n    getObjectAcl: getObjectAcl,\r\n    putObjectAcl: putObjectAcl,\r\n    optionsObject: optionsObject,\r\n    putObjectCopy: putObjectCopy,\r\n    deleteMultipleObject: deleteMultipleObject,\r\n    restoreObject: restoreObject,\r\n\r\n    // 分块上传相关方法\r\n    uploadPartCopy: uploadPartCopy,\r\n    multipartInit: multipartInit,\r\n    multipartUpload: multipartUpload,\r\n    multipartComplete: multipartComplete,\r\n    multipartList: multipartList,\r\n    multipartListPart: multipartListPart,\r\n    multipartAbort: multipartAbort,\r\n\r\n    // 工具方法\r\n    getObjectUrl: getObjectUrl,\r\n    getAuth: getAuth,\r\n};\r\n\r\nmodule.exports.init = function (COS, task) {\r\n    task.transferToTaskMethod(API_MAP, 'postObject');\r\n    util.each(API_MAP, function (fn, apiName) {\r\n        COS.prototype[apiName] = util.apiWrapper(apiName, fn);\r\n    });\r\n};\r\n\r\n\r\n/***/ }),\r\n/* 16 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\nvar util = __webpack_require__(0);\r\n\r\nvar originApiMap = {};\r\nvar transferToTaskMethod = function (apiMap, apiName) {\r\n    originApiMap[apiName] = apiMap[apiName];\r\n    apiMap[apiName] = function (params, callback) {\r\n        if (params.SkipTask) {\r\n            originApiMap[apiName].call(this, params, callback);\r\n        } else {\r\n            this._addTask(apiName, params, callback);\r\n        }\r\n    };\r\n};\r\n\r\nvar initTask = function (cos) {\r\n\r\n    var queue = [];\r\n    var tasks = {};\r\n    var uploadingFileCount = 0;\r\n    var nextUploadIndex = 0;\r\n\r\n    // 接口返回简略的任务信息\r\n    var formatTask = function (task) {\r\n        var t = {\r\n            id: task.id,\r\n            Bucket: task.Bucket,\r\n            Region: task.Region,\r\n            Key: task.Key,\r\n            FilePath: task.FilePath,\r\n            state: task.state,\r\n            loaded: task.loaded,\r\n            size: task.size,\r\n            speed: task.speed,\r\n            percent: task.percent,\r\n            hashPercent: task.hashPercent,\r\n            error: task.error,\r\n        };\r\n        if (task.FilePath) t.FilePath = task.FilePath;\r\n        return t;\r\n    };\r\n\r\n    var emitListUpdate = function () {\r\n        cos.emit('list-update', {list: util.map(queue, formatTask)});\r\n    };\r\n\r\n    var clearQueue = function () {\r\n        if (queue.length > cos.options.UploadQueueSize) {\r\n            var i;\r\n            for (i = 0;\r\n                 i < queue.length &&\r\n                 queue.length > cos.options.UploadQueueSize && // 大于队列才处理\r\n                 i < nextUploadIndex; // 小于当前操作的 index 才处理\r\n                 i++) {\r\n                if (!queue[i] || queue[i].state !== 'waiting') {\r\n                    queue.splice(i, 1);\r\n                    nextUploadIndex--;\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    var startNextTask = function () {\r\n        if (nextUploadIndex < queue.length &&\r\n            uploadingFileCount < cos.options.FileParallelLimit) {\r\n            var task = queue[nextUploadIndex];\r\n            if (task.state === 'waiting') {\r\n                uploadingFileCount++;\r\n                task.state = 'checking';\r\n                var apiParams = util.formatParams(task.api, task.params);\r\n                originApiMap[task.api].call(cos, apiParams, function (err, data) {\r\n                    if (!cos._isRunningTask(task.id)) return;\r\n                    if (task.state === 'checking' || task.state === 'uploading') {\r\n                        task.state = err ? 'error' : 'success';\r\n                        err && (task.error = err);\r\n                        uploadingFileCount--;\r\n                        emitListUpdate();\r\n                        startNextTask(cos);\r\n                        task.callback && task.callback(err, data);\r\n                        if (task.state === 'success') {\r\n                            if (task.params) {\r\n                                delete task.params.Body;\r\n                                delete task.params;\r\n                            }\r\n                            delete task.callback;\r\n                        }\r\n                    }\r\n                    clearQueue();\r\n                });\r\n                emitListUpdate();\r\n            }\r\n            nextUploadIndex++;\r\n            startNextTask(cos);\r\n        }\r\n    };\r\n\r\n    var killTask = function (id, switchToState) {\r\n        var task = tasks[id];\r\n        if (!task) return;\r\n        var waiting = task && task.state === 'waiting';\r\n        var running = task && (task.state === 'checking' || task.state === 'uploading');\r\n        if (switchToState === 'canceled' && task.state !== 'canceled' ||\r\n            switchToState === 'paused' && waiting ||\r\n            switchToState === 'paused' && running) {\r\n            if (switchToState === 'paused' && task.params.Body && typeof task.params.Body.pipe === 'function') {\r\n                console.error('stream not support pause');\r\n                return;\r\n            }\r\n            task.state = switchToState;\r\n            cos.emit('inner-kill-task', {TaskId: id, toState: switchToState});\r\n            emitListUpdate();\r\n            if (running) {\r\n                uploadingFileCount--;\r\n                startNextTask(cos);\r\n            }\r\n            if (switchToState === 'canceled') {\r\n                if (task.params) {\r\n                    delete task.params.Body;\r\n                    delete task.params;\r\n                }\r\n                delete task.callback;\r\n            }\r\n        }\r\n        clearQueue();\r\n    };\r\n\r\n    cos._addTasks = function (taskList) {\r\n        util.each(taskList, function (task) {\r\n            cos._addTask(task.api, task.params, task.callback, true);\r\n        });\r\n        emitListUpdate();\r\n    };\r\n\r\n    cos._addTask = function (api, params, callback, ignoreAddEvent) {\r\n\r\n        // 复制参数对象\r\n        params = util.formatParams(api, params);\r\n\r\n        // 生成 id\r\n        var id = util.uuid();\r\n        params.TaskId = id;\r\n        params.TaskReady && params.TaskReady(id);\r\n\r\n        var task = {\r\n            // env\r\n            params: params,\r\n            callback: callback,\r\n            api: api,\r\n            index: queue.length,\r\n            // task\r\n            id: id,\r\n            Bucket: params.Bucket,\r\n            Region: params.Region,\r\n            Key: params.Key,\r\n            FilePath: params.FilePath || '',\r\n            state: 'waiting',\r\n            loaded: 0,\r\n            size: 0,\r\n            speed: 0,\r\n            percent: 0,\r\n            hashPercent: 0,\r\n            error: null,\r\n        };\r\n        var onHashProgress = params.onHashProgress;\r\n        params.onHashProgress = function (info) {\r\n            if (!cos._isRunningTask(task.id)) return;\r\n            task.hashPercent = info.percent;\r\n            onHashProgress && onHashProgress(info);\r\n            emitListUpdate();\r\n        };\r\n        var onProgress = params.onProgress;\r\n        params.onProgress = function (info) {\r\n            if (!cos._isRunningTask(task.id)) return;\r\n            task.state === 'checking' && (task.state = 'uploading');\r\n            task.loaded = info.loaded;\r\n            task.size = info.total;\r\n            task.speed = info.speed;\r\n            task.percent = info.percent;\r\n            onProgress && onProgress(info);\r\n            emitListUpdate();\r\n        };\r\n\r\n        (function () {\r\n            // 获取完文件大小再把任务加入队列\r\n            tasks[id] = task;\r\n            queue.push(task);\r\n            task.size = params.FileSize;\r\n            !ignoreAddEvent && emitListUpdate();\r\n            startNextTask(cos);\r\n            clearQueue();\r\n        })();\r\n        return id;\r\n    };\r\n    cos._isRunningTask = function (id) {\r\n        var task = tasks[id];\r\n        return !!(task && (task.state === 'checking' || task.state === 'uploading'));\r\n    };\r\n    cos.getTaskList = function () {\r\n        return util.map(queue, formatTask);\r\n    };\r\n    cos.cancelTask = function (id) {\r\n        killTask(id, 'canceled')\r\n    };\r\n    cos.pauseTask = function (id) {\r\n        killTask(id, 'paused')\r\n    };\r\n    cos.restartTask = function (id) {\r\n        var task = tasks[id];\r\n        if (task && (task.state === 'paused' || task.state === 'error')) {\r\n            task.state = 'waiting';\r\n            emitListUpdate();\r\n            nextUploadIndex = Math.min(nextUploadIndex, task.index);\r\n            startNextTask();\r\n        }\r\n    };\r\n\r\n};\r\n\r\nmodule.exports.transferToTaskMethod = transferToTaskMethod;\r\nmodule.exports.init = initTask;\r\n\r\n\r\n/***/ })\r\n/******/ ]);\r\n});","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","var base64map = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\r\n \r\n// Global Crypto object\r\nvar Crypto = {};\r\n \r\n// Crypto utilities\r\nvar util = Crypto.util = {\r\n \r\n    // Bit-wise rotate left\r\n    rotl: function (n, b) {\r\n        return (n << b) | (n >>> (32 - b));\r\n    },\r\n \r\n    // Bit-wise rotate right\r\n    rotr: function (n, b) {\r\n        return (n << (32 - b)) | (n >>> b);\r\n    },\r\n \r\n    // Swap big-endian to little-endian and vice versa\r\n    endian: function (n) {\r\n \r\n        // If number given, swap endian\r\n        if (n.constructor == Number) {\r\n            return util.rotl(n,  8) & 0x00FF00FF |\r\n                   util.rotl(n, 24) & 0xFF00FF00;\r\n        }\r\n \r\n        // Else, assume array and swap all items\r\n        for (var i = 0; i < n.length; i++)\r\n            n[i] = util.endian(n[i]);\r\n        return n;\r\n \r\n    },\r\n \r\n    // Generate an array of any length of random bytes\r\n    randomBytes: function (n) {\r\n        for (var bytes = []; n > 0; n--)\r\n            bytes.push(Math.floor(Math.random() * 256));\r\n        return bytes;\r\n    },\r\n \r\n    // Convert a string to a byte array\r\n    stringToBytes: function (str) {\r\n        var bytes = [];\r\n        for (var i = 0; i < str.length; i++)\r\n            bytes.push(str.charCodeAt(i));\r\n        return bytes;\r\n    },\r\n \r\n    // Convert a byte array to a string\r\n    bytesToString: function (bytes) {\r\n        var str = [];\r\n        for (var i = 0; i < bytes.length; i++)\r\n            str.push(String.fromCharCode(bytes[i]));\r\n        return str.join(\"\");\r\n    },\r\n \r\n    // Convert a string to big-endian 32-bit words\r\n    stringToWords: function (str) {\r\n        var words = [];\r\n        for (var c = 0, b = 0; c < str.length; c++, b += 8)\r\n            words[b >>> 5] |= str.charCodeAt(c) << (24 - b % 32);\r\n        return words;\r\n    },\r\n \r\n    // Convert a byte array to big-endian 32-bits words\r\n    bytesToWords: function (bytes) {\r\n        var words = [];\r\n        for (var i = 0, b = 0; i < bytes.length; i++, b += 8)\r\n            words[b >>> 5] |= bytes[i] << (24 - b % 32);\r\n        return words;\r\n    },\r\n \r\n    // Convert big-endian 32-bit words to a byte array\r\n    wordsToBytes: function (words) {\r\n        var bytes = [];\r\n        for (var b = 0; b < words.length * 32; b += 8)\r\n            bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\r\n        return bytes;\r\n    },\r\n \r\n    // Convert a byte array to a hex string\r\n    bytesToHex: function (bytes) {\r\n        var hex = [];\r\n        for (var i = 0; i < bytes.length; i++) {\r\n            hex.push((bytes[i] >>> 4).toString(16));\r\n            hex.push((bytes[i] & 0xF).toString(16));\r\n        }\r\n        return hex.join(\"\");\r\n    },\r\n \r\n    // Convert a hex string to a byte array\r\n    hexToBytes: function (hex) {\r\n        var bytes = [];\r\n        for (var c = 0; c < hex.length; c += 2)\r\n            bytes.push(parseInt(hex.substr(c, 2), 16));\r\n        return bytes;\r\n    },\r\n \r\n    // Convert a byte array to a base-64 string\r\n    bytesToBase64: function (bytes) {\r\n \r\n        // Use browser-native function if it exists\r\n        // if (typeof btoa == \"function\") return btoa(util.bytesToString(bytes));\r\n \r\n        var base64 = [],\r\n            overflow;\r\n \r\n        for (var i = 0; i < bytes.length; i++) {\r\n            switch (i % 3) {\r\n                case 0:\r\n                    base64.push(base64map.charAt(bytes[i] >>> 2));\r\n                    overflow = (bytes[i] & 0x3) << 4;\r\n                    break;\r\n                case 1:\r\n                    base64.push(base64map.charAt(overflow | (bytes[i] >>> 4)));\r\n                    overflow = (bytes[i] & 0xF) << 2;\r\n                    break;\r\n                case 2:\r\n                    base64.push(base64map.charAt(overflow | (bytes[i] >>> 6)));\r\n                    base64.push(base64map.charAt(bytes[i] & 0x3F));\r\n                    overflow = -1;\r\n            }\r\n        }\r\n \r\n        // Encode overflow bits, if there are any\r\n        if (overflow != undefined && overflow != -1)\r\n            base64.push(base64map.charAt(overflow));\r\n \r\n        // Add padding\r\n        while (base64.length % 4 != 0) base64.push(\"=\");\r\n \r\n        return base64.join(\"\");\r\n \r\n    },\r\n \r\n    // Convert a base-64 string to a byte array\r\n    base64ToBytes: function (base64) {\r\n \r\n        // Use browser-native function if it exists\r\n        if (typeof atob == \"function\") return util.stringToBytes(atob(base64));\r\n \r\n        // Remove non-base-64 characters\r\n        base64 = base64.replace(/[^A-Z0-9+\\/]/ig, \"\");\r\n \r\n        var bytes = [];\r\n \r\n        for (var i = 0; i < base64.length; i++) {\r\n            switch (i % 4) {\r\n                case 1:\r\n                    bytes.push((base64map.indexOf(base64.charAt(i - 1)) << 2) |\r\n                               (base64map.indexOf(base64.charAt(i)) >>> 4));\r\n                    break;\r\n                case 2:\r\n                    bytes.push(((base64map.indexOf(base64.charAt(i - 1)) & 0xF) << 4) |\r\n                               (base64map.indexOf(base64.charAt(i)) >>> 2));\r\n                    break;\r\n                case 3:\r\n                    bytes.push(((base64map.indexOf(base64.charAt(i - 1)) & 0x3) << 6) |\r\n                               (base64map.indexOf(base64.charAt(i))));\r\n                    break;\r\n            }\r\n        }\r\n \r\n        return bytes;\r\n \r\n    }\r\n \r\n};\r\n \r\n// Crypto mode namespace\r\nCrypto.mode = {};\r\n \r\n//hmac\r\n \r\nvar util = Crypto.util;\r\n \r\nCrypto.HMAC = function (hasher, message, key, options) {\r\n \r\n    // Allow arbitrary length keys\r\n    key = key.length > hasher._blocksize * 4 ?\r\n          hasher(key, { asBytes: true }) :\r\n          util.stringToBytes(key);\r\n \r\n    // XOR keys with pad constants\r\n    var okey = key,\r\n        ikey = key.slice(0);\r\n    for (var i = 0; i < hasher._blocksize * 4; i++) {\r\n        okey[i] ^= 0x5C;\r\n        ikey[i] ^= 0x36;\r\n    }\r\n \r\n    var hmacbytes = hasher(util.bytesToString(okey) +\r\n                           hasher(util.bytesToString(ikey) + message, { asString: true }),\r\n                           { asBytes: true });\r\n    return options && options.asBytes ? hmacbytes :\r\n           options && options.asString ? util.bytesToString(hmacbytes) :\r\n           util.bytesToHex(hmacbytes);\r\n \r\n};\r\n \r\n//sha1\r\n \r\n// Shortcut\r\nvar util = Crypto.util;\r\n \r\n// Public API\r\nvar SHA1 = Crypto.SHA1 = function (message, options) {\r\n    var digestbytes = util.wordsToBytes(SHA1._sha1(message));\r\n    return options && options.asBytes ? digestbytes :\r\n           options && options.asString ? util.bytesToString(digestbytes) :\r\n           util.bytesToHex(digestbytes);\r\n};\r\n \r\n// The core\r\nSHA1._sha1 = function (message) {\r\n \r\n    var m  = util.stringToWords(message),\r\n        l  = message.length * 8,\r\n        w  =  [],\r\n        H0 =  1732584193,\r\n        H1 = -271733879,\r\n        H2 = -1732584194,\r\n        H3 =  271733878,\r\n        H4 = -1009589776;\r\n \r\n    // Padding\r\n    m[l >> 5] |= 0x80 << (24 - l % 32);\r\n    m[((l + 64 >>> 9) << 4) + 15] = l;\r\n \r\n    for (var i = 0; i < m.length; i += 16) {\r\n \r\n        var a = H0,\r\n            b = H1,\r\n            c = H2,\r\n            d = H3,\r\n            e = H4;\r\n \r\n        for (var j = 0; j < 80; j++) {\r\n \r\n            if (j < 16) w[j] = m[i + j];\r\n            else {\r\n                var n = w[j-3] ^ w[j-8] ^ w[j-14] ^ w[j-16];\r\n                w[j] = (n << 1) | (n >>> 31);\r\n            }\r\n \r\n            var t = ((H0 << 5) | (H0 >>> 27)) + H4 + (w[j] >>> 0) + (\r\n                     j < 20 ? (H1 & H2 | ~H1 & H3) + 1518500249 :\r\n                     j < 40 ? (H1 ^ H2 ^ H3) + 1859775393 :\r\n                     j < 60 ? (H1 & H2 | H1 & H3 | H2 & H3) - 1894007588 :\r\n                              (H1 ^ H2 ^ H3) - 899497514);\r\n \r\n            H4 =  H3;\r\n            H3 =  H2;\r\n            H2 = (H1 << 30) | (H1 >>> 2);\r\n            H1 =  H0;\r\n            H0 =  t;\r\n \r\n        }\r\n \r\n        H0 += a;\r\n        H1 += b;\r\n        H2 += c;\r\n        H3 += d;\r\n        H4 += e;\r\n \r\n    }\r\n \r\n    return [H0, H1, H2, H3, H4];\r\n \r\n};\r\n \r\n// Package private blocksize\r\nSHA1._blocksize = 16;\r\n \r\n//base64\r\n \r\n    var Base64 = {\r\n \r\n        // private property\r\n        _keyStr : \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",\r\n \r\n        // public method for encoding\r\n        encode : function (input) {\r\n            var output = \"\";\r\n            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\r\n            var i = 0;\r\n \r\n            input = Base64._utf8_encode(input);\r\n \r\n            while (i < input.length) {\r\n \r\n                chr1 = input.charCodeAt(i++);\r\n                chr2 = input.charCodeAt(i++);\r\n                chr3 = input.charCodeAt(i++);\r\n \r\n                enc1 = chr1 >> 2;\r\n                enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\r\n                enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\r\n                enc4 = chr3 & 63;\r\n \r\n                if (isNaN(chr2)) {\r\n                    enc3 = enc4 = 64;\r\n                } else if (isNaN(chr3)) {\r\n                    enc4 = 64;\r\n                }\r\n \r\n                output = output +\r\n                this._keyStr.charAt(enc1) + this._keyStr.charAt(enc2) +\r\n                this._keyStr.charAt(enc3) + this._keyStr.charAt(enc4);\r\n \r\n            }\r\n \r\n            return output;\r\n        },\r\n \r\n        // public method for decoding\r\n        decode : function (input) {\r\n            var output = \"\";\r\n            var chr1, chr2, chr3;\r\n            var enc1, enc2, enc3, enc4;\r\n            var i = 0;\r\n \r\n            input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\r\n \r\n            while (i < input.length) {\r\n \r\n                enc1 = this._keyStr.indexOf(input.charAt(i++));\r\n                enc2 = this._keyStr.indexOf(input.charAt(i++));\r\n                enc3 = this._keyStr.indexOf(input.charAt(i++));\r\n                enc4 = this._keyStr.indexOf(input.charAt(i++));\r\n \r\n                chr1 = (enc1 << 2) | (enc2 >> 4);\r\n                chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\r\n                chr3 = ((enc3 & 3) << 6) | enc4;\r\n \r\n                output = output + String.fromCharCode(chr1);\r\n \r\n                if (enc3 != 64) {\r\n                    output = output + String.fromCharCode(chr2);\r\n                }\r\n                if (enc4 != 64) {\r\n                    output = output + String.fromCharCode(chr3);\r\n                }\r\n \r\n            }\r\n \r\n            output = Base64._utf8_decode(output);\r\n \r\n            return output;\r\n \r\n        },\r\n \r\n        // private method for UTF-8 encoding\r\n        _utf8_encode : function (string) {\r\n            string = string.replace(/\\r\\n/g,\"\\n\");\r\n            var utftext = \"\";\r\n \r\n            for (var n = 0; n < string.length; n++) {\r\n \r\n                var c = string.charCodeAt(n);\r\n \r\n                if (c < 128) {\r\n                    utftext += String.fromCharCode(c);\r\n                }\r\n                else if((c > 127) && (c < 2048)) {\r\n                    utftext += String.fromCharCode((c >> 6) | 192);\r\n                    utftext += String.fromCharCode((c & 63) | 128);\r\n                }\r\n                else {\r\n                    utftext += String.fromCharCode((c >> 12) | 224);\r\n                    utftext += String.fromCharCode(((c >> 6) & 63) | 128);\r\n                    utftext += String.fromCharCode((c & 63) | 128);\r\n                }\r\n \r\n            }\r\n \r\n            return utftext;\r\n        },\r\n \r\n        // private method for UTF-8 decoding\r\n        _utf8_decode : function (utftext) {\r\n            var string = \"\";\r\n            var i = 0;\r\n            var c = c1 = c2 = 0;\r\n \r\n            while ( i < utftext.length ) {\r\n \r\n                c = utftext.charCodeAt(i);\r\n \r\n                if (c < 128) {\r\n                    string += String.fromCharCode(c);\r\n                    i++;\r\n                }\r\n                else if((c > 191) && (c < 224)) {\r\n                    c2 = utftext.charCodeAt(i+1);\r\n                    string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\r\n                    i += 2;\r\n                }\r\n                else {\r\n                    c2 = utftext.charCodeAt(i+1);\r\n                    c3 = utftext.charCodeAt(i+2);\r\n                    string += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\r\n                    i += 3;\r\n                }\r\n \r\n            }\r\n \r\n            return string;\r\n        }\r\n \r\n    }\r\n \r\nexport {Crypto, Base64}"],"sourceRoot":""}